[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------< com.weeklyreport:weekly-report-backend >---------------
[INFO] Building weekly-report-backend 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.2.0:run (default-cli) > test-compile @ weekly-report-backend >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ weekly-report-backend ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 37 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ weekly-report-backend ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ weekly-report-backend ---
[INFO] skip non existing resourceDirectory /Volumes/project/my-project/backend/src/test/resources
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ weekly-report-backend ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] <<< spring-boot:3.2.0:run (default-cli) < test-compile @ weekly-report-backend <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.2.0:run (default-cli) @ weekly-report-backend ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
[32m :: Spring Boot :: [39m              [2m (v3.2.0)[0;39m

2025-09-23 14:13:47.736 [main] INFO  com.weeklyreport.WeeklyReportApplication - Starting WeeklyReportApplication using Java 23.0.2 with PID 9898 (/Volumes/project/my-project/backend/target/classes started by zhangxiaoyu in /Volumes/project/my-project/backend)
2025-09-23 14:13:47.736 [main] DEBUG com.weeklyreport.WeeklyReportApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-23 14:13:47.737 [main] INFO  com.weeklyreport.WeeklyReportApplication - The following 1 profile is active: "dev"
2025-09-23 14:13:48.338 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-23 14:13:48.385 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 14 JPA repository interfaces.
2025-09-23 14:13:48.950 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-09-23 14:13:48.956 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-09-23 14:13:48.957 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-23 14:13:48.995 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-23 14:13:48.996 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1231 ms
2025-09-23 14:13:49.174 [main] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-23 14:13:49.174 [main] DEBUG o.s.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-23 14:13:49.190 [main] DEBUG com.zaxxer.hikari.HikariConfig - Driver class com.mysql.cj.jdbc.Driver found in Thread context class loader jdk.internal.loader.ClassLoaders$AppClassLoader@18ff02e4
2025-09-23 14:13:49.265 [main] DEBUG o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-09-23 14:13:49.275 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-23 14:13:49.303 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-23 14:13:49.322 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-23 14:13:49.428 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-23 14:13:49.445 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-23 14:13:49.448 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-23 14:13:50.206 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-23 14:13:50.208 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-23 14:13:50.382 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.408 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.439 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.513 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-23 14:13:50.621 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.869 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.871 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.872 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.888 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.894 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.913 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.914 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.914 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.916 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.920 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.934 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.937 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.943 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.946 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.947 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.947 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.948 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.948 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.949 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.949 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.950 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.950 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:50.951 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:51.041 [main] INFO  com.weeklyreport.service.ai.AIServiceFactory - Initializing AI service providers...
2025-09-23 14:13:51.133 [main] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:13:51.156 [main] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:13:51.165 [main] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:13:51.167 [main] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:13:51.168 [main] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@28c92c51] as "application/json"
2025-09-23 14:13:52.421 [main] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:13:55.614 [main] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:13:55.618 [main] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:13:55.618 [main] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"5615315f-ce61-4ab0-a2ad-85926d265f05","object":"chat.completion","created":1758608032,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:13:55.644 [main] INFO  com.weeklyreport.service.ai.AIServiceFactory - Registered AI provider: DeepSeek AI Service - Status: Configured and healthy
2025-09-23 14:13:55.663 [main] INFO  com.weeklyreport.service.ai.AIServiceFactory - Registered AI provider: Mock AI Service for Testing - Status: CONFIGURED
2025-09-23 14:13:55.663 [main] INFO  com.weeklyreport.service.ai.AIServiceFactory - Initialized 2 AI service providers
2025-09-23 14:13:55.676 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.691 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.757 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.766 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.781 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.782 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.783 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.787 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.788 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.788 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.789 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.790 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.790 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.792 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.793 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.794 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.797 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.816 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.818 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.819 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.821 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.836 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.841 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.848 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.849 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.859 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.864 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.865 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.867 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.868 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.871 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.873 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.883 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.884 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.884 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.885 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.886 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.887 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.912 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.914 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.953 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:55.960 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.040 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.041 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.043 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.045 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.046 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.047 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.047 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.048 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.050 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.058 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.086 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.088 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.088 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.090 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.097 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.097 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.098 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.101 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.102 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.102 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.103 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.103 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.104 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.104 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.105 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.105 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.106 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.106 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.108 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.109 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.110 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.112 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.113 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.114 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.115 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.115 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.116 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.116 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.117 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.117 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.118 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.118 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.120 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.121 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.161 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.162 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.227 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.228 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.228 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.228 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.229 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.230 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.236 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.237 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.237 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.238 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.249 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.250 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.251 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.257 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.263 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.264 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.264 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.265 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.266 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.267 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.268 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.269 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.270 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.271 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.272 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.274 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.274 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.275 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.278 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.279 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.280 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.281 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.283 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.284 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.284 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.284 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.285 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.287 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.287 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.288 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.288 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.288 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.289 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.289 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.290 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.290 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.361 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.361 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.370 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.372 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.373 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.375 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.376 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.376 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.377 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.403 [main] INFO  com.weeklyreport.controller.SimpleController - SimpleController initialized successfully!
2025-09-23 14:13:56.411 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.411 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.428 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.429 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.429 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.430 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.431 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.438 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.439 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.440 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.441 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.442 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.466 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.467 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.477 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.480 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.486 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.490 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.491 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.491 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.532 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.533 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.544 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.545 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.546 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.546 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.547 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.548 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.548 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.549 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.549 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.550 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.551 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.579 [main] INFO  com.weeklyreport.service.ai.AIMonitoringService - AI Monitoring Service initialized
2025-09-23 14:13:56.614 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.616 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.648 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.651 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.662 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.663 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.667 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.687 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.691 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.692 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.694 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.695 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.695 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.696 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.696 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.703 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.733 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.733 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.733 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.734 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.734 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.734 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.735 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:56.824 [main] INFO  com.weeklyreport.config.AsyncConfig - 创建异步线程池执行器
2025-09-23 14:13:56.825 [main] INFO  com.weeklyreport.config.AsyncConfig - 异步线程池配置完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100
2025-09-23 14:13:56.839 [main] INFO  com.weeklyreport.config.AsyncConfig - 创建AI分析专用线程池
2025-09-23 14:13:56.839 [main] INFO  com.weeklyreport.config.AsyncConfig - AI分析线程池配置完成 - 核心线程数: 3, 最大线程数: 6
2025-09-23 14:13:57.115 [main] INFO  com.weeklyreport.config.WebMvcConfig - 路径匹配配置：API路径优先于静态资源处理
2025-09-23 14:13:57.189 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 97 mappings in 'requestMappingHandlerMapping'
2025-09-23 14:13:57.250 [main] INFO  com.weeklyreport.config.WebMvcConfig - 配置静态资源处理器，明确排除API路径（包括/ai/**）
2025-09-23 14:13:57.250 [main] INFO  com.weeklyreport.config.WebMvcConfig - 静态资源处理器配置完成，API控制器路径（/ai/**等）已明确排除
2025-09-23 14:13:57.250 [main] DEBUG o.s.web.servlet.config.annotation.WebMvcConfigurer - Default resource handling disabled
2025-09-23 14:13:57.254 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/static/**, /public/**, /css/**, /js/**, /images/**, /webjars/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-09-23 14:13:57.381 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-09-23 14:13:57.499 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@264651eb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55fbc7ab, org.springframework.security.web.context.SecurityContextHolderFilter@6ba4e288, org.springframework.security.web.header.HeaderWriterFilter@45f70c6e, org.springframework.web.filter.CorsFilter@47340483, org.springframework.security.web.authentication.logout.LogoutFilter@f45db3e, com.weeklyreport.security.JwtAuthenticationFilter@1ed9d173, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ef57cba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@530e4d34, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@626ca162, org.springframework.security.web.session.SessionManagementFilter@4fed859f, org.springframework.security.web.access.ExceptionTranslationFilter@6af86379, org.springframework.security.web.access.intercept.AuthorizationFilter@60f1d1cb]
2025-09-23 14:13:57.583 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-23 14:13:57.632 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-23 14:13:57.881 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.885 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.960 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.963 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.964 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.965 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.969 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.969 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.971 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.972 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.973 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.984 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.985 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.987 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.988 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.988 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.989 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.989 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:57.992 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.002 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.002 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.003 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.003 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.009 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.018 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.019 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.019 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.020 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.020 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.021 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.021 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.022 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.022 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.023 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.023 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.023 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.025 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.025 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.026 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.026 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.027 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.029 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.043 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.044 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.045 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.045 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.046 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.047 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.047 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.048 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.048 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.048 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.049 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.050 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.051 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.051 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.052 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.068 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.073 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.087 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.088 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.089 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.089 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.089 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.090 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.090 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.102 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.102 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.113 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.114 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.115 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.115 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.116 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.116 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.117 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.117 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.118 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.128 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.131 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.161 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.162 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.165 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.175 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.176 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.176 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.177 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.177 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.178 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.178 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.178 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.179 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.179 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.179 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.180 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.180 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.180 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.181 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.181 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.182 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.186 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.186 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.187 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.187 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.188 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.188 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.188 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.189 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.189 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.201 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.202 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.226 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.227 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.228 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.228 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.228 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.229 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.229 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.230 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.231 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.232 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.232 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.233 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.233 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.233 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.234 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.234 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.235 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.235 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.235 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.236 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.236 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.236 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.236 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.237 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.237 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.237 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.238 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.319 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-09-23 14:13:58.327 [main] INFO  com.weeklyreport.WeeklyReportApplication - Started WeeklyReportApplication in 10.824 seconds (process running for 11.001)
2025-09-23 14:13:58.368 [main] INFO  com.weeklyreport.config.DataInitializer - === 开始修复现有用户密码编码 ===
2025-09-23 14:13:58.371 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-23 14:13:58.371 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(741172881<open>)] for JPA transaction
2025-09-23 14:13:58.373 [main] DEBUG com.zaxxer.hikari.HikariConfig - WeeklyReportHikariCP-Dev - configuration:
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................false
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - catalog.........................none
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery............."SELECT 1 FROM DUAL"
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............15000
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............{maintainTimeStats=false, password=<masked>, prepStmtCacheSqlLimit=2048, rewriteBatchedStatements=true, elideSetAutoCommits=true, cacheResultSetMetadata=true, cachePrepStmts=true, prepStmtCacheSize=250, useServerPrepStmts=true, useLocalSessionState=true, cacheServerConfiguration=true}
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName................."com.mysql.cj.jdbc.Driver"
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - exceptionOverrideClassName......none
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........{}
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................180000
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......1
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - jdbcUrl.........................jdbc:mysql://localhost:3309/weekly_report_system?useUnicode=true&characterEncoding=UTF-8&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - keepaliveTime...................0
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - leakDetectionThreshold..........30000
2025-09-23 14:13:58.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - maxLifetime.....................900000
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................12
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricRegistry..................none
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricsTrackerFactory...........com.zaxxer.hikari.metrics.micrometer.MicrometerMetricsTrackerFactory@4ce5dba5
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - minimumIdle.....................3
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - password........................<masked>
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - poolName........................"WeeklyReportHikariCP-Dev"
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - readOnly........................false
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - registerMbeans..................false
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - scheduledExecutor...............none
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - schema..........................none
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - threadFactory...................internal
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - transactionIsolation............default
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - username........................"root"
2025-09-23 14:13:58.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - validationTimeout...............8000
2025-09-23 14:13:58.375 [main] INFO  com.zaxxer.hikari.HikariDataSource - WeeklyReportHikariCP-Dev - Starting...
2025-09-23 14:13:58.468 [main] INFO  com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd
2025-09-23 14:13:58.469 [main] INFO  com.zaxxer.hikari.HikariDataSource - WeeklyReportHikariCP-Dev - Start completed.
2025-09-23 14:13:58.472 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6bda3135]
2025-09-23 14:13:58.508 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-09-23 14:13:58.519 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:13:58.520 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.520 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin@company.com]
2025-09-23 14:13:58.520 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi]
2025-09-23 14:13:58.520 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:13:58.520 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.520 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.520 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [super@company.com]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [super_admin]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$hCoFUpB0OlVpDgvDBbCAFOhsYpgmRYMbB5kmL.tenHlaguSXPWRZ6]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:52:53]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager2@company.com]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager2]
2025-09-23 14:13:58.522 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:50]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5Y2KdYNjx53b2s9TJNqT9uF24y7QcvKJFUIcwHZutm4vYIM1QTG1C]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:52:53]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:50]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [zhangxiaoyu@weeklyreport.com]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$WEOJi9a6H16wgG5XnzhWTOqAL44NjYDn/.i7o0FCo3hWNs42IfWO2]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:50]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [zhangxiaoyu]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [8]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$c7a0bqc5aLUXLlH7nKiAP.CJK2q8F7bUd2UfxT/D6yJMZ8qzBPXKC]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:13:58.523 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-23 14:13:58.526 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:13:58.526 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(741172881<open>)]
2025-09-23 14:13:58.528 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(741172881<open>)] after transaction
2025-09-23 14:13:58.531 [main] INFO  com.weeklyreport.config.DataInitializer - 检查 8 个用户的密码编码
2025-09-23 14:13:58.531 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 admin 的密码已经加密，跳过
2025-09-23 14:13:58.531 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 super_admin 的密码已经加密，跳过
2025-09-23 14:13:58.531 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 manager1 的密码已经加密，跳过
2025-09-23 14:13:58.531 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 manager2 的密码已经加密，跳过
2025-09-23 14:13:58.531 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 superadmin 的密码已经加密，跳过
2025-09-23 14:13:58.531 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 zhangxiaoyu 的密码已经加密，跳过
2025-09-23 14:13:58.531 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 admin1 的密码已经加密，跳过
2025-09-23 14:13:58.531 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 admin2 的密码已经加密，跳过
2025-09-23 14:13:58.531 [main] INFO  com.weeklyreport.config.DataInitializer - === 所有用户密码都已正确编码 ===
2025-09-23 14:13:58.532 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.560 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:13:58.563 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin]
2025-09-23 14:13:58.565 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:13:58.565 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:50]
2025-09-23 14:13:58.565 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-23 14:13:58.565 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5Y2KdYNjx53b2s9TJNqT9uF24y7QcvKJFUIcwHZutm4vYIM1QTG1C]
2025-09-23 14:13:58.565 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-23 14:13:58.565 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.565 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:52:53]
2025-09-23 14:13:58.565 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-23 14:13:58.566 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:13:58.566 [main] INFO  com.weeklyreport.config.DataInitializer - Super admin user already exists: superadmin
2025-09-23 14:13:58.566 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.567 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:13:58.567 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [zhangxiaoyu]
2025-09-23 14:13:58.568 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:13:58.569 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:50]
2025-09-23 14:13:58.569 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [zhangxiaoyu@weeklyreport.com]
2025-09-23 14:13:58.569 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$WEOJi9a6H16wgG5XnzhWTOqAL44NjYDn/.i7o0FCo3hWNs42IfWO2]
2025-09-23 14:13:58.569 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-23 14:13:58.569 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.569 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:50]
2025-09-23 14:13:58.569 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [zhangxiaoyu]
2025-09-23 14:13:58.570 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:13:58.570 [main] INFO  com.weeklyreport.config.DataInitializer - Super admin user already exists: zhangxiaoyu
2025-09-23 14:13:58.570 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.570 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:13:58.570 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin]
2025-09-23 14:13:58.572 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:13:58.572 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.572 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin@company.com]
2025-09-23 14:13:58.572 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi]
2025-09-23 14:13:58.572 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:13:58.572 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.572 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.572 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin]
2025-09-23 14:13:58.572 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=1, active=1, idle=0, waiting=0)
2025-09-23 14:13:58.572 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=1, active=1, idle=0, waiting=0)
2025-09-23 14:13:58.573 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:13:58.573 [main] INFO  com.weeklyreport.config.DataInitializer - Admin user already exists: admin
2025-09-23 14:13:58.573 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.574 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:13:58.574 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:13:58.577 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:13:58.577 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:13:58.577 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:13:58.577 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:13:58.577 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:13:58.577 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.577 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:13:58.577 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:13:58.578 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:13:58.578 [main] INFO  com.weeklyreport.config.DataInitializer - Admin user already exists: admin1
2025-09-23 14:13:58.578 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.579 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ed589fd
2025-09-23 14:13:58.579 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:13:58.579 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-23 14:13:58.580 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [8]
2025-09-23 14:13:58.580 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:13:58.580 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-23 14:13:58.580 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$c7a0bqc5aLUXLlH7nKiAP.CJK2q8F7bUd2UfxT/D6yJMZ8qzBPXKC]
2025-09-23 14:13:58.580 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:13:58.580 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.580 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:13:58.580 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-23 14:13:58.581 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:13:58.581 [main] INFO  com.weeklyreport.config.DataInitializer - Admin user already exists: admin2
2025-09-23 14:13:58.581 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.581 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:13:58.581 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:13:58.582 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:13:58.582 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:58.583 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:13:58.583 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$hCoFUpB0OlVpDgvDBbCAFOhsYpgmRYMbB5kmL.tenHlaguSXPWRZ6]
2025-09-23 14:13:58.583 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:13:58.583 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.583 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:52:53]
2025-09-23 14:13:58.583 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:13:58.583 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:13:58.583 [main] INFO  com.weeklyreport.config.DataInitializer - Manager user already exists: manager1
2025-09-23 14:13:58.583 [main] INFO  com.weeklyreport.config.DataInitializer - === 强制重置测试用户密码 ===
2025-09-23 14:13:58.584 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:58.584 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:13:58.584 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin]
2025-09-23 14:13:58.585 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:13:58.585 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:50]
2025-09-23 14:13:58.585 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-23 14:13:58.585 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5Y2KdYNjx53b2s9TJNqT9uF24y7QcvKJFUIcwHZutm4vYIM1QTG1C]
2025-09-23 14:13:58.585 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-23 14:13:58.585 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.585 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:52:53]
2025-09-23 14:13:58.585 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-23 14:13:58.586 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:13:58.595 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@6fe883c6
2025-09-23 14:13:58.607 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After adding stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:13:58.966 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:13:58.966 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(867959509<open>)] for JPA transaction
2025-09-23 14:13:58.966 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33cfde71]
2025-09-23 14:13:58.972 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-09-23 14:13:58.974 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:13:58.975 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:50]
2025-09-23 14:13:58.975 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-23 14:13:58.976 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5Y2KdYNjx53b2s9TJNqT9uF24y7QcvKJFUIcwHZutm4vYIM1QTG1C]
2025-09-23 14:13:58.976 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-23 14:13:58.976 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:58.976 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:52:53]
2025-09-23 14:13:58.976 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-23 14:13:58.978 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:13:58.978 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(867959509<open>)]
2025-09-23 14:13:58.992 [main] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.User */update users 
    set
        email=?,
        password=?,
        role=?,
        status=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.User */update users 
    set
        email=?,
        password=?,
        role=?,
        status=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-09-23 14:13:58.993 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin@weeklyreport.com]
2025-09-23 14:13:58.993 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:VARCHAR) <- [$2a$12$5Midm.UAC2XMpV58EQfJfOPeSXXhfcWpTCEkyNu4gCB3lzVESXAc.]
2025-09-23 14:13:58.993 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [SUPER_ADMIN]
2025-09-23 14:13:58.993 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:ENUM) <- [ACTIVE]
2025-09-23 14:13:58.993 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:TIMESTAMP) <- [2025-09-23T14:13:58.987274]
2025-09-23 14:13:58.994 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [superadmin]
2025-09-23 14:13:58.994 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:BIGINT) <- [5]
2025-09-23 14:13:59.004 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(867959509<open>)] after transaction
2025-09-23 14:13:59.005 [main] INFO  com.weeklyreport.config.DataInitializer - ✅ 重置superadmin密码成功
2025-09-23 14:13:59.005 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:13:59.006 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:13:59.006 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:13:59.007 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:13:59.007 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:59.007 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:13:59.007 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$hCoFUpB0OlVpDgvDBbCAFOhsYpgmRYMbB5kmL.tenHlaguSXPWRZ6]
2025-09-23 14:13:59.007 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:13:59.007 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:59.007 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:52:53]
2025-09-23 14:13:59.007 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:13:59.008 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:13:59.407 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:13:59.407 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1515294537<open>)] for JPA transaction
2025-09-23 14:13:59.407 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29296a51]
2025-09-23 14:13:59.407 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-09-23 14:13:59.407 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:13:59.409 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:13:59.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:13:59.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$hCoFUpB0OlVpDgvDBbCAFOhsYpgmRYMbB5kmL.tenHlaguSXPWRZ6]
2025-09-23 14:13:59.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:13:59.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:13:59.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:52:53]
2025-09-23 14:13:59.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:13:59.410 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:13:59.410 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1515294537<open>)]
2025-09-23 14:13:59.411 [main] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.User */update users 
    set
        email=?,
        password=?,
        role=?,
        status=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.User */update users 
    set
        email=?,
        password=?,
        role=?,
        status=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-09-23 14:13:59.411 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1@company.com]
2025-09-23 14:13:59.411 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:VARCHAR) <- [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:13:59.411 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [MANAGER]
2025-09-23 14:13:59.411 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:ENUM) <- [ACTIVE]
2025-09-23 14:13:59.411 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:TIMESTAMP) <- [2025-09-23T14:13:59.410906]
2025-09-23 14:13:59.411 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [manager1]
2025-09-23 14:13:59.411 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:BIGINT) <- [3]
2025-09-23 14:13:59.415 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1515294537<open>)] after transaction
2025-09-23 14:13:59.416 [main] INFO  com.weeklyreport.config.DataInitializer - ✅ 重置manager1密码成功
2025-09-23 14:13:59.416 [main] INFO  com.weeklyreport.config.DataInitializer - === 强制重置测试用户密码完成 ===
=== SIMPLE COMMENTS TABLE FIX ===
2025-09-23 14:13:59.441 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
Simple comments table fix failed: StatementCallback; bad SQL grammar [ALTER TABLE comments ADD COLUMN IF NOT EXISTS attachments JSON]
=== SIMPLE COMMENTS TABLE FIX COMPLETE ===
2025-09-23 14:14:28.575 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:14:28.576 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:14:28.576 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:14:34.515 [http-nio-8081-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23 14:14:34.516 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-23 14:14:34.516 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-23 14:14:34.516 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-23 14:14:34.516 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-23 14:14:34.517 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@619b8141
2025-09-23 14:14:34.517 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@e26310d
2025-09-23 14:14:34.517 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-23 14:14:34.517 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-09-23 14:14:34.526 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:14:34.533 [http-nio-8081-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:14:34.534 [http-nio-8081-exec-1] WARN  o.s.web.servlet.handler.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-09-23 14:14:34.537 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:14:34.538 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:14:34.539 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:14:34.552 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='manager1', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:14:34.559 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: manager1
2025-09-23 14:14:34.559 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:14:34.559 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1669999566<open>)] for JPA transaction
2025-09-23 14:14:34.559 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@251df686]
2025-09-23 14:14:34.559 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.AuthService - Attempting login for user: manager1
2025-09-23 14:14:34.560 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:14:34.562 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:14:34.564 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:14:34.565 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:14:34.565 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:14:34.565 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:14:34.565 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:14:34.565 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:14:34.565 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:14:34.565 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:14:34.968 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.AuthService - User manager1 logged in successfully
2025-09-23 14:14:34.969 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:14:34.969 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1669999566<open>)]
2025-09-23 14:14:34.971 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1669999566<open>)] after transaction
2025-09-23 14:14:34.971 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.AuthController - Login successful for user: manager1
2025-09-23 14:14:34.975 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:14:34.975 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7b27b8e9]
2025-09-23 14:14:34.981 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:14:34.992 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:14:34.993 [http-nio-8081-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:14:34.993 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:14:34.993 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:14:34.993 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:14:34.994 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='admin1', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:14:34.994 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: admin1
2025-09-23 14:14:34.994 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:14:34.994 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(51473155<open>)] for JPA transaction
2025-09-23 14:14:34.994 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4613e505]
2025-09-23 14:14:34.994 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.AuthService - Attempting login for user: admin1
2025-09-23 14:14:34.995 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:14:34.995 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:14:34.997 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:14:34.997 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:14:34.997 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:14:34.997 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:14:34.997 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:14:34.997 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:14:34.997 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:14:34.997 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:14:35.374 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.AuthService - User admin1 logged in successfully
2025-09-23 14:14:35.374 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:14:35.374 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(51473155<open>)]
2025-09-23 14:14:35.376 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(51473155<open>)] after transaction
2025-09-23 14:14:35.376 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.AuthController - Login successful for user: admin1
2025-09-23 14:14:35.376 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:14:35.376 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@452fb2af]
2025-09-23 14:14:35.376 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:14:35.387 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:14:35.387 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:14:35.387 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 294
2025-09-23 14:14:35.394 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:14:35.395 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:14:35.396 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:14:35.397 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:14:35.397 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects
2025-09-23 14:14:35.397 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:14:35.401 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:14:35.401 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:14:35.401 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:14:35.403 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='状态保护测试项目', description='测试AI回调不会覆盖管理员拒绝状态', phases=0 phases}]
2025-09-23 14:14:35.409 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:14:35.414 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:14:35.415 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:14:35.415 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1743676723<open>)] for JPA transaction
2025-09-23 14:14:35.415 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@168ce54a]
2025-09-23 14:14:35.415 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:14:35.415 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:14:35.416 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:14:35.417 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:14:35.417 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:14:35.417 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:14:35.417 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:14:35.417 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:14:35.417 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:14:35.417 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:14:35.417 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:14:35.418 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:14:35.418 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1743676723<open>)]
2025-09-23 14:14:35.418 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1743676723<open>)] after transaction
2025-09-23 14:14:35.418 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:14:35.420 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:14:35.421 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [状态保护测试项目]
2025-09-23 14:14:35.421 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:14:35.423 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:14:35.423 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:14:35.423 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1416796271<open>)] for JPA transaction
2025-09-23 14:14:35.423 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12346e24]
2025-09-23 14:14:35.428 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:14:35.426769]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [3]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [测试AI状态保护]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [测试成员]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [状态保护测试项目]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [测试止损]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [测试时间]
2025-09-23 14:14:35.430 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:14:35.426787]
2025-09-23 14:14:35.433 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:14:35.434 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:14:35.434 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1416796271<open>)]
2025-09-23 14:14:35.440 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1416796271<open>)] after transaction
2025-09-23 14:14:35.440 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Project created: 4 by user: 3, entering AI analysis
2025-09-23 14:14:35.440 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 4
2025-09-23 14:14:35.440 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 4
项目名称: 状态保护测试项目
项目描述: 测试AI回调不会覆盖管理员拒绝状态
项目成员: 测试成员
预期结果: 测试AI状态保护
时间线: 测试时间
止损点: 测试止损
2025-09-23 14:14:35.441 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：状态保护测试项目
- 项目内容：测试AI回调不会覆盖管理员拒绝状态
- 项目成员：测试成员
- 预期结果：测试AI状态保护
- 时间线：测试时间
- 止损点：测试止损

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:14:35.441 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 4
分析类型: PROJECT_EVALUATION
2025-09-23 14:14:35.441 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:14:35.441 [http-nio-8081-exec-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:14:35.441 [http-nio-8081-exec-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:14:35.441 [http-nio-8081-exec-4] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:14:35.441 [http-nio-8081-exec-4] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:14:35.441 [http-nio-8081-exec-4] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@1044881e] as "application/json"
2025-09-23 14:14:35.996 [http-nio-8081-exec-4] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:14:39.211 [http-nio-8081-exec-4] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:14:39.211 [http-nio-8081-exec-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:14:39.211 [http-nio-8081-exec-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"eaf76ead-3266-43ff-ab20-d2aa48a5f74b","object":"chat.completion","created":1758608075,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:14:39.213 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 4
2025-09-23 14:14:39.213 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:14:39.213 [ForkJoinPool.commonPool-worker-1] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:14:39.213 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:14:39.213 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 4
2025-09-23 14:14:39.213 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 4
2025-09-23 14:14:39.213 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:14:39.214 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:14:39.214 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:14:39.214 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@b68cd6d] as "application/json"
2025-09-23 14:14:39.214 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:14:39.214 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3881e6ae]
2025-09-23 14:14:39.218 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:14:39.750 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:14:43.097 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:14:43.103 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:14:43.103 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"968484c6-4351-4ee1-870e-9166bcc673f1","object":"chat.completion","created":1758608079,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:14:43.103 [ForkJoinPool.commonPool-worker-1] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:14:43.103 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:14:43.104 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：状态保护测试项目\n- 项目内容：测试AI回调不会覆盖管理员拒绝状态\n- 项目成员：测试成员\n- 预期结果：测试AI状态保护\n- 时间线：测试时间\n- 止损点：测试止损\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:14:43.104 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:14:43.104 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:14:43.104 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@5af3270] as "application/json"
2025-09-23 14:14:43.648 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:14:51.187 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects/4/force-submit
2025-09-23 14:14:51.187 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/4/force-submit
2025-09-23 14:14:51.187 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/projects/4/force-submit
2025-09-23 14:14:51.187 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: Bearer
2025-09-23 14:14:51.187 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:14:51.192 [http-nio-8081-exec-6] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/projects/4/force-submit from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-23 14:14:58.577 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:14:58.578 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:14:58.578 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:15:01.545 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:15:01.546 [http-nio-8081-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:15:01.546 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:15:01.546 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:15:01.546 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:15:01.546 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='manager1', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:15:01.547 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: manager1
2025-09-23 14:15:01.547 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:15:01.547 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1736761026<open>)] for JPA transaction
2025-09-23 14:15:01.547 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22864c56]
2025-09-23 14:15:01.547 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.AuthService - Attempting login for user: manager1
2025-09-23 14:15:01.547 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:15:01.548 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:15:01.550 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:15:01.550 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:15:01.550 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:15:01.550 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:15:01.550 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:15:01.550 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:15:01.550 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:15:01.550 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:15:01.933 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.AuthService - User manager1 logged in successfully
2025-09-23 14:15:01.933 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:01.933 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1736761026<open>)]
2025-09-23 14:15:01.934 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1736761026<open>)] after transaction
2025-09-23 14:15:01.934 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.AuthController - Login successful for user: manager1
2025-09-23 14:15:01.935 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:15:01.935 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3eefbdc7]
2025-09-23 14:15:01.935 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:15:01.945 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects/4/force-submit
2025-09-23 14:15:01.945 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/4/force-submit
2025-09-23 14:15:01.945 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/4/force-submit, length: 294
2025-09-23 14:15:01.946 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/4/force-submit
2025-09-23 14:15:01.946 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/4/force-submit
2025-09-23 14:15:01.947 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:15:01.948 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:15:01.948 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/4/force-submit
2025-09-23 14:15:01.948 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:15:01.950 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects/4/force-submit
2025-09-23 14:15:01.950 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects/4/force-submit", parameters={}
2025-09-23 14:15:01.950 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#forceSubmitProject(Long)
2025-09-23 14:15:01.951 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.forceSubmitProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:15:01.952 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.forceSubmitProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:15:01.952 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-23 14:15:01.952 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1955408752<open>)] for JPA transaction
2025-09-23 14:15:01.953 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6c72a74f]
2025-09-23 14:15:01.955 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:15:01.956 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:15:01.957 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:15:01.957 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:15:01.957 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:15:01.957 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:15:01.957 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:15:01.957 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:01.958 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1955408752<open>)]
2025-09-23 14:15:01.959 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1955408752<open>)] after transaction
2025-09-23 14:15:01.959 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:15:01.960 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(624241553<open>)] for JPA transaction
2025-09-23 14:15:01.960 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@42cad7cc]
2025-09-23 14:15:01.960 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:15:01.960 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:15:01.961 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:01.962 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(624241553<open>)]
2025-09-23 14:15:01.963 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(624241553<open>)] after transaction
2025-09-23 14:15:01.963 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:15:01.963 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(911210792<open>)] for JPA transaction
2025-09-23 14:15:01.963 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28cb8492]
2025-09-23 14:15:01.963 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:15:01.963 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:01.965 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(911210792<open>)]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [ADMIN_REVIEWING]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [3]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [测试AI状态保护]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [测试成员]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [状态保护测试项目]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [测试止损]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [测试时间]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:15:01.966147]
2025-09-23 14:15:01.967 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [4]
2025-09-23 14:15:01.973 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(911210792<open>)] after transaction
2025-09-23 14:15:01.973 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Project force submitted (bypassing AI): 4 by user: 3
2025-09-23 14:15:01.973 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:15:01.973 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@264440bd]
2025-09-23 14:15:01.974 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:15:16.897 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:15:16.898 [http-nio-8081-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:15:16.900 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:15:16.900 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:15:16.900 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:15:16.902 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='admin1', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:15:16.904 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: admin1
2025-09-23 14:15:16.904 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:15:16.904 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(554861042<open>)] for JPA transaction
2025-09-23 14:15:16.905 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@60e2c88f]
2025-09-23 14:15:16.905 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.AuthService - Attempting login for user: admin1
2025-09-23 14:15:16.910 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:15:16.915 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:15:16.918 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:15:16.918 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:15:16.918 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:15:16.918 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:15:16.918 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:15:16.918 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:15:16.918 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:15:16.918 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:15:17.302 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.AuthService - User admin1 logged in successfully
2025-09-23 14:15:17.302 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:17.302 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(554861042<open>)]
2025-09-23 14:15:17.304 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(554861042<open>)] after transaction
2025-09-23 14:15:17.304 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.AuthController - Login successful for user: admin1
2025-09-23 14:15:17.305 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:15:17.305 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@b71026e]
2025-09-23 14:15:17.306 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:15:17.317 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing PUT /projects/4/reject
2025-09-23 14:15:17.317 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/4/reject
2025-09-23 14:15:17.317 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/4/reject, length: 290
2025-09-23 14:15:17.318 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/4/reject
2025-09-23 14:15:17.318 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/4/reject
2025-09-23 14:15:17.319 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-23 14:15:17.320 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin1 with authorities: [ROLE_ADMIN]
2025-09-23 14:15:17.320 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin1 for request: /api/projects/4/reject
2025-09-23 14:15:17.320 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-23 14:15:17.322 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured PUT /projects/4/reject
2025-09-23 14:15:17.322 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - PUT "/api/projects/4/reject", parameters={}
2025-09-23 14:15:17.322 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#rejectProject(Long, String)
2025-09-23 14:15:17.323 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [""测试：管理员拒绝该项目""]
2025-09-23 14:15:17.324 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.rejectProject(java.lang.Long,java.lang.String); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:15:17.325 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.rejectProject(java.lang.Long,java.lang.String); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:15:17.325 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-23 14:15:17.325 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1216923525<open>)] for JPA transaction
2025-09-23 14:15:17.327 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e946d72]
2025-09-23 14:15:17.327 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:15:17.327 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REVIEWING]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:02]
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:17.329 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1216923525<open>)]
2025-09-23 14:15:17.330 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1216923525<open>)] after transaction
2025-09-23 14:15:17.330 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:15:17.330 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1509504328<open>)] for JPA transaction
2025-09-23 14:15:17.330 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e74865b]
2025-09-23 14:15:17.330 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin1
2025-09-23 14:15:17.331 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:15:17.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:15:17.332 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:17.333 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1509504328<open>)]
2025-09-23 14:15:17.333 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1509504328<open>)] after transaction
2025-09-23 14:15:17.336 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:15:17.336 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(308708154<open>)] for JPA transaction
2025-09-23 14:15:17.336 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2013e115]
2025-09-23 14:15:17.336 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin1
2025-09-23 14:15:17.337 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:15:17.337 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:17.339 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(308708154<open>)]
2025-09-23 14:15:17.340 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(308708154<open>)] after transaction
2025-09-23 14:15:17.340 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Permission check - User: admin1, isAdmin: true, isSuperAdmin: false, Project status: ADMIN_REVIEWING
2025-09-23 14:15:17.340 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - ADMIN can reject: status ADMIN_REVIEWING matches AI_APPROVED, ADMIN_REVIEWING, or ADMIN_REJECTED
2025-09-23 14:15:17.340 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - ADMIN rejected project: 4 by user: 7
2025-09-23 14:15:17.340 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:15:17.340 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(66837798<open>)] for JPA transaction
2025-09-23 14:15:17.340 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4c2bda95]
2025-09-23 14:15:17.340 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:15:17.341 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REVIEWING]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:15:17.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:15:17.343 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:15:17.343 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:15:17.343 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:02]
2025-09-23 14:15:17.343 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:17.343 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(66837798<open>)]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [ADMIN_REJECTED]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [3]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [测试AI状态保护]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [测试成员]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [状态保护测试项目]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- ["测试：管理员拒绝该项目"]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [测试止损]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [测试时间]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:15:17.343690]
2025-09-23 14:15:17.344 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [4]
2025-09-23 14:15:17.353 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(66837798<open>)] after transaction
2025-09-23 14:15:17.354 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Project rejected: 4 by user: 7 with reason: "测试：管理员拒绝该项目"
2025-09-23 14:15:17.354 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:15:17.354 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@214cebfd]
2025-09-23 14:15:17.354 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:15:22.619 [ForkJoinPool.commonPool-worker-1] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:15:22.623 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:15:22.623 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"6bbd1ee5-1b91-4162-98ff-72ee72f41a9e","object":"chat.completion","created":1758608083,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告：状态保护测试项目\n\n---\n\n#### 1. **项目可行性评估**\n   - **技术可行性**  \n     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  \n     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  \n\n   - **资源可行性**  \n     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  \n     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  \n\n   - **时间可行性**  \n     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  \n     - **结论**：时间可行性待定，需明确时间计划后再评估。  \n\n---\n\n#### 2. **风险评估和建议**\n   - **主要风险**  \n     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  \n     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  \n     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  \n\n   - **风险应对建议**  \n     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  \n     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  \n     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  \n\n---\n\n#### 3. **项目优化建议**\n   - **短期优化**  \n     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  \n     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  \n   - **长期优化**  \n     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  \n     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  \n\n---\n\n#### 4. **总体评价**  \n   - **结论**：**暂不通过**  \n   - **理由**：  \n     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  \n     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  \n   - **后续步骤**：  \n     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  \n\n---\n\n**注**：若需进一步分析，请提供更详细的项目背景或技术文档。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":133,"completion_tokens":744,"total_tokens":877,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":133},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:15:22.624 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:15:22.624 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  
     - **结论**：时间可行性待定，需明确时间计划后再评估。  

---

#### 2. **风险评估和建议**
   - **主要风险**  
     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  
     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  
     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  

   - **风险应对建议**  
     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  
     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  
     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  
     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  
   - **长期优化**  
     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  
     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  

---

#### 4. **总体评价**  
   - **结论**：**暂不通过**  
   - **理由**：  
     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  
     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  
   - **后续步骤**：  
     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  

---

**注**：若需进一步分析，请提供更详细的项目背景或技术文档。
2025-09-23 14:15:22.624 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  
     - **结论**：时间可行性待定，需明确时间计划后再评估。  

---

#### 2. **风险评估和建议**
   - **主要风险**  
     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  
     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  
     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  

   - **风险应对建议**  
     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  
     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  
     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  
     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  
   - **长期优化**  
     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  
     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  

---

#### 4. **总体评价**  
   - **结论**：**暂不通过**  
   - **理由**：  
     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  
     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  
   - **后续步骤**：  
     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  

---

**注**：若需进一步分析，请提供更详细的项目背景或技术文档。
2025-09-23 14:15:22.624 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  
     - **结论**：时间可行性待定，需明确时间计划后再评估。  

---

#### 2. **风险评估和建议**
   - **主要风险**  
     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  
     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  
     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  

   - **风险应对建议**  
     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  
     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  
     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  
     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  
   - **长期优化**  
     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  
     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  

---

#### 4. **总体评价**  
   - **结论**：**暂不通过**  
   - **理由**：  
     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  
     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  
   - **后续步骤**：  
     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  

---

**注**：若需进一步分析，请提供更详细的项目背景或技术文档。",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:15:22.636 [ForkJoinPool.commonPool-worker-1] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体"[truncated 1104 chars]; line: 3, column: 41]
2025-09-23 14:15:22.636 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  
     - **结论**：时间可行性待定，需明确时间计划后再评估。  

---

#### 2. **风险评估和建议**
   - **主要风险**  
     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  
     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  
     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  

   - **风险应对建议**  
     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  
     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  
     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  
     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  
   - **长期优化**  
     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  
     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  

---

#### 4. **总体评价**  
   - **结论**：**暂不通过**  
   - **理由**：  
     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  
     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  
   - **后续步骤**：  
     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  

---

**注**：若需进一步分析，请提供更详细的项目背景或技术文档。
2025-09-23 14:15:22.637 [ForkJoinPool.commonPool-worker-1] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:15:22.637 [ForkJoinPool.commonPool-worker-1] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 39534ms
2025-09-23 14:15:22.637 [ForkJoinPool.commonPool-worker-1] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: 1d21342b-3828-4462-a598-ff63b3b18c36, Time: 43424ms
2025-09-23 14:15:22.638 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 43424ms
2025-09-23 14:15:22.638 [ForkJoinPool.commonPool-worker-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: 1d21342b-3828-4462-a598-ff63b3b18c36
2025-09-23 14:15:22.638 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: 1d21342b-3828-4462-a598-ff63b3b18c36, Provider: DeepSeek AI Service
2025-09-23 14:15:22.639 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 4
2025-09-23 14:15:22.639 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 4
分析ID: 1d21342b-3828-4462-a598-ff63b3b18c36
提供商: DeepSeek AI Service
结果长度: 1455 字符
2025-09-23 14:15:22.639 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  
     - **结论**：时间可行性待定，需明确时间计划后再评估。  

---

#### 2. **风险评估和建议**
   - **主要风险**  
     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  
     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  
     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  

   - **风险应对建议**  
     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  
     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  
     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  
     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  
   - **长期优化**  
     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  
     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  

---

#### 4. **总体评价**  
   - **结论**：**暂不通过**  
   - **理由**：  
     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  
     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  
   - **后续步骤**：  
     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  

---

**注**：若需进一步分析，请提供更详细的项目背景或技术文档。
2025-09-23 14:15:22.639 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 4
2025-09-23 14:15:22.639 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 4，结果: 1d21342b-3828-4462-a598-ff63b3b18c36
2025-09-23 14:15:22.639 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:15:22.639 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(796038509<open>)] for JPA transaction
2025-09-23 14:15:22.639 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6a701ee7]
2025-09-23 14:15:22.640 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 4
2025-09-23 14:15:22.640 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  
     - **结论**：时间可行性待定，需明确时间计划后再评估。  

---

#### 2. **风险评估和建议**
   - **主要风险**  
     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  
     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  
     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  

   - **风险应对建议**  
     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  
     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  
     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  
     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  
   - **长期优化**  
     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  
     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  

---

#### 4. **总体评价**  
   - **结论**：**暂不通过**  
   - **理由**：  
     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  
     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  
   - **后续步骤**：  
     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  

---

**注**：若需进一步分析，请提供更详细的项目背景或技术文档。
2025-09-23 14:15:22.642 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: false
明确拒绝: true
积极指标: true
消极指标: true
置信度: 0.3
通过判断: 拒绝
2025-09-23 14:15:22.642 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 4, 置信度: 0.3
2025-09-23 14:15:22.643 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(796038509<open>)] for JPA transaction
2025-09-23 14:15:22.643 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:15:22.660 [ai-task-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:15:22.663 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:15:22.663 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:15:22.642391]
2025-09-23 14:15:22.663 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.3]
2025-09-23 14:15:22.663 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:15:22.660133]
2025-09-23 14:15:22.663 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [4]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  
     - **结论**：时间可行性待定，需明确时间计划后再评估。  

---

#### 2. **风险评估和建议**
   - **主要风险**  
     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  
     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  
     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  

   - **风险应对建议**  
     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  
     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  
     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  
     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  
   - **长期优化**  
     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  
     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  

---

#### 4. **总体评价**  
   - **结论**：**暂不通过**  
   - **理由**：  
     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  
     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  
   - **后续步骤**：  
     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  

---

**注**：若需进一步分析，请提供更详细的项目背景或技术文档。]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:15:22.664 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:15:22.660161]
2025-09-23 14:15:22.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [8]
2025-09-23 14:15:22.667 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 8, 项目ID: 4, 置信度: 0.3
2025-09-23 14:15:22.667 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 4
置信度: 0.3
是否通过: false
新状态: AI_REJECTED
2025-09-23 14:15:22.667 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 4, 状态: AI_REJECTED
2025-09-23 14:15:22.667 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(796038509<open>)] for JPA transaction
2025-09-23 14:15:22.667 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:15:22.667 [ai-task-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:15:22.667 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:15:22.669 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:15:22.669 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:15:22.669 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:15:22.669 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:15:22.670 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:15:22.670 [ai-task-1] WARN  c.w.service.ai.AICallbackTransactionService - 阻止AI回调覆盖人工审核状态！项目ID: 4, 当前状态: ADMIN_REJECTED, 尝试设置: AI_REJECTED
2025-09-23 14:15:22.671 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 4
最终状态: AI_REJECTED
AI结果ID: 8
2025-09-23 14:15:22.671 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:15:22.671 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(796038509<open>)]
2025-09-23 14:15:22.676 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(796038509<open>)] after transaction
2025-09-23 14:15:28.580 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:15:28.580 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:15:28.580 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:15:34.712 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/4
2025-09-23 14:15:34.712 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/4
2025-09-23 14:15:34.712 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/projects/4
2025-09-23 14:15:34.712 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: Bearer
2025-09-23 14:15:34.712 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:15:34.714 [http-nio-8081-exec-6] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/projects/4 from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-23 14:15:44.731 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/4
2025-09-23 14:15:44.732 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/4
2025-09-23 14:15:44.732 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/projects/4
2025-09-23 14:15:44.732 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: Bearer
2025-09-23 14:15:44.732 [http-nio-8081-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:15:44.735 [http-nio-8081-exec-8] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/projects/4 from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-23 14:15:58.579 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:15:58.581 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:15:58.581 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:16:07.004 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:16:07.004 [http-nio-8081-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:16:07.005 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:16:07.005 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:16:07.005 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:16:07.007 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='admin1', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:16:07.011 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: admin1
2025-09-23 14:16:07.011 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:16:07.012 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(176466953<open>)] for JPA transaction
2025-09-23 14:16:07.012 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5a567d9d]
2025-09-23 14:16:07.012 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.AuthService - Attempting login for user: admin1
2025-09-23 14:16:07.015 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:16:07.027 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:16:07.030 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:16:07.031 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:16:07.031 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:16:07.031 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:16:07.031 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:16:07.031 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:16:07.031 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:16:07.031 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:16:07.417 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.AuthService - User admin1 logged in successfully
2025-09-23 14:16:07.417 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:16:07.417 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(176466953<open>)]
2025-09-23 14:16:07.419 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(176466953<open>)] after transaction
2025-09-23 14:16:07.419 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.AuthController - Login successful for user: admin1
2025-09-23 14:16:07.420 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:16:07.420 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@44588f30]
2025-09-23 14:16:07.420 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:16:07.432 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/4
2025-09-23 14:16:07.432 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/4
2025-09-23 14:16:07.432 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/4, length: 290
2025-09-23 14:16:07.433 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/4
2025-09-23 14:16:07.434 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/4
2025-09-23 14:16:07.434 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-23 14:16:07.435 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin1 with authorities: [ROLE_ADMIN]
2025-09-23 14:16:07.435 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin1 for request: /api/projects/4
2025-09-23 14:16:07.435 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-23 14:16:07.437 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/4
2025-09-23 14:16:07.437 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/4", parameters={}
2025-09-23 14:16:07.437 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:16:07.438 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:16:07.440 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:16:07.443 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:16:07.451 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:16:07.454 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:16:07.457 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:16:07.457 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:16:07.457 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:16:07.457 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [测试成员]
2025-09-23 14:16:07.457 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:16:07.457 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试时间]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试止损]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [7]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:16:07.458 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:16:07.460 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:16:07.466 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:16:07.466 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(445684291<open>)] for JPA transaction
2025-09-23 14:16:07.466 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@72a81f8]
2025-09-23 14:16:07.466 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin1
2025-09-23 14:16:07.467 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:16:07.467 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:16:07.470 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:16:07.470 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:16:07.470 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:16:07.470 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:16:07.470 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:16:07.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:16:07.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:16:07.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:16:07.471 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:16:07.471 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(445684291<open>)]
2025-09-23 14:16:07.474 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(445684291<open>)] after transaction
2025-09-23 14:16:07.478 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:16:07.479 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:16:07.481 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:16:07.483 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:16:07.484 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:16:07.488 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:16:07.490 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:16:07.490 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:16:07.491 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [8]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:ENUM) -> [RISK_ASSESSMENT]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:15:23]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:DOUBLE) -> [0.3]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:15:23]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [PROJECT]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [null]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [DeepSeek AI Service]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [null]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [4]
2025-09-23 14:16:07.493 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:VARCHAR) -> [### 项目可行性分析报告：状态保护测试项目

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **分析**：项目内容聚焦于测试AI回调逻辑是否不会覆盖管理员手动设置的拒绝状态，属于功能验证型测试。技术层面依赖现有测试环境、AI系统接口及权限管理模块的稳定性。若团队已具备自动化测试框架或手动测试用例库，技术实现难度较低。  
     - **结论**：技术可行性高，但需明确测试覆盖的具体技术场景（如并发请求、权限冲突等）。  

   - **资源可行性**  
     - **分析**：项目成员仅为“测试成员”，未明确具体人数、技能匹配度或分工。需确保测试人员熟悉AI系统架构、回调机制及状态管理逻辑。若资源不足或技能缺失，可能影响测试深度。  
     - **结论**：资源可行性中等，建议补充资源规划（如是否需要开发人员支持环境搭建或问题排查）。  

   - **时间可行性**  
     - **分析**：时间线仅标注“测试时间”，未定义具体周期。需根据测试范围（如单场景验证或全流程回归）评估工时。若测试需模拟复杂场景（如高并发或边缘案例），时间可能不足。  
     - **结论**：时间可行性待定，需明确时间计划后再评估。  

---

#### 2. **风险评估和建议**
   - **主要风险**  
     1. **需求模糊风险**：项目目标中“AI状态保护”未明确具体指标（如状态一致性、数据持久化要求），可能导致测试结果无法量化验证。  
     2. **环境依赖风险**：测试需稳定的AI回调环境和权限管理模块，若环境不可靠或存在未修复的底层缺陷，测试可能无效。  
     3. **覆盖不足风险**：仅测试“管理员拒绝状态”可能遗漏其他状态冲突场景（如超时、部分成功等）。  

   - **风险应对建议**  
     - **明确验收标准**：与产品/开发团队确认“状态保护”的具体定义（如状态覆盖的判定规则、日志记录要求）。  
     - **提前验证测试环境**：部署隔离的测试环境，并预演基础流程确保环境可用。  
     - **扩展测试场景**：补充测试用例，包括多状态切换、权限交叉验证等边缘场景。  

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 细化项目目标为可量化指标（例如：“AI回调后，管理员手动拒绝状态的覆盖率为0%”）。  
     - 制定详细测试计划，包括测试用例设计、环境准备周期、回归测试安排。  
   - **长期优化**  
     - 将此类状态保护测试纳入持续集成流程，实现自动化回归。  
     - 建立状态管理测试的标准化文档，便于后续类似项目参考。  

---

#### 4. **总体评价**  
   - **结论**：**暂不通过**  
   - **理由**：  
     - 项目关键信息缺失（如时间线、资源具体配置、技术方案细节），无法全面评估可行性。  
     - 目标描述过于笼统，存在需求模糊风险，可能影响测试有效性和项目价值。  
   - **后续步骤**：  
     建议补充项目规划细节后重新评审，重点明确**测试范围、验收标准、时间计划**。  

---

**注**：若需进一步分析，请提供更详细的项目背景或技术文档。]
2025-09-23 14:16:07.494 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:ENUM) -> [COMPLETED]
2025-09-23 14:16:07.494 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:23]
2025-09-23 14:16:07.495 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:16:07.496 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - Latest AI analysis result found for project: 4, analysis ID: 8
2025-09-23 14:16:07.496 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:16:07.496 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@47723058]
2025-09-23 14:16:07.498 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:16:28.580 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:16:28.581 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:16:28.581 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:16:58.582 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:16:58.584 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:16:58.584 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:17:04.029 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:17:04.034 [http-nio-8081-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:17:04.035 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:17:04.036 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:17:04.036 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:17:04.037 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='admin1', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:17:04.038 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: admin1
2025-09-23 14:17:04.039 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:04.040 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(718924249<open>)] for JPA transaction
2025-09-23 14:17:04.040 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38ff1b3]
2025-09-23 14:17:04.040 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.AuthService - Attempting login for user: admin1
2025-09-23 14:17:04.045 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:17:04.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:17:04.061 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:17:04.061 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:17:04.061 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:17:04.061 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:17:04.061 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:17:04.061 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:17:04.061 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:17:04.061 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:17:04.453 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.AuthService - User admin1 logged in successfully
2025-09-23 14:17:04.453 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:04.453 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(718924249<open>)]
2025-09-23 14:17:04.455 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(718924249<open>)] after transaction
2025-09-23 14:17:04.455 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.AuthController - Login successful for user: admin1
2025-09-23 14:17:04.456 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:04.456 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6043c12c]
2025-09-23 14:17:04.457 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:04.594 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-23 14:17:04.594 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-23 14:17:04.595 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 290
2025-09-23 14:17:04.597 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-23 14:17:04.599 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-23 14:17:04.600 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-23 14:17:04.611 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin1 with authorities: [ROLE_ADMIN]
2025-09-23 14:17:04.611 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin1 for request: /api/weekly-reports/my
2025-09-23 14:17:04.611 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-23 14:17:04.613 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-23 14:17:04.614 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-23 14:17:04.614 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-23 14:17:04.614 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-23 14:17:04.615 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:04.615 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2018456260<open>)] for JPA transaction
2025-09-23 14:17:04.615 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2663581f]
2025-09-23 14:17:04.615 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin1
2025-09-23 14:17:04.616 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:17:04.616 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:17:04.619 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:17:04.619 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:17:04.619 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:17:04.619 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:17:04.619 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:17:04.619 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:17:04.619 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:17:04.619 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:17:04.620 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:04.620 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2018456260<open>)]
2025-09-23 14:17:04.624 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2018456260<open>)] after transaction
2025-09-23 14:17:04.624 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 7, 用户名: admin1, 角色: ADMIN
2025-09-23 14:17:04.624 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-23 14:17:04.624 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2034054500<open>)] for JPA transaction
2025-09-23 14:17:04.626 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5dd71867]
2025-09-23 14:17:04.626 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 7
2025-09-23 14:17:04.630 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-23 14:17:04.632 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:17:04.635 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 0
2025-09-23 14:17:04.643 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT wr,
        ai 
    FROM
        WeeklyReport wr 
    LEFT JOIN
        AIAnalysisResult ai 
            ON ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC,
        ai.completedAt DESC */ select
            distinct wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            ar1_0.id,
            ar1_0.analysis_type,
            ar1_0.completed_at,
            ar1_0.confidence,
            ar1_0.created_at,
            ar1_0.entity_type,
            ar1_0.error_message,
            ar1_0.metadata,
            ar1_0.model_version,
            ar1_0.parameters,
            ar1_0.processing_time_ms,
            ar1_0.report_id,
            ar1_0.result,
            ar1_0.status,
            ar1_0.updated_at 
        from
            weekly_reports wr1_0 
        left join
            ai_analysis_results ar1_0 
                on ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc,
            ar1_0.completed_at desc
Hibernate: 
    /* SELECT
        DISTINCT wr,
        ai 
    FROM
        WeeklyReport wr 
    LEFT JOIN
        AIAnalysisResult ai 
            ON ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC,
        ai.completedAt DESC */ select
            distinct wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            ar1_0.id,
            ar1_0.analysis_type,
            ar1_0.completed_at,
            ar1_0.confidence,
            ar1_0.created_at,
            ar1_0.entity_type,
            ar1_0.error_message,
            ar1_0.metadata,
            ar1_0.model_version,
            ar1_0.parameters,
            ar1_0.processing_time_ms,
            ar1_0.report_id,
            ar1_0.result,
            ar1_0.status,
            ar1_0.updated_at 
        from
            weekly_reports wr1_0 
        left join
            ai_analysis_results ar1_0 
                on ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc,
            ar1_0.completed_at desc
2025-09-23 14:17:04.644 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:17:04.646 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 0
2025-09-23 14:17:04.646 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-23 14:17:04.646 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:04.647 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2034054500<open>)]
2025-09-23 14:17:04.652 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2034054500<open>)] after transaction
2025-09-23 14:17:04.653 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 从数据库获取到的周报数量: 0
2025-09-23 14:17:04.653 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报列表：
2025-09-23 14:17:04.654 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:04.654 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@235c132a]
2025-09-23 14:17:04.656 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:05.904 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-23 14:17:05.912 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-23 14:17:05.913 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 290
2025-09-23 14:17:05.919 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-23 14:17:05.919 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-23 14:17:05.920 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-23 14:17:05.924 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin1 with authorities: [ROLE_ADMIN]
2025-09-23 14:17:05.924 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin1 for request: /api/projects/pending-review
2025-09-23 14:17:05.924 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-23 14:17:05.925 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-23 14:17:05.925 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-23 14:17:05.925 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-23 14:17:05.926 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:17:05.926 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:17:05.927 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:17:05.929 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-23 14:17:05.934 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:17:05.934 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [222]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [7]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [7]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REVIEWING]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:13:06]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [admin1]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [7]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“2”，信息严重不足，无法判断技术复杂度、技术栈要求或开发难度。建议明确具体技术方案（如工具、平台、依赖技术等）后再评估。  
  **结论**：信息缺失，暂无法评估。

- **资源可行性**：  
  项目成员仅2人，但未说明其技能匹配度、分工或可用工时；未提及预算、设备等资源支持。若项目内容简单（如小型工具开发），资源可能足够；若涉及复杂任务，资源明显不足。  
  **结论**：需补充成员能力与资源细节，当前存疑。

- **时间可行性**：  
  时间线为“2”（单位未明确，假设为2周或2月）。若项目内容简单（如“2”代表最小化功能），时间可能充足；但若“2”指复杂目标，则时间压力较大。  
  **结论**：需明确时间单位及任务粒度，否则风险较高。

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目内容“2”无具体描述，可能导致方向偏差或范围蔓延。  
  - **资源瓶颈风险**：成员过少，若遇技术挑战或进度延迟，缺乏缓冲余地。  
  - **沟通与依赖风险**：小型团队需高度协同，若分工不明确易产生效率问题。  

- **建议**：  
  - **明确需求**：将“2”转化为具体、可衡量的目标（如“开发一个含2个功能的MVP”）。  
  - **细化计划**：拆解任务至每日/每周计划，设定里程碑。  
  - **设置检查点**：基于时间线“2”设置中期评审，及时调整策略。

#### 3. 项目优化建议
- **短期优化**：  
  - 补充项目背景、目标用户、核心价值等关键信息。  
  - 定义成员角色（如开发、测试）并评估技能缺口。  
- **长期优化**：  
  - 建立最小可行产品（MVP）思路，优先交付核心价值。  
  - 引入敏捷方法（如每日站会）提升小团队协作效率。

#### 4. 总体评价：**不通过**  
**理由**：  
当前项目信息严重不足，关键要素（如内容、技术路径、资源分配）均未明确，无法进行可靠评估。建议重新规划项目框架，补充详细信息后再审议。

---
**注**：若“222”等项目参数为占位符，请提供实际内容以便更精准分析。]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [0.3]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [DeepSeek AI Service]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [COMPLETED]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [RISK_ASSESSMENT]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [PROJECT]
2025-09-23 14:17:05.935 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [2025-09-23T14:07:35]
2025-09-23 14:17:05.936 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:17:05.941 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Admin fetching pending review projects: 1
2025-09-23 14:17:05.947 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - AI analysis result attached to project 1: result length=994, confidence=0.3
2025-09-23 14:17:05.948 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:17:05.949 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:17:05.949 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:17:05.951 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:17:05.952 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:17:05.952 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:17:05.952 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:17:05.952 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:17:05.952 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:17:05.952 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:17:05.952 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:17:05.952 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:17:05.953 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:17:05.953 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:17:05.953 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:17:05.954 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:17:05.954 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:17:05.954 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:17:05.954 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:17:05.954 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:17:05.954 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:17:05.955 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:17:05.956 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - Project 1 loaded with 2 phases, AI result: Yes
2025-09-23 14:17:05.956 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 pending review projects
2025-09-23 14:17:05.957 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:05.957 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@728570d1]
2025-09-23 14:17:05.959 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:10.272 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing PUT /projects/1/reject
2025-09-23 14:17:10.273 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/1/reject
2025-09-23 14:17:10.273 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/1/reject, length: 290
2025-09-23 14:17:10.274 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/1/reject
2025-09-23 14:17:10.275 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/1/reject
2025-09-23 14:17:10.276 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-23 14:17:10.277 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin1 with authorities: [ROLE_ADMIN]
2025-09-23 14:17:10.277 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin1 for request: /api/projects/1/reject
2025-09-23 14:17:10.277 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-23 14:17:10.279 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured PUT /projects/1/reject
2025-09-23 14:17:10.279 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - PUT "/api/projects/1/reject", parameters={}
2025-09-23 14:17:10.279 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#rejectProject(Long, String)
2025-09-23 14:17:10.280 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [""事实上""]
2025-09-23 14:17:10.280 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.rejectProject(java.lang.Long,java.lang.String); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:17:10.280 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.rejectProject(java.lang.Long,java.lang.String); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:17:10.280 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-23 14:17:10.281 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(838965013<open>)] for JPA transaction
2025-09-23 14:17:10.285 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e3b585d]
2025-09-23 14:17:10.286 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:17:10.286 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:17:10.287 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:17:10.287 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:17:10.287 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REVIEWING]
2025-09-23 14:17:10.287 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:17:10.287 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:17:10.287 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:17:10.287 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:13:06]
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:10.288 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(838965013<open>)]
2025-09-23 14:17:10.289 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(838965013<open>)] after transaction
2025-09-23 14:17:10.289 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:10.289 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(68676308<open>)] for JPA transaction
2025-09-23 14:17:10.289 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1bd10669]
2025-09-23 14:17:10.289 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin1
2025-09-23 14:17:10.290 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:17:10.290 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:10.292 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(68676308<open>)]
2025-09-23 14:17:10.293 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(68676308<open>)] after transaction
2025-09-23 14:17:10.293 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:10.293 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1140352684<open>)] for JPA transaction
2025-09-23 14:17:10.293 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f4a8c4f]
2025-09-23 14:17:10.293 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin1
2025-09-23 14:17:10.294 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:17:10.294 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$jkovhxhF08oaXMeLG2u5S.oDC02itGLNe7LfGsd/.bLzOzq9y/ObG]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:06:51]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:10.295 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1140352684<open>)]
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1140352684<open>)] after transaction
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Permission check - User: admin1, isAdmin: true, isSuperAdmin: false, Project status: ADMIN_REVIEWING
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - ADMIN can reject: status ADMIN_REVIEWING matches AI_APPROVED, ADMIN_REVIEWING, or ADMIN_REJECTED
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - ADMIN rejected project: 1 by user: 7
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(881916243<open>)] for JPA transaction
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1364af08]
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:17:10.296 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REVIEWING]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:13:06]
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:10.298 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(881916243<open>)]
2025-09-23 14:17:10.299 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:17:10.299 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:17:10.299 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [7]
2025-09-23 14:17:10.299 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [ADMIN_REJECTED]
2025-09-23 14:17:10.299 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [3]
2025-09-23 14:17:10.299 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [2]
2025-09-23 14:17:10.299 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [2]
2025-09-23 14:17:10.300 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [2]
2025-09-23 14:17:10.300 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [222]
2025-09-23 14:17:10.300 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- ["事实上"]
2025-09-23 14:17:10.300 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [2]
2025-09-23 14:17:10.300 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:17:10.300 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [2]
2025-09-23 14:17:10.300 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:17:10.299406]
2025-09-23 14:17:10.300 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [1]
2025-09-23 14:17:10.307 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(881916243<open>)] after transaction
2025-09-23 14:17:10.308 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Project rejected: 1 by user: 7 with reason: "事实上"
2025-09-23 14:17:10.308 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:10.308 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5905e4fc]
2025-09-23 14:17:10.309 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:12.578 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-23 14:17:12.578 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-23 14:17:12.578 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 290
2025-09-23 14:17:12.578 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-23 14:17:12.579 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-23 14:17:12.580 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-23 14:17:12.581 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin1 with authorities: [ROLE_ADMIN]
2025-09-23 14:17:12.581 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin1 for request: /api/projects/pending-review
2025-09-23 14:17:12.581 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-23 14:17:12.582 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-23 14:17:12.582 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-23 14:17:12.582 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-23 14:17:12.582 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:17:12.582 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:17:12.583 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:17:12.584 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-23 14:17:12.587 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:17:12.588 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Admin fetching pending review projects: 0
2025-09-23 14:17:12.588 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-23 14:17:12.588 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:12.588 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@13187195]
2025-09-23 14:17:12.588 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:14.894 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/logout
2025-09-23 14:17:14.895 [http-nio-8081-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:17:14.895 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/logout
2025-09-23 14:17:14.895 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-09-23 14:17:14.895 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#logout(HttpServletRequest)
2025-09-23 14:17:14.896 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.AuthController - Logout attempt
2025-09-23 14:17:14.896 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.logout]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:14.896 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(516253200<open>)] for JPA transaction
2025-09-23 14:17:14.896 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ab3bbcb]
2025-09-23 14:17:14.896 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.AuthService - Attempting logout
2025-09-23 14:17:14.896 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.AuthService - User logged out successfully
2025-09-23 14:17:14.896 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:14.897 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(516253200<open>)]
2025-09-23 14:17:14.899 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(516253200<open>)] after transaction
2025-09-23 14:17:14.899 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.AuthController - Logout successful
2025-09-23 14:17:14.899 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:14.899 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2f4b1a73]
2025-09-23 14:17:14.900 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:25.328 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:17:25.329 [http-nio-8081-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:17:25.330 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:17:25.330 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:17:25.330 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:17:25.331 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='manager1', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:17:25.331 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: manager1
2025-09-23 14:17:25.331 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:25.331 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1902282650<open>)] for JPA transaction
2025-09-23 14:17:25.331 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@10db0671]
2025-09-23 14:17:25.331 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.AuthService - Attempting login for user: manager1
2025-09-23 14:17:25.333 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:17:25.335 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:17:25.338 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:17:25.339 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:17:25.339 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:17:25.339 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:17:25.339 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:17:25.339 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:17:25.339 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:17:25.339 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:17:25.729 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.AuthService - User manager1 logged in successfully
2025-09-23 14:17:25.729 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:25.729 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1902282650<open>)]
2025-09-23 14:17:25.730 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1902282650<open>)] after transaction
2025-09-23 14:17:25.730 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.AuthController - Login successful for user: manager1
2025-09-23 14:17:25.730 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:25.730 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@13d00bda]
2025-09-23 14:17:25.731 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:25.859 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-23 14:17:25.859 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-23 14:17:25.859 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 294
2025-09-23 14:17:25.861 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-23 14:17:25.864 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-23 14:17:25.865 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:17:25.868 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:17:25.868 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-23 14:17:25.869 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:17:25.870 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-23 14:17:25.870 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-23 14:17:25.870 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-23 14:17:25.870 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-23 14:17:25.870 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:25.871 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(991247422<open>)] for JPA transaction
2025-09-23 14:17:25.871 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f39394e]
2025-09-23 14:17:25.871 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:17:25.873 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:17:25.873 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:17:25.876 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:17:25.877 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:17:25.877 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:17:25.877 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:17:25.877 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:17:25.877 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:17:25.877 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:17:25.877 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:17:25.877 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:25.878 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(991247422<open>)]
2025-09-23 14:17:25.879 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(991247422<open>)] after transaction
2025-09-23 14:17:25.879 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 3, 用户名: manager1, 角色: MANAGER
2025-09-23 14:17:25.879 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-23 14:17:25.879 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2029906586<open>)] for JPA transaction
2025-09-23 14:17:25.880 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@504e7bfb]
2025-09-23 14:17:25.880 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 3
2025-09-23 14:17:25.881 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-23 14:17:25.881 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:17:25.883 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 0
2025-09-23 14:17:25.886 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        DISTINCT wr,
        ai 
    FROM
        WeeklyReport wr 
    LEFT JOIN
        AIAnalysisResult ai 
            ON ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC,
        ai.completedAt DESC */ select
            distinct wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            ar1_0.id,
            ar1_0.analysis_type,
            ar1_0.completed_at,
            ar1_0.confidence,
            ar1_0.created_at,
            ar1_0.entity_type,
            ar1_0.error_message,
            ar1_0.metadata,
            ar1_0.model_version,
            ar1_0.parameters,
            ar1_0.processing_time_ms,
            ar1_0.report_id,
            ar1_0.result,
            ar1_0.status,
            ar1_0.updated_at 
        from
            weekly_reports wr1_0 
        left join
            ai_analysis_results ar1_0 
                on ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc,
            ar1_0.completed_at desc
Hibernate: 
    /* SELECT
        DISTINCT wr,
        ai 
    FROM
        WeeklyReport wr 
    LEFT JOIN
        AIAnalysisResult ai 
            ON ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC,
        ai.completedAt DESC */ select
            distinct wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            ar1_0.id,
            ar1_0.analysis_type,
            ar1_0.completed_at,
            ar1_0.confidence,
            ar1_0.created_at,
            ar1_0.entity_type,
            ar1_0.error_message,
            ar1_0.metadata,
            ar1_0.model_version,
            ar1_0.parameters,
            ar1_0.processing_time_ms,
            ar1_0.report_id,
            ar1_0.result,
            ar1_0.status,
            ar1_0.updated_at 
        from
            weekly_reports wr1_0 
        left join
            ai_analysis_results ar1_0 
                on ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc,
            ar1_0.completed_at desc
2025-09-23 14:17:25.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:17:25.889 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 0
2025-09-23 14:17:25.889 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-23 14:17:25.890 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:25.890 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2029906586<open>)]
2025-09-23 14:17:25.892 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2029906586<open>)] after transaction
2025-09-23 14:17:25.892 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 从数据库获取到的周报数量: 0
2025-09-23 14:17:25.892 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报列表：
2025-09-23 14:17:25.894 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:25.894 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@55f77c96]
2025-09-23 14:17:25.894 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:27.089 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:17:27.090 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:17:27.090 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:17:27.091 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:17:27.092 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:17:27.093 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:17:27.094 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:17:27.094 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:17:27.094 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:17:27.096 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:17:27.096 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:17:27.096 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:17:27.097 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:17:27.097 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:17:27.097 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:17:27.097 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1634715303<open>)] for JPA transaction
2025-09-23 14:17:27.097 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@69119532]
2025-09-23 14:17:27.097 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:17:27.098 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:17:27.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:17:27.101 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:17:27.101 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:17:27.101 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:17:27.101 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:17:27.101 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:17:27.101 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:17:27.101 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:17:27.102 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:17:27.102 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:17:27.102 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1634715303<open>)]
2025-09-23 14:17:27.103 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1634715303<open>)] after transaction
2025-09-23 14:17:27.104 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:17:27.104 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:17:27.106 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:17:27.108 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:17:27.109 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:17:27.110 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:17:27.110 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:17:27.110 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:17:27.110 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:17:27.110 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:17:27.110 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:17:27.110 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:17:27.111 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:17:27.111 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:17:27.112 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:17:27.113 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:17:27.114 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:17:27.114 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:17:27.114 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:17:27.116 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:17:27.116 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:17:27.117 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:17:27.117 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:17:27.119 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:17:27.120 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:17:27.120 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:17:27.120 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:17:27.122 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:17:27.123 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:17:27.124 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:17:27.124 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4a8abd93]
2025-09-23 14:17:27.124 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:17:28.587 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:17:28.587 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:17:28.587 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:17:58.589 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:17:58.590 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:17:58.590 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:18:01.590 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:18:01.598 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:18:01.598 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 294
2025-09-23 14:18:01.608 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:18:01.609 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:18:01.610 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:01.612 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:01.612 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects
2025-09-23 14:18:01.612 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:01.616 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:18:01.616 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:18:01.616 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:18:01.620 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='33', description='33', phases=2 phases}]
2025-09-23 14:18:01.644 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:01.644 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:01.645 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:01.645 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1832209879<open>)] for JPA transaction
2025-09-23 14:18:01.646 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a68d4f8]
2025-09-23 14:18:01.646 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:01.651 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:01.657 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:01.663 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:01.664 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:01.664 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:01.664 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:01.664 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:01.664 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:01.664 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:01.664 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:01.665 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:01.665 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1832209879<open>)]
2025-09-23 14:18:01.670 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1832209879<open>)] after transaction
2025-09-23 14:18:01.670 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:01.672 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:18:01.672 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [33]
2025-09-23 14:18:01.672 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:18:01.675 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:01.676 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:01.676 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(596258418<open>)] for JPA transaction
2025-09-23 14:18:01.676 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3cd72850]
2025-09-23 14:18:01.676 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:18:01.676733]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [3]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [33]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [3]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [33]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [33]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [3]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [3]
2025-09-23 14:18:01.677 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:18:01.676750]
2025-09-23 14:18:01.680 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:01.680 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:01.680 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(596258418<open>)]
2025-09-23 14:18:01.686 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(596258418<open>)] after transaction
2025-09-23 14:18:01.686 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Project created: 5 by user: 3, entering AI analysis
2025-09-23 14:18:01.686 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 5
2025-09-23 14:18:01.686 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 5
项目名称: 33
项目描述: 33
项目成员: 33
预期结果: 3
时间线: 3
止损点: 3
2025-09-23 14:18:01.686 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：33
- 项目内容：33
- 项目成员：33
- 预期结果：3
- 时间线：3
- 止损点：3

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:18:01.686 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 5
分析类型: PROJECT_EVALUATION
2025-09-23 14:18:01.687 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:18:01.687 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:18:01.687 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:18:01.687 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:18:01.688 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:18:01.688 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@641d617c] as "application/json"
2025-09-23 14:18:02.741 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:18:05.872 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:18:05.873 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:18:05.873 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"320ff454-8eab-4f31-96ff-f164fb772dc4","object":"chat.completion","created":1758608282,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:18:05.873 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 5
2025-09-23 14:18:05.873 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 5
2025-09-23 14:18:05.873 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 5
2025-09-23 14:18:05.873 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:18:05.873 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:18:05.873 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:18:05.873 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:18:05.873 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:18:05.874 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:18:05.874 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@4b83f683] as "application/json"
2025-09-23 14:18:05.874 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:05.874 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1605191293<open>)] for JPA transaction
2025-09-23 14:18:05.874 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17a3124f]
2025-09-23 14:18:05.876 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:18:05.882 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [1]
2025-09-23 14:18:05.882 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:18:05.876453]
2025-09-23 14:18:05.882 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [1]
2025-09-23 14:18:05.882 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [null]
2025-09-23 14:18:05.882 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [1]
2025-09-23 14:18:05.882 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [5]
2025-09-23 14:18:05.882 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [1]
2025-09-23 14:18:05.882 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:18:05.876465]
2025-09-23 14:18:05.883 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [1]
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:18:05.884396]
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [1]
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [null]
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [1]
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [5]
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [1]
2025-09-23 14:18:05.884 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:18:05.884406]
2025-09-23 14:18:05.886 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:05.888 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:05.888 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1605191293<open>)]
2025-09-23 14:18:05.893 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1605191293<open>)] after transaction
2025-09-23 14:18:05.893 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Created 2 phases for project: 5
2025-09-23 14:18:05.894 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:05.894 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@69b5910f]
2025-09-23 14:18:05.895 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:18:06.418 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:18:07.814 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:18:07.814 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:18:07.814 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:18:07.815 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:18:07.816 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:18:07.817 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:07.818 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:07.818 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:18:07.818 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:07.820 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:18:07.820 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:18:07.820 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:18:07.821 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:07.821 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:07.821 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:07.821 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1299265689<open>)] for JPA transaction
2025-09-23 14:18:07.821 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6270d745]
2025-09-23 14:18:07.821 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:07.822 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:07.824 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:07.826 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1299265689<open>)]
2025-09-23 14:18:07.827 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1299265689<open>)] after transaction
2025-09-23 14:18:07.827 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.828 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:18:07.828 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:18:07.830 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:18:07.831 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:18:07.832 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.833 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.834 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:07.834 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:07.836 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:07.837 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.837 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.838 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:07.838 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:18:07.841 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.841 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.841 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:07.842 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:07.844 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.845 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.845 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:07.845 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:18:07.848 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.849 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.849 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:07.850 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:07.852 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:07.854 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.855 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:07.855 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@574b16be]
2025-09-23 14:18:07.855 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:07.909 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:07.911 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:07.911 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:07.912 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:07.913 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:07.913 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:07.914 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:07.914 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:07.914 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:07.916 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:07.916 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:07.916 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:07.917 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:07.917 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:07.917 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.918 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:07.918 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:07.920 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:07.921 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.921 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:07.921 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1997628847<open>)] for JPA transaction
2025-09-23 14:18:07.921 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67c7cc91]
2025-09-23 14:18:07.921 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:07.922 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:07.922 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:07.923 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1997628847<open>)]
2025-09-23 14:18:07.924 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1997628847<open>)] after transaction
2025-09-23 14:18:07.924 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.925 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:07.925 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:07.926 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.927 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:07.927 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:07.927 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:07.927 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:07.927 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:07.932 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:07.932 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:07.932 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:07.932 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@27a8becf]
2025-09-23 14:18:07.933 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:09.256 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:09.256 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:09.256 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:09.259 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:09.260 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:09.261 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:09.264 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:09.264 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:09.264 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:09.266 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:09.266 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:09.266 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:09.266 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:09.266 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:09.267 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:09.267 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:09.268 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:09.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:09.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:09.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:09.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:09.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:09.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:09.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:09.272 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:09.272 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:09.272 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(319415634<open>)] for JPA transaction
2025-09-23 14:18:09.272 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ef4a77f]
2025-09-23 14:18:09.272 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:09.273 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:09.273 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:09.274 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(319415634<open>)]
2025-09-23 14:18:09.275 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(319415634<open>)] after transaction
2025-09-23 14:18:09.275 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:09.275 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:09.276 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:09.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:09.278 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:09.278 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:09.278 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:09.278 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:09.278 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:09.278 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:09.281 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:09.282 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:09.282 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:09.282 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3a5cfc5d]
2025-09-23 14:18:09.282 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:09.940 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:09.941 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:09.941 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:09.941 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:09.943 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:09.943 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:09.944 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:09.944 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:09.944 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:09.946 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:09.946 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:09.946 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:09.946 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:09.947 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:09.947 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:09.947 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:09.949 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:09.950 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:09.951 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:09.951 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:09.952 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:09.952 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:09.952 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(380023686<open>)] for JPA transaction
2025-09-23 14:18:09.952 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f076bb8]
2025-09-23 14:18:09.952 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:09.953 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:09.953 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:09.954 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:09.955 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(380023686<open>)]
2025-09-23 14:18:09.956 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(380023686<open>)] after transaction
2025-09-23 14:18:09.956 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:09.956 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:09.957 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:09.958 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:09.959 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:09.959 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:09.960 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:09.960 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:09.960 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:09.960 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:09.962 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:09.962 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:09.962 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:09.962 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2c324bc6]
2025-09-23 14:18:09.962 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:10.190 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:18:10.190 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:18:10.190 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"8b843d32-8f88-458e-9e15-b5e80a357708","object":"chat.completion","created":1758608286,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:18:10.191 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:18:10.191 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:18:10.191 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：33\n- 项目内容：33\n- 项目成员：33\n- 预期结果：3\n- 时间线：3\n- 止损点：3\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:18:10.191 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:18:10.192 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:18:10.192 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@45440183] as "application/json"
2025-09-23 14:18:10.744 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:18:11.968 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:11.969 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:11.969 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:11.969 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:11.970 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:11.971 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:11.972 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:11.972 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:11.972 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:11.974 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:11.974 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:11.974 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:11.974 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:11.974 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:11.975 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:11.975 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:11.978 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:11.979 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1376816263<open>)] for JPA transaction
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@35645b0e]
2025-09-23 14:18:11.980 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:11.981 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:11.981 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:11.983 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1376816263<open>)]
2025-09-23 14:18:11.984 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1376816263<open>)] after transaction
2025-09-23 14:18:11.984 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:11.984 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:11.985 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:11.987 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:11.988 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:11.988 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:11.988 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:11.989 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:11.989 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:11.990 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:11.990 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:11.990 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:11.990 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:11.992 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:11.993 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:11.993 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:11.993 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1563efa9]
2025-09-23 14:18:11.993 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:13.999 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:14.000 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:14.000 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:14.001 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:14.001 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:14.002 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:14.002 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:14.002 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:14.002 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:14.004 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:14.004 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:14.004 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:14.004 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:14.005 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:14.005 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:14.005 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:14.006 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:14.008 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:14.009 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:14.009 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(554829254<open>)] for JPA transaction
2025-09-23 14:18:14.009 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@8d54af3]
2025-09-23 14:18:14.009 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:14.009 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:14.010 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:14.011 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(554829254<open>)]
2025-09-23 14:18:14.012 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(554829254<open>)] after transaction
2025-09-23 14:18:14.012 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:14.012 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:14.012 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:14.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:14.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:14.014 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:14.015 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:14.015 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:14.015 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:14.015 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:14.017 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:14.017 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:14.017 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:14.017 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@32a919c4]
2025-09-23 14:18:14.017 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:15.622 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:18:15.623 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:18:15.623 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:18:15.624 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:18:15.625 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:18:15.626 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:15.627 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:15.627 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:18:15.627 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:15.629 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:18:15.629 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:18:15.629 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:18:15.629 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:15.629 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:15.629 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:15.629 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1886662638<open>)] for JPA transaction
2025-09-23 14:18:15.630 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@688fb937]
2025-09-23 14:18:15.630 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:15.631 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:15.633 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:15.634 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:15.634 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:15.635 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:15.635 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:15.635 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:15.635 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:15.635 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:15.635 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:15.635 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:15.635 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1886662638<open>)]
2025-09-23 14:18:15.636 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1886662638<open>)] after transaction
2025-09-23 14:18:15.636 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:15.637 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:18:15.638 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:15.640 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:15.640 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:18:15.640 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:15.640 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:18:15.641 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:18:15.642 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:18:15.643 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:15.643 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:15.643 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:15.644 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:15.645 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:15.646 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:15.646 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:15.646 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:15.646 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:18:15.649 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:15.649 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:15.650 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:15.650 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:15.652 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:15.652 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:15.654 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:15.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:18:15.657 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:15.657 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:15.658 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:15.658 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:15.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:15.660 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:15.660 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:15.660 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@62ec234d]
2025-09-23 14:18:15.661 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:16.024 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:16.024 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:16.024 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:16.024 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:16.025 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:16.025 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:16.026 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:16.026 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:16.026 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:16.027 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:16.027 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:16.027 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:16.028 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:16.028 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:16.028 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:16.028 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:16.029 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:16.030 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:16.031 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:16.031 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:16.031 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2080652069<open>)] for JPA transaction
2025-09-23 14:18:16.031 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@99c3186]
2025-09-23 14:18:16.031 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:16.032 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:16.032 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2080652069<open>)]
2025-09-23 14:18:16.033 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2080652069<open>)] after transaction
2025-09-23 14:18:16.034 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:16.034 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:16.034 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:16.035 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:16.036 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:16.036 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:16.036 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:16.036 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:16.036 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:16.037 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:16.038 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:16.038 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:16.038 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@353940e7]
2025-09-23 14:18:16.038 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:17.925 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:17.925 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:17.925 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:17.926 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:17.927 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:17.927 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:17.929 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:17.929 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:17.929 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:17.932 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:17.932 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:17.932 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:17.932 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:17.932 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:17.933 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:17.933 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:17.935 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:17.937 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:17.937 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:17.937 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:17.937 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:17.938 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:17.939 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:17.940 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:17.940 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1423765897<open>)] for JPA transaction
2025-09-23 14:18:17.940 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@50846790]
2025-09-23 14:18:17.940 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:17.940 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:17.941 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:17.942 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1423765897<open>)]
2025-09-23 14:18:17.943 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1423765897<open>)] after transaction
2025-09-23 14:18:17.944 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:17.944 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:17.944 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:17.947 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:17.948 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:17.948 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:17.948 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:17.948 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:17.948 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:17.948 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:17.948 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:17.948 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:17.949 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:17.949 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:17.950 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:17.950 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:17.950 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:17.950 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:17.952 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:17.952 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:17.953 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:17.953 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@10de6a1d]
2025-09-23 14:18:17.953 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:18.044 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:18.044 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:18.044 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:18.045 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:18.045 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:18.046 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:18.046 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:18.046 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:18.046 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:18.048 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:18.048 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:18.048 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:18.048 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:18.048 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:18.049 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:18.049 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:18.049 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:18.051 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:18.052 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:18.053 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:18.053 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:18.053 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1363278040<open>)] for JPA transaction
2025-09-23 14:18:18.053 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2a5b7bbe]
2025-09-23 14:18:18.053 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:18.054 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:18.054 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:18.055 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:18.055 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1363278040<open>)]
2025-09-23 14:18:18.056 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1363278040<open>)] after transaction
2025-09-23 14:18:18.057 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:18.057 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:18.057 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:18.059 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:18.060 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:18.060 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:18.060 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:18.061 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:18.061 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:18.061 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:18.063 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:18.063 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:18.064 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:18.064 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6fc0e265]
2025-09-23 14:18:18.064 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:20.071 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:20.072 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:20.072 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:20.072 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:20.073 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:20.074 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:20.074 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:20.074 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:20.074 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:20.094 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:20.094 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:20.094 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:20.094 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:20.094 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:20.094 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:20.095 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:20.096 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:20.097 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:20.098 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:20.098 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:20.098 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(837567131<open>)] for JPA transaction
2025-09-23 14:18:20.098 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1baaefa5]
2025-09-23 14:18:20.098 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:20.099 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:20.099 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:20.100 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(837567131<open>)]
2025-09-23 14:18:20.101 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(837567131<open>)] after transaction
2025-09-23 14:18:20.101 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:20.102 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:20.102 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:20.104 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:20.105 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:20.105 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:20.106 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:20.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:20.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:20.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:20.108 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:20.108 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:20.108 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:20.108 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@39c6c3bb]
2025-09-23 14:18:20.109 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:22.117 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:22.117 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:22.117 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:22.118 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:22.119 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:22.119 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:22.120 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:22.120 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:22.120 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:22.123 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:22.124 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:22.124 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:22.124 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:22.124 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:22.125 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:22.125 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:22.127 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:22.130 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:22.131 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:22.131 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:22.132 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:22.132 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:22.132 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(959315060<open>)] for JPA transaction
2025-09-23 14:18:22.132 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4ebc0bb1]
2025-09-23 14:18:22.133 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:22.134 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:22.134 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:22.137 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(959315060<open>)]
2025-09-23 14:18:22.139 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(959315060<open>)] after transaction
2025-09-23 14:18:22.140 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:22.141 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:22.141 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:22.144 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:22.146 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:22.146 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:22.147 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:22.147 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:22.147 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:22.148 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:22.152 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:22.152 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:22.152 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:22.152 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1a691e0b]
2025-09-23 14:18:22.152 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:24.158 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:24.159 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:24.159 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:24.159 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:24.160 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:24.160 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:24.161 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:24.161 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:24.161 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:24.162 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:24.162 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:24.163 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:24.163 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:24.163 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:24.163 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:24.164 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:24.165 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:24.166 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:24.167 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:24.167 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:24.167 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1740738116<open>)] for JPA transaction
2025-09-23 14:18:24.167 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5a181916]
2025-09-23 14:18:24.167 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:24.168 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:24.168 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1740738116<open>)]
2025-09-23 14:18:24.169 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1740738116<open>)] after transaction
2025-09-23 14:18:24.170 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:24.170 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:24.170 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:24.171 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:24.172 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:24.172 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:24.172 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:24.173 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:24.173 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:24.173 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:24.175 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:24.175 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:24.175 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:24.175 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@45fad4c9]
2025-09-23 14:18:24.176 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:26.184 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:26.184 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:26.184 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:26.185 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:26.185 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:26.185 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:26.186 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:26.186 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:26.186 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:26.187 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:26.187 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:26.187 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:26.188 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:26.188 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:26.188 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:26.188 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:26.190 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:26.191 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:26.192 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:26.192 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:26.192 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1229633999<open>)] for JPA transaction
2025-09-23 14:18:26.192 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2bdedd1b]
2025-09-23 14:18:26.192 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:26.193 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:26.193 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:26.194 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1229633999<open>)]
2025-09-23 14:18:26.195 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1229633999<open>)] after transaction
2025-09-23 14:18:26.195 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:26.195 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:26.196 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:26.197 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:26.198 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:26.198 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:26.199 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:26.199 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:26.199 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:26.199 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:26.201 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:26.201 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:26.201 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:26.201 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1dffb2f2]
2025-09-23 14:18:26.202 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:28.213 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:28.215 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:28.215 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:28.217 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:28.218 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:28.219 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:28.220 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:28.220 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:28.220 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:28.223 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:28.223 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:28.223 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:28.224 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:28.224 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:28.225 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:28.226 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:28.228 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:28.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:28.231 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:28.231 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:28.231 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(612431315<open>)] for JPA transaction
2025-09-23 14:18:28.231 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2c16ee38]
2025-09-23 14:18:28.232 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:28.233 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:28.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:28.234 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:28.234 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:28.234 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:28.234 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:28.234 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:28.235 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:28.235 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:28.235 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:28.235 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:28.235 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(612431315<open>)]
2025-09-23 14:18:28.235 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(612431315<open>)] after transaction
2025-09-23 14:18:28.236 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:28.236 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:28.237 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:28.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:28.239 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:28.240 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:28.241 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:28.241 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:28.241 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:28.241 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:28.243 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:28.243 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:28.244 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:28.244 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5d759bed]
2025-09-23 14:18:28.245 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:28.595 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:18:28.596 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:18:28.596 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:18:30.252 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:30.252 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:30.252 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:30.252 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:30.253 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:30.253 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:30.254 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:30.254 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:30.254 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:30.256 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:30.256 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:30.256 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:30.256 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:30.256 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:30.257 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:30.257 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:30.258 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:30.259 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:30.260 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:30.260 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:30.260 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:30.260 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(61070399<open>)] for JPA transaction
2025-09-23 14:18:30.260 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@19ed8c91]
2025-09-23 14:18:30.260 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:30.263 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:30.263 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:30.267 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:30.267 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:30.267 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:30.267 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:30.267 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:30.267 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:30.267 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:30.267 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:30.268 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:30.268 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(61070399<open>)]
2025-09-23 14:18:30.268 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(61070399<open>)] after transaction
2025-09-23 14:18:30.269 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:30.270 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:30.270 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:30.272 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:30.273 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:30.273 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:30.273 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:30.273 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:30.273 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:30.275 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:30.275 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:30.275 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:30.275 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@38b6bd0c]
2025-09-23 14:18:30.276 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:32.283 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:32.284 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:32.284 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:32.285 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:32.286 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:32.286 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:32.287 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:32.287 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:32.287 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:32.289 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:32.290 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:32.290 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:32.290 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:32.290 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:32.291 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:32.291 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:32.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:32.294 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:32.295 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:32.295 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:32.295 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1431232018<open>)] for JPA transaction
2025-09-23 14:18:32.295 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@596c336a]
2025-09-23 14:18:32.295 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:32.296 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:32.296 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:32.298 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1431232018<open>)]
2025-09-23 14:18:32.299 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1431232018<open>)] after transaction
2025-09-23 14:18:32.299 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:32.300 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:32.300 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:32.301 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:32.302 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:32.302 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:32.304 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:32.305 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:32.305 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:32.305 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:32.307 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:32.307 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:32.308 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:32.308 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5fd117af]
2025-09-23 14:18:32.308 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:34.171 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:18:34.172 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:18:34.172 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:18:34.173 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:18:34.174 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:18:34.175 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:34.175 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:34.175 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:18:34.176 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:34.176 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:18:34.176 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:18:34.176 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:18:34.177 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:34.177 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:34.177 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:34.177 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(57711593<open>)] for JPA transaction
2025-09-23 14:18:34.177 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@45e2580f]
2025-09-23 14:18:34.177 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:34.177 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:34.179 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:34.180 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:34.181 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(57711593<open>)]
2025-09-23 14:18:34.182 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(57711593<open>)] after transaction
2025-09-23 14:18:34.182 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.183 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:18:34.183 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:34.185 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:18:34.186 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:18:34.187 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.188 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.188 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:34.188 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:34.190 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:34.191 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.191 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.192 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:34.192 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:18:34.193 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.193 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.194 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:34.194 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:34.195 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.195 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.195 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:34.195 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:18:34.198 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.198 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.198 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:34.198 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:34.200 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:34.201 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.201 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:34.201 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6835c1fa]
2025-09-23 14:18:34.202 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:34.314 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:34.315 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:34.315 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:34.315 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:34.316 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:34.317 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:34.318 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:34.318 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:34.318 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:34.319 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:34.319 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:34.320 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:34.320 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:34.320 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:34.321 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.321 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:34.321 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:34.323 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:34.324 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:34.324 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:34.324 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.324 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:34.324 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1535437796<open>)] for JPA transaction
2025-09-23 14:18:34.324 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@692fd99d]
2025-09-23 14:18:34.324 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:34.325 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:34.325 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:34.326 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:34.327 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1535437796<open>)]
2025-09-23 14:18:34.328 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1535437796<open>)] after transaction
2025-09-23 14:18:34.328 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.329 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:34.329 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:34.330 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:34.331 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.332 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:34.332 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:34.332 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:34.332 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:34.332 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:34.334 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:34.334 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:34.334 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:34.334 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5679c247]
2025-09-23 14:18:34.335 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:35.116 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:35.117 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:35.117 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:35.119 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:35.121 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:35.122 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:35.124 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:35.124 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:35.124 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:35.127 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:35.127 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:35.128 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:35.128 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:35.128 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:35.129 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:35.129 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:35.131 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:35.133 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:35.134 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:35.135 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:35.135 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1599271164<open>)] for JPA transaction
2025-09-23 14:18:35.135 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3da06c8b]
2025-09-23 14:18:35.135 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:35.136 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:35.136 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:35.139 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:35.139 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:35.139 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:35.139 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:35.139 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:35.139 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:35.139 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:35.139 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:35.140 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:35.140 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1599271164<open>)]
2025-09-23 14:18:35.141 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1599271164<open>)] after transaction
2025-09-23 14:18:35.141 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:35.141 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:35.141 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:35.143 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:35.143 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:35.143 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:35.143 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:35.143 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:35.143 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:35.143 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:35.144 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:35.145 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:35.145 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:35.146 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:35.146 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:35.146 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:35.146 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:35.149 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:35.149 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:35.149 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:35.149 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@48fbca65]
2025-09-23 14:18:35.150 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:36.344 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:36.344 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:36.344 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:36.345 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:36.346 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:36.346 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:36.347 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:36.347 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:36.347 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:36.349 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:36.350 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:36.350 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:36.350 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:36.350 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:36.351 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:36.351 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:36.352 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:36.354 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:36.354 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:36.354 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:36.354 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:36.354 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:36.354 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:36.354 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:36.355 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:36.356 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:36.356 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:36.356 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1215682848<open>)] for JPA transaction
2025-09-23 14:18:36.356 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5c4f7833]
2025-09-23 14:18:36.356 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:36.357 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:36.357 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:36.358 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1215682848<open>)]
2025-09-23 14:18:36.359 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1215682848<open>)] after transaction
2025-09-23 14:18:36.360 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:36.360 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:36.360 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:36.361 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:36.362 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:36.362 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:36.362 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:36.363 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:36.363 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:36.363 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:36.363 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:36.363 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:36.366 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:36.366 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:36.367 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:36.367 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@8f873e0]
2025-09-23 14:18:36.367 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:38.301 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:18:38.303 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:18:38.304 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:18:38.307 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:18:38.309 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:18:38.312 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:38.314 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:38.314 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:18:38.314 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:38.318 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:18:38.318 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:18:38.318 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:18:38.318 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:38.318 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:38.318 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:38.318 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1440243169<open>)] for JPA transaction
2025-09-23 14:18:38.319 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63aa455d]
2025-09-23 14:18:38.319 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:38.321 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:38.323 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:38.324 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:38.325 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1440243169<open>)]
2025-09-23 14:18:38.326 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1440243169<open>)] after transaction
2025-09-23 14:18:38.326 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.327 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:18:38.327 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:38.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:18:38.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:18:38.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:18:38.333 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.333 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.334 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:38.334 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:38.336 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:38.337 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:38.337 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:38.337 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:38.337 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:38.338 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:38.338 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:38.338 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:38.338 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:38.338 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:38.339 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.339 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.340 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:38.340 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:18:38.342 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.342 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.342 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:38.342 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:38.344 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.344 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.345 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:38.345 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:18:38.347 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.348 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.348 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:38.348 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:38.351 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:38.352 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.353 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:38.353 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7ad9da4e]
2025-09-23 14:18:38.354 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:38.378 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:38.378 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:38.378 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:38.379 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:38.379 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:38.380 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:38.380 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:38.380 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:38.380 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:38.382 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:38.382 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:38.382 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:38.382 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:38.383 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:38.383 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.384 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:38.384 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:38.386 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:38.387 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.387 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:38.387 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(229562539<open>)] for JPA transaction
2025-09-23 14:18:38.387 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1d4bc8fa]
2025-09-23 14:18:38.388 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:38.388 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:38.388 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:38.390 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(229562539<open>)]
2025-09-23 14:18:38.391 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(229562539<open>)] after transaction
2025-09-23 14:18:38.391 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.392 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:38.392 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:38.393 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:38.394 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.394 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:38.394 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:38.395 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:38.395 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:38.395 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:38.396 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:38.396 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:38.397 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:38.397 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@25df3b7]
2025-09-23 14:18:38.397 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:40.405 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:40.406 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:40.406 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:40.407 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:40.408 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:40.409 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:40.410 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:40.410 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:40.410 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:40.413 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:40.413 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:40.413 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:40.414 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:40.414 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:40.415 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:40.417 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:40.419 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:40.422 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:40.423 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:40.423 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:40.423 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:40.424 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:40.424 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(442957338<open>)] for JPA transaction
2025-09-23 14:18:40.424 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5616d864]
2025-09-23 14:18:40.424 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:40.425 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:40.425 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:40.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:40.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:40.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:40.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:40.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:40.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:40.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:40.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:40.427 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:40.427 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(442957338<open>)]
2025-09-23 14:18:40.427 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(442957338<open>)] after transaction
2025-09-23 14:18:40.428 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:40.428 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:40.428 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:40.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:40.432 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:40.432 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:40.433 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:40.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:40.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:40.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:40.436 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:40.436 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:40.437 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:40.437 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@50d7cb39]
2025-09-23 14:18:40.437 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:42.457 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:42.458 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:42.458 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:42.458 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:42.459 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:42.459 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:42.460 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:42.460 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:42.460 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:42.462 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:42.462 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:42.462 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:42.462 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:42.462 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:42.463 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:42.463 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:42.464 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:42.465 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:42.466 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:42.467 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:42.467 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(906822603<open>)] for JPA transaction
2025-09-23 14:18:42.467 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@76b636a9]
2025-09-23 14:18:42.467 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:42.467 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:42.468 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:42.469 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(906822603<open>)]
2025-09-23 14:18:42.470 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(906822603<open>)] after transaction
2025-09-23 14:18:42.471 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:42.471 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:42.471 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:42.473 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:42.474 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:42.474 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:42.475 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:42.475 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:42.475 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:42.475 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:42.477 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:42.477 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:42.477 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:42.477 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2ffc6450]
2025-09-23 14:18:42.477 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:44.484 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:44.485 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:44.485 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:44.485 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:44.486 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:44.487 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:44.488 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:44.488 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:44.488 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:44.491 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:44.491 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:44.491 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:44.491 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:44.491 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:44.492 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:44.492 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:44.494 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:44.495 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:44.496 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:44.496 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:44.496 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:44.496 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1227650984<open>)] for JPA transaction
2025-09-23 14:18:44.496 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40e47dcb]
2025-09-23 14:18:44.496 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:44.497 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:44.497 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:44.499 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1227650984<open>)]
2025-09-23 14:18:44.500 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1227650984<open>)] after transaction
2025-09-23 14:18:44.501 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:44.501 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:44.501 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:44.503 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:44.503 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:44.503 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:44.504 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:44.505 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:44.505 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:44.506 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:44.506 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:44.506 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:44.506 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:44.508 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:44.508 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:44.509 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:44.509 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@288cda08]
2025-09-23 14:18:44.509 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:46.515 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:46.515 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:46.515 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:46.516 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:46.516 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:46.517 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:46.517 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:46.517 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:46.517 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:46.518 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:46.518 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:46.519 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:46.519 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:46.519 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:46.520 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:46.521 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:46.522 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:46.524 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:46.525 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:46.525 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:46.525 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:46.525 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:46.526 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1558625815<open>)] for JPA transaction
2025-09-23 14:18:46.526 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4a98a750]
2025-09-23 14:18:46.526 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:46.526 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:46.526 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:46.531 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1558625815<open>)]
2025-09-23 14:18:46.532 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1558625815<open>)] after transaction
2025-09-23 14:18:46.533 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:46.533 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:46.533 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:46.546 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:46.547 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:46.547 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:46.547 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:46.547 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:46.547 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:46.547 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:46.547 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:46.547 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:46.548 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:46.548 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:46.548 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:46.548 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:46.553 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:46.554 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:46.554 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:46.554 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@41b33de5]
2025-09-23 14:18:46.554 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:46.572 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/5
2025-09-23 14:18:46.572 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/5
2025-09-23 14:18:46.572 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/5, length: 294
2025-09-23 14:18:46.573 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/5
2025-09-23 14:18:46.573 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/5
2025-09-23 14:18:46.574 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:46.575 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:46.575 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/5
2025-09-23 14:18:46.575 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:46.579 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/5
2025-09-23 14:18:46.580 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/5", parameters={}
2025-09-23 14:18:46.580 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:18:46.580 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:46.580 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:46.581 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:46.581 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:18:46.581 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:46.584 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:18:46.585 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:46.585 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:46.585 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(472681110<open>)] for JPA transaction
2025-09-23 14:18:46.585 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@16df3309]
2025-09-23 14:18:46.585 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:46.586 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:46.586 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:46.588 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:46.588 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:46.588 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:46.588 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:46.588 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:46.588 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:46.588 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:46.588 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:46.589 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:46.589 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(472681110<open>)]
2025-09-23 14:18:46.589 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(472681110<open>)] after transaction
2025-09-23 14:18:46.590 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:46.590 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:46.590 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:46.592 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:46.593 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:46.593 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:46.595 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:18:46.595 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:46.595 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:18:46.595 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:18:46.598 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:46.598 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 5
2025-09-23 14:18:46.598 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:46.598 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@604b27d8]
2025-09-23 14:18:46.598 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:47.335 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:18:47.336 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:18:47.336 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"1a2ce887-0df4-48c9-9a5d-0c4d35bfd33b","object":"chat.completion","created":1758608290,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告\n\n**项目名称**：33  \n**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。\n\n---\n\n#### 1. 项目可行性评估\n- **技术可行性**：  \n  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  \n  - **建议**：明确技术方案细节，评估团队技术匹配度。\n\n- **资源可行性**：  \n  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  \n  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。\n\n- **时间可行性**：  \n  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  \n  - **建议**：分解任务至具体阶段（如规划、执行、测试），并设定关键节点检查。\n\n---\n\n#### 2. 风险评估与建议\n- **主要风险**：  \n  - **信息模糊风险**：所有字段均为“3”，目标、范围、约束不清晰，易导致方向偏差。  \n  - **资源冲突风险**：成员数量“33”可能涉及跨部门协作，沟通成本较高。  \n  - **进度风险**：若时间线“3”为短期，但任务复杂，可能面临交付压力。  \n\n- **应对建议**：  \n  - 明确项目范围与目标（如使用SMART原则定义“预期结果：3”）。  \n  - 建立风险管理计划，定期审查止损点“3”的触发条件（如预算超支30%即终止）。  \n  - 引入敏捷方法，分阶段验证成果以降低不确定性。  \n\n---\n\n#### 3. 项目优化建议\n- **短期优化**：  \n  - 补充项目核心信息：例如将“项目内容：33”具体化为可执行任务（如开发某功能、举办某活动）。  \n  - 设定量化指标：将“预期结果：3”转化为可测量目标（如用户增长30%、成本降低15%）。  \n- **长期优化**：  \n  - 建立动态调整机制：根据阶段性成果灵活调整时间线或资源分配。  \n  - 加强沟通机制：针对“33人团队”，采用每日站会或周报同步进度。  \n\n---\n\n#### 4. 总体评价\n- **结论**：**不通过**（基于当前信息）  \n- **理由**：  \n  - 项目关键信息缺失，无法进行有效可行性判断，存在较高模糊性和潜在失控风险。  \n  - 若补充详细规划（如明确范围、技术路径、预算），可重新评估为“有条件通过”。  \n\n---\n\n**附录**：建议使用项目章程（Project Charter）模板重新定义项目，确保目标、范围、资源、风险等要素清晰化。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":117,"completion_tokens":688,"total_tokens":805,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":117},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:18:47.337 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:18:47.337 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告

**项目名称**：33  
**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。

---

#### 1. 项目可行性评估
- **技术可行性**：  
  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  
  - **建议**：明确技术方案细节，评估团队技术匹配度。

- **资源可行性**：  
  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  
  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。

- **时间可行性**：  
  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  
  - **建议**：分解任务至具体阶段（如规划、执行、测试），并设定关键节点检查。

---

#### 2. 风险评估与建议
- **主要风险**：  
  - **信息模糊风险**：所有字段均为“3”，目标、范围、约束不清晰，易导致方向偏差。  
  - **资源冲突风险**：成员数量“33”可能涉及跨部门协作，沟通成本较高。  
  - **进度风险**：若时间线“3”为短期，但任务复杂，可能面临交付压力。  

- **应对建议**：  
  - 明确项目范围与目标（如使用SMART原则定义“预期结果：3”）。  
  - 建立风险管理计划，定期审查止损点“3”的触发条件（如预算超支30%即终止）。  
  - 引入敏捷方法，分阶段验证成果以降低不确定性。  

---

#### 3. 项目优化建议
- **短期优化**：  
  - 补充项目核心信息：例如将“项目内容：33”具体化为可执行任务（如开发某功能、举办某活动）。  
  - 设定量化指标：将“预期结果：3”转化为可测量目标（如用户增长30%、成本降低15%）。  
- **长期优化**：  
  - 建立动态调整机制：根据阶段性成果灵活调整时间线或资源分配。  
  - 加强沟通机制：针对“33人团队”，采用每日站会或周报同步进度。  

---

#### 4. 总体评价
- **结论**：**不通过**（基于当前信息）  
- **理由**：  
  - 项目关键信息缺失，无法进行有效可行性判断，存在较高模糊性和潜在失控风险。  
  - 若补充详细规划（如明确范围、技术路径、预算），可重新评估为“有条件通过”。  

---

**附录**：建议使用项目章程（Project Charter）模板重新定义项目，确保目标、范围、资源、风险等要素清晰化。
2025-09-23 14:18:47.337 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告

**项目名称**：33  
**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。

---

#### 1. 项目可行性评估
- **技术可行性**：  
  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  
  - **建议**：明确技术方案细节，评估团队技术匹配度。

- **资源可行性**：  
  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  
  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。

- **时间可行性**：  
  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  
  - **建议**：分解任务至具体阶段（如规划、执行、测试），并设定关键节点检查。

---

#### 2. 风险评估与建议
- **主要风险**：  
  - **信息模糊风险**：所有字段均为“3”，目标、范围、约束不清晰，易导致方向偏差。  
  - **资源冲突风险**：成员数量“33”可能涉及跨部门协作，沟通成本较高。  
  - **进度风险**：若时间线“3”为短期，但任务复杂，可能面临交付压力。  

- **应对建议**：  
  - 明确项目范围与目标（如使用SMART原则定义“预期结果：3”）。  
  - 建立风险管理计划，定期审查止损点“3”的触发条件（如预算超支30%即终止）。  
  - 引入敏捷方法，分阶段验证成果以降低不确定性。  

---

#### 3. 项目优化建议
- **短期优化**：  
  - 补充项目核心信息：例如将“项目内容：33”具体化为可执行任务（如开发某功能、举办某活动）。  
  - 设定量化指标：将“预期结果：3”转化为可测量目标（如用户增长30%、成本降低15%）。  
- **长期优化**：  
  - 建立动态调整机制：根据阶段性成果灵活调整时间线或资源分配。  
  - 加强沟通机制：针对“33人团队”，采用每日站会或周报同步进度。  

---

#### 4. 总体评价
- **结论**：**不通过**（基于当前信息）  
- **理由**：  
  - 项目关键信息缺失，无法进行有效可行性判断，存在较高模糊性和潜在失控风险。  
  - 若补充详细规划（如明确范围、技术路径、预算），可重新评估为“有条件通过”。  

---

**附录**：建议使用项目章程（Project Charter）模板重新定义项目，确保目标、范围、资源、风险等要素清晰化。
2025-09-23 14:18:47.337 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告

**项目名称**：33  
**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。

---

#### 1. 项目可行性评估
- **技术可行性**：  
  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  
  - **建议**：明确技术方案细节，评估团队技术匹配度。

- **资源可行性**：  
  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  
  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。

- **时间可行性**：  
  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  
  - **建议**：分解任务至具体阶段（如规划、执行、测试），并设定关键节点检查。

---

#### 2. 风险评估与建议
- **主要风险**：  
  - **信息模糊风险**：所有字段均为“3”，目标、范围、约束不清晰，易导致方向偏差。  
  - **资源冲突风险**：成员数量“33”可能涉及跨部门协作，沟通成本较高。  
  - **进度风险**：若时间线“3”为短期，但任务复杂，可能面临交付压力。  

- **应对建议**：  
  - 明确项目范围与目标（如使用SMART原则定义“预期结果：3”）。  
  - 建立风险管理计划，定期审查止损点“3”的触发条件（如预算超支30%即终止）。  
  - 引入敏捷方法，分阶段验证成果以降低不确定性。  

---

#### 3. 项目优化建议
- **短期优化**：  
  - 补充项目核心信息：例如将“项目内容：33”具体化为可执行任务（如开发某功能、举办某活动）。  
  - 设定量化指标：将“预期结果：3”转化为可测量目标（如用户增长30%、成本降低15%）。  
- **长期优化**：  
  - 建立动态调整机制：根据阶段性成果灵活调整时间线或资源分配。  
  - 加强沟通机制：针对“33人团队”，采用每日站会或周报同步进度。  

---

#### 4. 总体评价
- **结论**：**不通过**（基于当前信息）  
- **理由**：  
  - 项目关键信息缺失，无法进行有效可行性判断，存在较高模糊性和潜在失控风险。  
  - 若补充详细规划（如明确范围、技术路径、预算），可重新评估为“有条件通过”。  

---

**附录**：建议使用项目章程（Project Charter）模板重新定义项目，确保目标、范围、资源、风险等要素清晰化。",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:18:47.338 [ForkJoinPool.commonPool-worker-2] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告

**项目名称**：33  
**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。

---

#### 1. 项目可行性评估
- **技术可行性**：  
  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  
  - **建议**：明确技术方案细节，评估团队技术匹配度。

- **资源可行性**：  
  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  
  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。

- **时间可行性**：  
  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  
  - *"[truncated 882 chars]; line: 3, column: 32]
2025-09-23 14:18:47.338 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告

**项目名称**：33  
**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。

---

#### 1. 项目可行性评估
- **技术可行性**：  
  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  
  - **建议**：明确技术方案细节，评估团队技术匹配度。

- **资源可行性**：  
  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  
  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。

- **时间可行性**：  
  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  
  - **建议**：分解任务至具体阶段（如规划、执行、测试），并设定关键节点检查。

---

#### 2. 风险评估与建议
- **主要风险**：  
  - **信息模糊风险**：所有字段均为“3”，目标、范围、约束不清晰，易导致方向偏差。  
  - **资源冲突风险**：成员数量“33”可能涉及跨部门协作，沟通成本较高。  
  - **进度风险**：若时间线“3”为短期，但任务复杂，可能面临交付压力。  

- **应对建议**：  
  - 明确项目范围与目标（如使用SMART原则定义“预期结果：3”）。  
  - 建立风险管理计划，定期审查止损点“3”的触发条件（如预算超支30%即终止）。  
  - 引入敏捷方法，分阶段验证成果以降低不确定性。  

---

#### 3. 项目优化建议
- **短期优化**：  
  - 补充项目核心信息：例如将“项目内容：33”具体化为可执行任务（如开发某功能、举办某活动）。  
  - 设定量化指标：将“预期结果：3”转化为可测量目标（如用户增长30%、成本降低15%）。  
- **长期优化**：  
  - 建立动态调整机制：根据阶段性成果灵活调整时间线或资源分配。  
  - 加强沟通机制：针对“33人团队”，采用每日站会或周报同步进度。  

---

#### 4. 总体评价
- **结论**：**不通过**（基于当前信息）  
- **理由**：  
  - 项目关键信息缺失，无法进行有效可行性判断，存在较高模糊性和潜在失控风险。  
  - 若补充详细规划（如明确范围、技术路径、预算），可重新评估为“有条件通过”。  

---

**附录**：建议使用项目章程（Project Charter）模板重新定义项目，确保目标、范围、资源、风险等要素清晰化。
2025-09-23 14:18:47.338 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:18:47.338 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 37147ms
2025-09-23 14:18:47.338 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: f248ca1f-14da-419c-a4da-03f76a53319a, Time: 41465ms
2025-09-23 14:18:47.338 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 41465ms
2025-09-23 14:18:47.338 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: f248ca1f-14da-419c-a4da-03f76a53319a
2025-09-23 14:18:47.338 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: f248ca1f-14da-419c-a4da-03f76a53319a, Provider: DeepSeek AI Service
2025-09-23 14:18:47.338 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 5
2025-09-23 14:18:47.338 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 5
分析ID: f248ca1f-14da-419c-a4da-03f76a53319a
提供商: DeepSeek AI Service
结果长度: 1233 字符
2025-09-23 14:18:47.338 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告

**项目名称**：33  
**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。

---

#### 1. 项目可行性评估
- **技术可行性**：  
  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  
  - **建议**：明确技术方案细节，评估团队技术匹配度。

- **资源可行性**：  
  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  
  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。

- **时间可行性**：  
  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  
  - **建议**：分解任务至具体阶段（如规划、执行、测试），并设定关键节点检查。

---

#### 2. 风险评估与建议
- **主要风险**：  
  - **信息模糊风险**：所有字段均为“3”，目标、范围、约束不清晰，易导致方向偏差。  
  - **资源冲突风险**：成员数量“33”可能涉及跨部门协作，沟通成本较高。  
  - **进度风险**：若时间线“3”为短期，但任务复杂，可能面临交付压力。  

- **应对建议**：  
  - 明确项目范围与目标（如使用SMART原则定义“预期结果：3”）。  
  - 建立风险管理计划，定期审查止损点“3”的触发条件（如预算超支30%即终止）。  
  - 引入敏捷方法，分阶段验证成果以降低不确定性。  

---

#### 3. 项目优化建议
- **短期优化**：  
  - 补充项目核心信息：例如将“项目内容：33”具体化为可执行任务（如开发某功能、举办某活动）。  
  - 设定量化指标：将“预期结果：3”转化为可测量目标（如用户增长30%、成本降低15%）。  
- **长期优化**：  
  - 建立动态调整机制：根据阶段性成果灵活调整时间线或资源分配。  
  - 加强沟通机制：针对“33人团队”，采用每日站会或周报同步进度。  

---

#### 4. 总体评价
- **结论**：**不通过**（基于当前信息）  
- **理由**：  
  - 项目关键信息缺失，无法进行有效可行性判断，存在较高模糊性和潜在失控风险。  
  - 若补充详细规划（如明确范围、技术路径、预算），可重新评估为“有条件通过”。  

---

**附录**：建议使用项目章程（Project Charter）模板重新定义项目，确保目标、范围、资源、风险等要素清晰化。
2025-09-23 14:18:47.338 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 5
2025-09-23 14:18:47.338 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 5，结果: f248ca1f-14da-419c-a4da-03f76a53319a
2025-09-23 14:18:47.338 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:18:47.338 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(123579661<open>)] for JPA transaction
2025-09-23 14:18:47.338 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@99a4396]
2025-09-23 14:18:47.339 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 5
2025-09-23 14:18:47.339 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告

**项目名称**：33  
**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。

---

#### 1. 项目可行性评估
- **技术可行性**：  
  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  
  - **建议**：明确技术方案细节，评估团队技术匹配度。

- **资源可行性**：  
  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  
  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。

- **时间可行性**：  
  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  
  - **建议**：分解任务至具体阶段（如规划、执行、测试），并设定关键节点检查。

---

#### 2. 风险评估与建议
- **主要风险**：  
  - **信息模糊风险**：所有字段均为“3”，目标、范围、约束不清晰，易导致方向偏差。  
  - **资源冲突风险**：成员数量“33”可能涉及跨部门协作，沟通成本较高。  
  - **进度风险**：若时间线“3”为短期，但任务复杂，可能面临交付压力。  

- **应对建议**：  
  - 明确项目范围与目标（如使用SMART原则定义“预期结果：3”）。  
  - 建立风险管理计划，定期审查止损点“3”的触发条件（如预算超支30%即终止）。  
  - 引入敏捷方法，分阶段验证成果以降低不确定性。  

---

#### 3. 项目优化建议
- **短期优化**：  
  - 补充项目核心信息：例如将“项目内容：33”具体化为可执行任务（如开发某功能、举办某活动）。  
  - 设定量化指标：将“预期结果：3”转化为可测量目标（如用户增长30%、成本降低15%）。  
- **长期优化**：  
  - 建立动态调整机制：根据阶段性成果灵活调整时间线或资源分配。  
  - 加强沟通机制：针对“33人团队”，采用每日站会或周报同步进度。  

---

#### 4. 总体评价
- **结论**：**不通过**（基于当前信息）  
- **理由**：  
  - 项目关键信息缺失，无法进行有效可行性判断，存在较高模糊性和潜在失控风险。  
  - 若补充详细规划（如明确范围、技术路径、预算），可重新评估为“有条件通过”。  

---

**附录**：建议使用项目章程（Project Charter）模板重新定义项目，确保目标、范围、资源、风险等要素清晰化。
2025-09-23 14:18:47.339 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: false
明确拒绝: true
积极指标: true
消极指标: true
置信度: 0.3
通过判断: 拒绝
2025-09-23 14:18:47.339 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 5, 置信度: 0.3
2025-09-23 14:18:47.339 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(123579661<open>)] for JPA transaction
2025-09-23 14:18:47.339 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:18:47.341 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:18:47.342 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:18:47.342 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:18:47.339750]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.3]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:18:47.340822]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [5]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告

**项目名称**：33  
**分析维度**：基于提供的简化信息（所有关键字段均为“3”），以下分析将基于假设和通用项目管理原则展开。若实际项目细节不同，需重新评估。

---

#### 1. 项目可行性评估
- **技术可行性**：  
  - 当前信息不足，无法判断技术实现难度。若“33”代表成熟技术（如标准化流程），则可行性较高；若涉及创新或复杂技术，需进一步评估技术壁垒。  
  - **建议**：明确技术方案细节，评估团队技术匹配度。

- **资源可行性**：  
  - 项目成员数量“33”可能表示团队规模，但未说明成员技能、分工或资源投入（如预算、设备）。若资源分配合理，则可行；否则可能存在资源短缺风险。  
  - **建议**：制定资源分配矩阵（如RAM），确保关键角色有对应成员负责。

- **时间可行性**：  
  - 时间线“3”未明确单位（天/月/年）。若为3个月以内的小型项目，时间可能充足；若为长期项目，需评估里程碑设置的合理性。  
  - **建议**：分解任务至具体阶段（如规划、执行、测试），并设定关键节点检查。

---

#### 2. 风险评估与建议
- **主要风险**：  
  - **信息模糊风险**：所有字段均为“3”，目标、范围、约束不清晰，易导致方向偏差。  
  - **资源冲突风险**：成员数量“33”可能涉及跨部门协作，沟通成本较高。  
  - **进度风险**：若时间线“3”为短期，但任务复杂，可能面临交付压力。  

- **应对建议**：  
  - 明确项目范围与目标（如使用SMART原则定义“预期结果：3”）。  
  - 建立风险管理计划，定期审查止损点“3”的触发条件（如预算超支30%即终止）。  
  - 引入敏捷方法，分阶段验证成果以降低不确定性。  

---

#### 3. 项目优化建议
- **短期优化**：  
  - 补充项目核心信息：例如将“项目内容：33”具体化为可执行任务（如开发某功能、举办某活动）。  
  - 设定量化指标：将“预期结果：3”转化为可测量目标（如用户增长30%、成本降低15%）。  
- **长期优化**：  
  - 建立动态调整机制：根据阶段性成果灵活调整时间线或资源分配。  
  - 加强沟通机制：针对“33人团队”，采用每日站会或周报同步进度。  

---

#### 4. 总体评价
- **结论**：**不通过**（基于当前信息）  
- **理由**：  
  - 项目关键信息缺失，无法进行有效可行性判断，存在较高模糊性和潜在失控风险。  
  - 若补充详细规划（如明确范围、技术路径、预算），可重新评估为“有条件通过”。  

---

**附录**：建议使用项目章程（Project Charter）模板重新定义项目，确保目标、范围、资源、风险等要素清晰化。]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:18:47.343 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:18:47.340837]
2025-09-23 14:18:47.347 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:18:47.347 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 9, 项目ID: 5, 置信度: 0.3
2025-09-23 14:18:47.347 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 5
置信度: 0.3
是否通过: false
新状态: AI_REJECTED
2025-09-23 14:18:47.347 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 5, 状态: AI_REJECTED
2025-09-23 14:18:47.347 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(123579661<open>)] for JPA transaction
2025-09-23 14:18:47.347 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:18:47.347 [ai-task-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:18:47.348 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:47.349 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:18:47.350 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:47.350 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI回调更新状态：项目ID: 5, 从 AI_ANALYZING 更新为 AI_REJECTED
2025-09-23 14:18:47.350 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 关联AI分析结果ID: 9 到项目: 5
2025-09-23 14:18:47.350 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(123579661<open>)] for JPA transaction
2025-09-23 14:18:47.351 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:18:47.351 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 项目状态已更新，ID: 5, 状态: AI_REJECTED
2025-09-23 14:18:47.351 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 5
最终状态: AI_REJECTED
AI结果ID: 9
2025-09-23 14:18:47.351 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:47.351 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(123579661<open>)]
2025-09-23 14:18:47.352 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [9]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_REJECTED]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [3]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [33]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [3]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [33]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [33]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [3]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [3]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:18:47.352001]
2025-09-23 14:18:47.352 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [5]
2025-09-23 14:18:47.362 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(123579661<open>)] after transaction
2025-09-23 14:18:52.429 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:18:52.430 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:18:52.430 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:18:52.430 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:18:52.431 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:18:52.432 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:18:52.433 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:18:52.433 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:18:52.433 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:18:52.434 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:18:52.434 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:18:52.434 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:18:52.435 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:52.435 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:18:52.435 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:18:52.435 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(225051868<open>)] for JPA transaction
2025-09-23 14:18:52.435 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@663481a0]
2025-09-23 14:18:52.435 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:18:52.437 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:18:52.438 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:18:52.440 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(225051868<open>)]
2025-09-23 14:18:52.441 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(225051868<open>)] after transaction
2025-09-23 14:18:52.441 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:52.441 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:18:52.441 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:18:52.444 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:18:52.445 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:18:52.446 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:52.446 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:52.447 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:52.447 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:52.449 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:18:52.450 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:52.450 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:52.450 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:52.450 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:18:52.452 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:52.453 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:52.453 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:52.454 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:18:52.456 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:52.456 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:52.457 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:52.457 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:18:52.459 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:52.460 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:18:52.460 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:18:52.460 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:18:52.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:18:52.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:18:52.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:18:52.463 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:18:52.464 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:18:52.464 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:18:52.464 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@10a2632e]
2025-09-23 14:18:52.465 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:18:58.598 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:18:58.599 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:18:58.599 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:19:17.877 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:19:17.880 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:19:17.880 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 294
2025-09-23 14:19:17.882 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:19:17.883 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:19:17.884 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:17.885 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:17.886 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects
2025-09-23 14:19:17.886 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:17.888 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:19:17.888 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:19:17.888 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:19:17.890 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='1122', description='222', phases=1 phases}]
2025-09-23 14:19:17.891 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:17.891 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:17.891 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:17.891 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(338256129<open>)] for JPA transaction
2025-09-23 14:19:17.891 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17da1022]
2025-09-23 14:19:17.891 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:17.892 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:17.894 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:17.896 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:17.896 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:17.896 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:17.896 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:17.897 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:17.897 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:17.897 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:17.897 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:17.897 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:17.897 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(338256129<open>)]
2025-09-23 14:19:17.898 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(338256129<open>)] after transaction
2025-09-23 14:19:17.898 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:17.899 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:19:17.900 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [1122]
2025-09-23 14:19:17.900 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:19:17.904 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:17.904 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:17.904 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1790427920<open>)] for JPA transaction
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6c0469b2]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:19:17.905393]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [3]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [222]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [22]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [22]
2025-09-23 14:19:17.905 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [1122]
2025-09-23 14:19:17.906 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:19:17.906 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [22]
2025-09-23 14:19:17.906 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:19:17.906 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [22]
2025-09-23 14:19:17.906 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:19:17.905408]
2025-09-23 14:19:17.908 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:17.908 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:17.908 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1790427920<open>)]
2025-09-23 14:19:17.914 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1790427920<open>)] after transaction
2025-09-23 14:19:17.914 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Project created: 6 by user: 3, entering AI analysis
2025-09-23 14:19:17.914 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 6
2025-09-23 14:19:17.915 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 6
项目名称: 1122
项目描述: 222
项目成员: 22
预期结果: 22
时间线: 22
止损点: 22
2025-09-23 14:19:17.915 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：1122
- 项目内容：222
- 项目成员：22
- 预期结果：22
- 时间线：22
- 止损点：22

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:19:17.915 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 6
分析类型: PROJECT_EVALUATION
2025-09-23 14:19:17.915 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:19:17.915 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:19:17.916 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:19:17.916 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:19:17.916 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:19:17.916 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@6d0dbeda] as "application/json"
2025-09-23 14:19:18.459 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:19:22.006 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:19:22.006 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:19:22.006 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"0c6c93fd-01b1-4962-ad02-1ab08ae73f4c","object":"chat.completion","created":1758608358,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:19:22.006 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 6
2025-09-23 14:19:22.006 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 6
2025-09-23 14:19:22.006 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 6
2025-09-23 14:19:22.006 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:22.006 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:19:22.006 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(73123866<open>)] for JPA transaction
2025-09-23 14:19:22.006 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:19:22.007 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4ea35dc3]
2025-09-23 14:19:22.007 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:19:22.007 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:19:22.007 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:19:22.007 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:19:22.007 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:19:22.007 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@417b9df3] as "application/json"
2025-09-23 14:19:22.008 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [111]
2025-09-23 14:19:22.008 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:19:22.007321]
2025-09-23 14:19:22.008 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [11]
2025-09-23 14:19:22.008 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [null]
2025-09-23 14:19:22.008 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [2]
2025-09-23 14:19:22.008 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [6]
2025-09-23 14:19:22.008 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [1]
2025-09-23 14:19:22.008 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:19:22.007331]
2025-09-23 14:19:22.010 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:22.011 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:22.011 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(73123866<open>)]
2025-09-23 14:19:22.015 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(73123866<open>)] after transaction
2025-09-23 14:19:22.015 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Created 1 phases for project: 6
2025-09-23 14:19:22.015 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:22.015 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@d01be2d]
2025-09-23 14:19:22.015 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:19:22.543 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:19:24.022 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:24.023 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:24.023 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:24.023 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:24.023 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:24.024 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:24.024 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:24.024 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:24.024 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:24.025 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:24.025 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:24.025 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:24.026 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:24.026 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:24.026 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:24.026 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:24.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:24.029 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:24.031 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:24.031 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:24.031 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2092203534<open>)] for JPA transaction
2025-09-23 14:19:24.031 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2cc3b67]
2025-09-23 14:19:24.031 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:24.032 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:24.032 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:24.034 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2092203534<open>)]
2025-09-23 14:19:24.035 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2092203534<open>)] after transaction
2025-09-23 14:19:24.036 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:24.036 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:24.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:24.038 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:24.039 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:24.039 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:24.039 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:24.040 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:24.040 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:24.041 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:24.041 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:24.041 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:24.041 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@541cc120]
2025-09-23 14:19:24.042 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:25.876 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:19:25.877 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:19:25.877 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"2e4c9ecb-2fce-4652-b0e2-4a7f69ae7e0e","object":"chat.completion","created":1758608362,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:19:25.877 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:19:25.877 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:19:25.878 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：1122\n- 项目内容：222\n- 项目成员：22\n- 预期结果：22\n- 时间线：22\n- 止损点：22\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:19:25.878 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:19:25.878 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:19:25.878 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@4790bb8] as "application/json"
2025-09-23 14:19:26.048 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:26.048 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:26.049 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:26.049 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:26.050 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:26.051 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:26.053 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:26.053 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:26.053 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:26.055 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:26.055 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:26.055 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:26.055 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:26.055 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:26.056 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:26.056 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:26.059 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:26.061 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:26.062 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:26.062 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:26.062 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(724447812<open>)] for JPA transaction
2025-09-23 14:19:26.062 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4910bcd9]
2025-09-23 14:19:26.062 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:26.062 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:26.063 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(724447812<open>)]
2025-09-23 14:19:26.064 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(724447812<open>)] after transaction
2025-09-23 14:19:26.065 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:26.065 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:26.065 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:26.066 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:26.067 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:26.067 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:26.067 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:26.067 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:26.068 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:26.068 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:26.068 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:26.068 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3a1babd2]
2025-09-23 14:19:26.069 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:26.408 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:19:28.074 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:28.074 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:28.074 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:28.075 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:28.075 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:28.076 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:28.076 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:28.076 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:28.076 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:28.077 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:28.078 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:28.078 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:28.078 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:28.078 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:28.078 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:28.079 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:28.080 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:28.082 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:28.083 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:28.083 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:28.083 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(697841046<open>)] for JPA transaction
2025-09-23 14:19:28.083 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@54450506]
2025-09-23 14:19:28.083 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:28.084 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:28.084 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:28.085 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(697841046<open>)]
2025-09-23 14:19:28.086 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(697841046<open>)] after transaction
2025-09-23 14:19:28.087 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:28.088 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:28.088 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:28.090 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:28.091 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:28.091 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:28.091 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:28.091 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:28.091 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:28.093 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:28.093 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:28.093 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:28.093 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@21ec3922]
2025-09-23 14:19:28.093 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:28.602 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:19:28.602 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:19:28.602 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:19:30.099 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:30.099 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:30.099 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:30.100 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:30.100 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:30.101 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:30.101 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:30.101 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:30.101 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:30.103 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:30.104 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:30.104 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:30.104 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:30.104 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:30.105 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:30.105 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:30.107 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:30.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:30.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:30.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:30.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:30.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:30.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:30.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:30.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:30.109 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:30.110 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1291708913<open>)] for JPA transaction
2025-09-23 14:19:30.110 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@fdaea9]
2025-09-23 14:19:30.110 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:30.110 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:30.110 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:30.112 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1291708913<open>)]
2025-09-23 14:19:30.113 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1291708913<open>)] after transaction
2025-09-23 14:19:30.114 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:30.114 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:30.114 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:30.116 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:30.117 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:30.117 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:30.118 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:30.118 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:30.118 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:30.118 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:30.120 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:30.120 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:30.120 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:30.120 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5527133c]
2025-09-23 14:19:30.120 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:32.125 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:32.126 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:32.126 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:32.127 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:32.127 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:32.128 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:32.128 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:32.128 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:32.128 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:32.130 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:32.130 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:32.130 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:32.130 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:32.130 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:32.131 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:32.131 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:32.134 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:32.135 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:32.136 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:32.136 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:32.136 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1169702193<open>)] for JPA transaction
2025-09-23 14:19:32.136 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@34685eaa]
2025-09-23 14:19:32.137 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:32.138 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:32.138 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:32.140 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1169702193<open>)]
2025-09-23 14:19:32.141 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1169702193<open>)] after transaction
2025-09-23 14:19:32.141 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:32.141 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:32.141 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:32.143 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:32.144 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:32.144 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:32.144 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:32.144 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:32.144 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:32.144 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:32.147 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:32.147 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:32.147 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:32.147 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@17a7070d]
2025-09-23 14:19:32.147 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:34.157 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:34.158 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:34.158 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:34.158 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:34.159 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:34.159 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:34.160 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:34.160 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:34.160 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:34.163 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:34.163 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:34.163 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:34.163 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:34.163 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:34.164 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.164 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:34.166 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:34.167 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:34.168 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.169 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:34.169 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(636416443<open>)] for JPA transaction
2025-09-23 14:19:34.169 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3efbcd6a]
2025-09-23 14:19:34.169 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:34.170 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:34.170 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:34.172 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(636416443<open>)]
2025-09-23 14:19:34.173 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(636416443<open>)] after transaction
2025-09-23 14:19:34.173 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.174 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:34.174 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:34.177 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:34.178 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.178 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.179 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:34.179 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:34.179 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:34.179 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:34.181 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.181 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:34.181 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:34.181 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@425f3c3b]
2025-09-23 14:19:34.182 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:34.229 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:19:34.230 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:19:34.230 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:19:34.231 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:19:34.231 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:19:34.232 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:34.233 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:34.233 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:19:34.233 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:34.234 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:19:34.234 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:19:34.234 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:19:34.235 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:34.235 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:34.235 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:34.236 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1657499081<open>)] for JPA transaction
2025-09-23 14:19:34.236 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a605261]
2025-09-23 14:19:34.236 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:34.237 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:34.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:34.241 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1657499081<open>)]
2025-09-23 14:19:34.242 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1657499081<open>)] after transaction
2025-09-23 14:19:34.243 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.243 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:19:34.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:19:34.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:19:34.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:19:34.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:19:34.248 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.248 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.249 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:34.249 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:34.251 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:34.252 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.253 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.254 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:34.254 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:34.256 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:19:34.257 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.257 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.257 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:34.258 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:19:34.259 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.259 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.259 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:34.259 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:19:34.261 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.261 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.261 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:34.261 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:19:34.264 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.264 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:34.264 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:34.264 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:19:34.265 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:19:34.266 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:34.266 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:34.266 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6e0bdf90]
2025-09-23 14:19:34.267 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:35.608 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:35.609 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:35.609 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:35.610 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:35.611 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:35.612 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:35.614 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:35.614 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:35.614 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:35.616 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:35.616 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:35.616 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:35.616 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:35.616 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:35.617 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:35.617 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:35.620 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:35.621 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:35.621 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:35.622 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:35.623 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:35.623 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:35.623 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1496960358<open>)] for JPA transaction
2025-09-23 14:19:35.623 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4277be73]
2025-09-23 14:19:35.623 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:35.624 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:35.624 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:35.625 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:35.625 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:35.625 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:35.625 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:35.625 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:35.625 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:35.626 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:35.626 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:35.626 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:35.626 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1496960358<open>)]
2025-09-23 14:19:35.626 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1496960358<open>)] after transaction
2025-09-23 14:19:35.627 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:35.627 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:35.627 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:35.629 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:35.630 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:35.630 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:35.630 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:35.630 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:35.631 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:35.633 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:35.633 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:35.634 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:35.634 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3ec8d1]
2025-09-23 14:19:35.634 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:36.188 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:36.188 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:36.188 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:36.189 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:36.189 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:36.190 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:36.191 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:36.191 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:36.191 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:36.193 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:36.193 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:36.194 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:36.194 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:36.194 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:36.195 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:36.196 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:36.198 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:36.201 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:36.202 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:36.202 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:36.202 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:36.203 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:36.203 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:36.203 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(922621779<open>)] for JPA transaction
2025-09-23 14:19:36.203 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7f46d36a]
2025-09-23 14:19:36.204 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:36.204 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:36.204 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:36.206 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(922621779<open>)]
2025-09-23 14:19:36.207 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(922621779<open>)] after transaction
2025-09-23 14:19:36.208 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:36.208 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:36.208 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:36.210 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:36.211 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:36.211 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:36.212 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:36.212 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:36.212 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:36.212 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:36.215 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:36.215 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:36.215 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:36.215 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@61532a89]
2025-09-23 14:19:36.216 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:38.224 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:38.224 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:38.224 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:38.225 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:38.225 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:38.226 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:38.226 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:38.226 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:38.226 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:38.227 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:38.227 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:38.227 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:38.227 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:38.228 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:38.228 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:38.228 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:38.230 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:38.232 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:38.233 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:38.233 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:38.233 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(970849993<open>)] for JPA transaction
2025-09-23 14:19:38.233 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@667c7077]
2025-09-23 14:19:38.233 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:38.235 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:38.235 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:38.237 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(970849993<open>)]
2025-09-23 14:19:38.238 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(970849993<open>)] after transaction
2025-09-23 14:19:38.238 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:38.238 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:38.238 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:38.240 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:38.241 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:38.241 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:38.243 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:38.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:38.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:38.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:38.248 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:38.248 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:38.249 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:38.249 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@235ad977]
2025-09-23 14:19:38.249 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:40.255 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:40.257 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:40.257 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:40.258 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:40.258 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:40.258 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:40.259 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:40.259 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:40.259 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:40.260 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:40.261 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:40.261 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:40.261 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:40.261 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:40.262 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:40.263 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:40.264 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:40.267 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:40.269 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:40.269 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:40.269 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(852831860<open>)] for JPA transaction
2025-09-23 14:19:40.269 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e4c1a21]
2025-09-23 14:19:40.269 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:40.270 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:40.270 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:40.272 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(852831860<open>)]
2025-09-23 14:19:40.273 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(852831860<open>)] after transaction
2025-09-23 14:19:40.273 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:40.273 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:40.274 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:40.275 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:40.276 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:40.276 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:40.276 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:40.276 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:40.278 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:40.278 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:40.278 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:40.278 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5ee777f8]
2025-09-23 14:19:40.279 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:42.285 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:42.285 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:42.285 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:42.286 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:42.286 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:42.287 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:42.287 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:42.287 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:42.287 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:42.289 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:42.289 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:42.289 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:42.289 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:42.289 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:42.289 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:42.290 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:42.293 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:42.297 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:42.298 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:42.298 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:42.298 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:42.298 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:42.298 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:42.298 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:42.298 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(824381877<open>)] for JPA transaction
2025-09-23 14:19:42.299 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3a423e76]
2025-09-23 14:19:42.299 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:42.299 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:42.299 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:42.300 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(824381877<open>)]
2025-09-23 14:19:42.301 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(824381877<open>)] after transaction
2025-09-23 14:19:42.302 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:42.303 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:42.303 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:42.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:42.307 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:42.307 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:42.308 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:42.308 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:42.308 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:42.308 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:42.311 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:42.311 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:42.311 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:42.312 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@144ff54c]
2025-09-23 14:19:42.312 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:44.318 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:44.320 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:44.320 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:44.321 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:44.321 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:44.322 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:44.322 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:44.322 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:44.322 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:44.324 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:44.324 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:44.324 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:44.324 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:44.325 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:44.325 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:44.325 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:44.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:44.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:44.330 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:44.330 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:44.330 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(783826345<open>)] for JPA transaction
2025-09-23 14:19:44.330 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@299bf4e2]
2025-09-23 14:19:44.330 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:44.331 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:44.331 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:44.332 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(783826345<open>)]
2025-09-23 14:19:44.333 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(783826345<open>)] after transaction
2025-09-23 14:19:44.334 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:44.334 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:44.334 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:44.336 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:44.337 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:44.338 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:44.338 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:44.338 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:44.338 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:44.340 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:44.340 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:44.340 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:44.340 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7dc258c7]
2025-09-23 14:19:44.340 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:46.347 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:46.348 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:46.348 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:46.348 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:46.348 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:46.349 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:46.349 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:46.349 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:46.349 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:46.351 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:46.352 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:46.352 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:46.352 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:46.352 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:46.353 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:46.354 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:46.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:46.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:46.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:46.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:46.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:46.358 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:46.359 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:46.359 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(910789909<open>)] for JPA transaction
2025-09-23 14:19:46.359 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4c0b8d04]
2025-09-23 14:19:46.359 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:46.359 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:46.359 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:46.361 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(910789909<open>)]
2025-09-23 14:19:46.362 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(910789909<open>)] after transaction
2025-09-23 14:19:46.362 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:46.362 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:46.362 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:46.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:46.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:46.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:46.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:46.364 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:46.364 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:46.364 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:46.364 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:46.364 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:46.364 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:46.364 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:46.365 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:46.365 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:46.365 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:46.365 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:46.367 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:46.367 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:46.367 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:46.367 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@45fdfbb5]
2025-09-23 14:19:46.368 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:48.391 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:48.391 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:48.391 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:48.392 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:48.392 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:48.393 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:48.393 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:48.393 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:48.393 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:48.395 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:48.395 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:48.395 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:48.395 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:48.396 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:48.396 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:48.396 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:48.398 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:48.401 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:48.403 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:48.403 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:48.403 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(408787004<open>)] for JPA transaction
2025-09-23 14:19:48.404 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2fd7abc7]
2025-09-23 14:19:48.404 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:48.404 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:48.405 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:48.407 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(408787004<open>)]
2025-09-23 14:19:48.408 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(408787004<open>)] after transaction
2025-09-23 14:19:48.408 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:48.409 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:48.409 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:48.410 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:48.410 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:48.411 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:48.411 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:48.411 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:48.411 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:48.411 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:48.411 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:48.411 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:48.412 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:48.412 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:48.413 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:48.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:48.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:48.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:48.415 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:48.416 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:48.416 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:48.416 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@65483dc9]
2025-09-23 14:19:48.416 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:50.425 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:50.425 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:50.426 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:50.426 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:50.427 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:50.428 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:50.429 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:50.429 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:50.429 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:50.433 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:50.434 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:50.435 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:50.437 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:50.438 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:50.458 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:50.459 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:50.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:50.462 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:50.463 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:50.463 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:50.463 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:50.466 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:50.467 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:50.467 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(80991043<open>)] for JPA transaction
2025-09-23 14:19:50.467 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@23c22e14]
2025-09-23 14:19:50.467 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:50.468 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:50.482 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:50.485 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:50.485 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:50.485 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:50.485 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:50.485 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:50.485 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:50.485 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:50.485 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:50.486 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:50.486 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(80991043<open>)]
2025-09-23 14:19:50.487 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(80991043<open>)] after transaction
2025-09-23 14:19:50.488 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:50.488 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:50.489 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:50.490 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:50.491 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:50.491 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:50.492 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:50.492 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:50.492 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:50.492 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:50.494 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:50.494 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:50.494 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:50.494 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@b1de109]
2025-09-23 14:19:50.495 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:52.505 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:52.507 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:52.507 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:52.509 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:52.510 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:52.511 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:52.512 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:52.512 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:52.512 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:52.515 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:52.515 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:52.515 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:52.516 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:52.516 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:52.517 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:52.518 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:52.523 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:52.527 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:52.529 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:52.529 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:52.529 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1772641907<open>)] for JPA transaction
2025-09-23 14:19:52.529 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6bf599a2]
2025-09-23 14:19:52.529 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:52.530 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:52.530 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:52.532 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:52.532 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:52.532 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:52.532 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:52.532 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:52.532 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:52.532 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:52.532 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:52.533 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:52.533 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1772641907<open>)]
2025-09-23 14:19:52.534 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1772641907<open>)] after transaction
2025-09-23 14:19:52.534 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:52.535 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:52.535 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:52.537 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:52.537 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:52.537 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:52.537 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:52.538 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:52.538 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:52.538 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:52.538 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:52.538 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:52.538 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:52.539 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:52.539 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:52.540 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:52.540 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:52.540 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:52.542 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:52.542 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:52.542 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:52.542 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5079eceb]
2025-09-23 14:19:52.543 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:54.549 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:54.549 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:54.549 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:54.550 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:54.550 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:54.551 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:54.552 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:54.552 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:54.552 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:54.554 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:54.554 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:54.554 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:54.554 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:54.554 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:54.557 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:54.557 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:54.564 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:54.566 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:54.567 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:54.567 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:54.568 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:54.568 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(899481101<open>)] for JPA transaction
2025-09-23 14:19:54.568 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2ecc7eba]
2025-09-23 14:19:54.568 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:54.570 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:54.571 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:54.574 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:54.575 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:54.575 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:54.575 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:54.575 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:54.575 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:54.575 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:54.575 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:54.576 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:54.576 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(899481101<open>)]
2025-09-23 14:19:54.577 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(899481101<open>)] after transaction
2025-09-23 14:19:54.578 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:54.579 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:54.579 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:54.582 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:54.583 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:54.583 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:54.583 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:54.583 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:54.583 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:54.583 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:54.583 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:54.583 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:54.585 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:54.585 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:54.586 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:54.586 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:54.586 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:54.586 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:54.590 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:54.590 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:54.590 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:54.590 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5a26f7b2]
2025-09-23 14:19:54.591 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:56.598 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:56.598 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:56.598 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:56.599 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:56.599 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:56.600 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:56.600 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:56.600 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:56.600 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:56.603 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:56.603 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:56.603 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:56.604 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:56.604 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:56.605 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:56.606 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:56.607 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:56.608 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:56.608 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:56.608 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:56.608 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:56.609 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:56.610 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:56.610 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1392297214<open>)] for JPA transaction
2025-09-23 14:19:56.610 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@61c8a9f8]
2025-09-23 14:19:56.610 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:56.610 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:56.611 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:56.612 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:56.612 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:56.612 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:56.612 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:56.612 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:56.612 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:56.612 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:56.612 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:56.613 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:56.613 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1392297214<open>)]
2025-09-23 14:19:56.613 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1392297214<open>)] after transaction
2025-09-23 14:19:56.614 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:56.614 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:56.614 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:56.615 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:56.616 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:56.616 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:56.617 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:56.617 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:56.617 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:56.617 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:56.620 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:56.620 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:56.620 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:56.620 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@35cf69cd]
2025-09-23 14:19:56.621 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:19:58.607 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:19:58.609 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:19:58.609 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:19:58.628 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:19:58.628 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:19:58.628 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:19:58.629 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:19:58.629 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:19:58.630 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:19:58.630 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:19:58.630 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:19:58.630 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:19:58.632 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:19:58.632 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:19:58.632 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:19:58.632 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:58.632 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:19:58.633 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:58.633 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:19:58.634 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:58.636 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:19:58.637 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1190997824<open>)] for JPA transaction
2025-09-23 14:19:58.637 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@10e641e4]
2025-09-23 14:19:58.637 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:19:58.637 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:19:58.637 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:19:58.638 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:19:58.638 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:19:58.638 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:19:58.638 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:19:58.638 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:19:58.638 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:19:58.638 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:19:58.638 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:19:58.639 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:19:58.639 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1190997824<open>)]
2025-09-23 14:19:58.639 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1190997824<open>)] after transaction
2025-09-23 14:19:58.639 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:58.640 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:19:58.640 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:19:58.641 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:19:58.642 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:58.642 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:19:58.642 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:19:58.643 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:19:58.643 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:19:58.643 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:19:58.644 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:19:58.644 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:19:58.644 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:19:58.644 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@d3fec16]
2025-09-23 14:19:58.645 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:20:00.654 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:20:00.655 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:20:00.655 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:20:00.656 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:20:00.657 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:20:00.658 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:20:00.660 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:20:00.660 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:20:00.660 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:20:00.664 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:20:00.665 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:20:00.665 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:20:00.665 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:20:00.665 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:20:00.666 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:20:00.667 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:20:00.668 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:20:00.670 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:20:00.671 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:20:00.672 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:20:00.672 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:20:00.672 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(316646024<open>)] for JPA transaction
2025-09-23 14:20:00.672 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6c6f7a61]
2025-09-23 14:20:00.673 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:20:00.674 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:20:00.674 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:20:00.675 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:20:00.675 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:20:00.675 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:20:00.675 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:20:00.675 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:20:00.675 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:20:00.675 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:20:00.675 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:20:00.676 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:20:00.676 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(316646024<open>)]
2025-09-23 14:20:00.677 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(316646024<open>)] after transaction
2025-09-23 14:20:00.677 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:20:00.678 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:20:00.678 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:20:00.679 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:20:00.679 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:20:00.679 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:20:00.679 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:20:00.679 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:20:00.679 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:20:00.679 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:20:00.680 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:20:00.680 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:20:00.681 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:20:00.681 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:20:00.682 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:20:00.682 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:20:00.682 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:20:00.682 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:20:00.685 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:20:00.685 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:20:00.686 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:20:00.686 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@a795bac]
2025-09-23 14:20:00.687 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:20:02.694 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/6
2025-09-23 14:20:02.695 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/6
2025-09-23 14:20:02.695 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/6, length: 294
2025-09-23 14:20:02.695 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/6
2025-09-23 14:20:02.696 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/6
2025-09-23 14:20:02.696 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:20:02.697 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:20:02.697 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/6
2025-09-23 14:20:02.697 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:20:02.698 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/6
2025-09-23 14:20:02.698 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/6", parameters={}
2025-09-23 14:20:02.699 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:20:02.699 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:20:02.699 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:20:02.700 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:20:02.704 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:20:02.707 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:20:02.709 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:20:02.709 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:20:02.709 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:20:02.709 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:20:02.709 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:20:02.709 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:20:02.710 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:20:02.711 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:20:02.711 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:20:02.711 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(219512139<open>)] for JPA transaction
2025-09-23 14:20:02.711 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6892a047]
2025-09-23 14:20:02.711 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:20:02.712 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:20:02.712 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:20:02.714 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:20:02.714 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:20:02.714 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:20:02.714 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:20:02.714 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:20:02.714 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:20:02.714 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:20:02.714 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:20:02.715 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:20:02.715 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(219512139<open>)]
2025-09-23 14:20:02.715 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(219512139<open>)] after transaction
2025-09-23 14:20:02.716 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:20:02.716 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:20:02.716 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:20:02.718 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:20:02.719 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:20:02.719 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:20:02.719 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:20:02.719 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:20:02.719 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:20:02.719 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:20:02.719 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:20:02.719 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:20:02.720 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:20:02.720 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:20:02.723 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:20:02.723 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:20:02.723 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:20:02.723 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:20:02.727 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd due to dirty commit state on close().
2025-09-23 14:20:02.727 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 6
2025-09-23 14:20:02.727 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:20:02.727 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@18df7453]
2025-09-23 14:20:02.728 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:20:07.507 [ForkJoinPool.commonPool-worker-2] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:20:07.511 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:20:07.512 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"371fd90d-2667-4f79-bd48-febd632a3218","object":"chat.completion","created":1758608366,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告（项目名称：1122）\n\n根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。\n\n---\n\n#### 1. **项目可行性评估**\n   - **技术可行性**  \n     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  \n     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  \n   - **资源可行性**  \n     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  \n     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  \n   - **时间可行性**  \n     - **现状**：时间线“22”未定义单位（天/周/月），无法判断进度合理性。  \n     - **建议**：需制定详细里程碑（如敏捷冲刺阶段、关键交付节点），分析时间与任务量的匹配度，避免压缩测试或复盘时间。\n\n---\n\n#### 2. **风险评估与建议**\n   - **主要风险**  \n     - **需求风险**：项目内容模糊可能导致目标频繁变更，增加返工成本。  \n     - **资源风险**：成员数量“22”若缺乏核心角色（如项目经理、技术负责人），易引发协作混乱。  \n     - **进度风险**：时间线不明确可能造成后期赶工，牺牲质量。  \n     - **止损点模糊**：止损点“22”未说明具体指标（如预算超支比例、用户满意度阈值），难以及时干预。  \n   - **缓解建议**  \n     - 明确项目范围文档（SOW），建立变更控制流程。  \n     - 制定RACI矩阵明确职责，定期进行资源利用率评估。  \n     - 采用WBS分解任务，设置缓冲时间应对不确定性。  \n     - 量化止损点（如“成本超支20%即终止”），并绑定阶段性评审。\n\n---\n\n#### 3. **项目优化建议**\n   - **短期优化**  \n     - 补充SMART目标（如“预期结果22”需转化为可衡量指标，如用户增长量、收入提升百分比）。  \n     - 明确关键依赖关系（如外部API接口、跨部门协作流程）。  \n   - **长期优化**  \n     - 引入敏捷方法论（如Scrum）快速迭代，降低大规模失败风险。  \n     - 建立项目健康度仪表盘（实时跟踪进度、成本、风险指数）。\n\n---\n\n#### 4. **总体评价：不通过（需补充信息）**\n   - **结论理由**：  \n     当前信息无法支撑可行性判断，存在**目标模糊、资源规划缺失、风险不可控**等根本性问题。若强行推进，极易导致项目失控。  \n   - **后续步骤**：  \n     建议优先完善以下内容后重新评估：  \n     - 项目核心价值与具体交付物描述；  \n     - 成员角色分工与技能矩阵；  \n     - 详细时间计划与里程碑；  \n     - 量化成功标准与止损机制。\n\n---\n\n**注**：本分析基于项目管理标准框架（如PMI-PMBOK）。如需定制化分析，请提供更具体的项目细节。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":118,"completion_tokens":784,"total_tokens":902,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":118},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:20:07.513 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:20:07.513 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告（项目名称：1122）

根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  
     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  
   - **资源可行性**  
     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  
     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  
   - **时间可行性**  
     - **现状**：时间线“22”未定义单位（天/周/月），无法判断进度合理性。  
     - **建议**：需制定详细里程碑（如敏捷冲刺阶段、关键交付节点），分析时间与任务量的匹配度，避免压缩测试或复盘时间。

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求风险**：项目内容模糊可能导致目标频繁变更，增加返工成本。  
     - **资源风险**：成员数量“22”若缺乏核心角色（如项目经理、技术负责人），易引发协作混乱。  
     - **进度风险**：时间线不明确可能造成后期赶工，牺牲质量。  
     - **止损点模糊**：止损点“22”未说明具体指标（如预算超支比例、用户满意度阈值），难以及时干预。  
   - **缓解建议**  
     - 明确项目范围文档（SOW），建立变更控制流程。  
     - 制定RACI矩阵明确职责，定期进行资源利用率评估。  
     - 采用WBS分解任务，设置缓冲时间应对不确定性。  
     - 量化止损点（如“成本超支20%即终止”），并绑定阶段性评审。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 补充SMART目标（如“预期结果22”需转化为可衡量指标，如用户增长量、收入提升百分比）。  
     - 明确关键依赖关系（如外部API接口、跨部门协作流程）。  
   - **长期优化**  
     - 引入敏捷方法论（如Scrum）快速迭代，降低大规模失败风险。  
     - 建立项目健康度仪表盘（实时跟踪进度、成本、风险指数）。

---

#### 4. **总体评价：不通过（需补充信息）**
   - **结论理由**：  
     当前信息无法支撑可行性判断，存在**目标模糊、资源规划缺失、风险不可控**等根本性问题。若强行推进，极易导致项目失控。  
   - **后续步骤**：  
     建议优先完善以下内容后重新评估：  
     - 项目核心价值与具体交付物描述；  
     - 成员角色分工与技能矩阵；  
     - 详细时间计划与里程碑；  
     - 量化成功标准与止损机制。

---

**注**：本分析基于项目管理标准框架（如PMI-PMBOK）。如需定制化分析，请提供更具体的项目细节。
2025-09-23 14:20:07.513 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告（项目名称：1122）

根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  
     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  
   - **资源可行性**  
     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  
     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  
   - **时间可行性**  
     - **现状**：时间线“22”未定义单位（天/周/月），无法判断进度合理性。  
     - **建议**：需制定详细里程碑（如敏捷冲刺阶段、关键交付节点），分析时间与任务量的匹配度，避免压缩测试或复盘时间。

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求风险**：项目内容模糊可能导致目标频繁变更，增加返工成本。  
     - **资源风险**：成员数量“22”若缺乏核心角色（如项目经理、技术负责人），易引发协作混乱。  
     - **进度风险**：时间线不明确可能造成后期赶工，牺牲质量。  
     - **止损点模糊**：止损点“22”未说明具体指标（如预算超支比例、用户满意度阈值），难以及时干预。  
   - **缓解建议**  
     - 明确项目范围文档（SOW），建立变更控制流程。  
     - 制定RACI矩阵明确职责，定期进行资源利用率评估。  
     - 采用WBS分解任务，设置缓冲时间应对不确定性。  
     - 量化止损点（如“成本超支20%即终止”），并绑定阶段性评审。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 补充SMART目标（如“预期结果22”需转化为可衡量指标，如用户增长量、收入提升百分比）。  
     - 明确关键依赖关系（如外部API接口、跨部门协作流程）。  
   - **长期优化**  
     - 引入敏捷方法论（如Scrum）快速迭代，降低大规模失败风险。  
     - 建立项目健康度仪表盘（实时跟踪进度、成本、风险指数）。

---

#### 4. **总体评价：不通过（需补充信息）**
   - **结论理由**：  
     当前信息无法支撑可行性判断，存在**目标模糊、资源规划缺失、风险不可控**等根本性问题。若强行推进，极易导致项目失控。  
   - **后续步骤**：  
     建议优先完善以下内容后重新评估：  
     - 项目核心价值与具体交付物描述；  
     - 成员角色分工与技能矩阵；  
     - 详细时间计划与里程碑；  
     - 量化成功标准与止损机制。

---

**注**：本分析基于项目管理标准框架（如PMI-PMBOK）。如需定制化分析，请提供更具体的项目细节。
2025-09-23 14:20:07.513 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告（项目名称：1122）

根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  
     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  
   - **资源可行性**  
     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  
     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  
   - **时间可行性**  
     - **现状**：时间线“22”未定义单位（天/周/月），无法判断进度合理性。  
     - **建议**：需制定详细里程碑（如敏捷冲刺阶段、关键交付节点），分析时间与任务量的匹配度，避免压缩测试或复盘时间。

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求风险**：项目内容模糊可能导致目标频繁变更，增加返工成本。  
     - **资源风险**：成员数量“22”若缺乏核心角色（如项目经理、技术负责人），易引发协作混乱。  
     - **进度风险**：时间线不明确可能造成后期赶工，牺牲质量。  
     - **止损点模糊**：止损点“22”未说明具体指标（如预算超支比例、用户满意度阈值），难以及时干预。  
   - **缓解建议**  
     - 明确项目范围文档（SOW），建立变更控制流程。  
     - 制定RACI矩阵明确职责，定期进行资源利用率评估。  
     - 采用WBS分解任务，设置缓冲时间应对不确定性。  
     - 量化止损点（如“成本超支20%即终止”），并绑定阶段性评审。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 补充SMART目标（如“预期结果22”需转化为可衡量指标，如用户增长量、收入提升百分比）。  
     - 明确关键依赖关系（如外部API接口、跨部门协作流程）。  
   - **长期优化**  
     - 引入敏捷方法论（如Scrum）快速迭代，降低大规模失败风险。  
     - 建立项目健康度仪表盘（实时跟踪进度、成本、风险指数）。

---

#### 4. **总体评价：不通过（需补充信息）**
   - **结论理由**：  
     当前信息无法支撑可行性判断，存在**目标模糊、资源规划缺失、风险不可控**等根本性问题。若强行推进，极易导致项目失控。  
   - **后续步骤**：  
     建议优先完善以下内容后重新评估：  
     - 项目核心价值与具体交付物描述；  
     - 成员角色分工与技能矩阵；  
     - 详细时间计划与里程碑；  
     - 量化成功标准与止损机制。

---

**注**：本分析基于项目管理标准框架（如PMI-PMBOK）。如需定制化分析，请提供更具体的项目细节。",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:20:07.514 [ForkJoinPool.commonPool-worker-2] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告（项目名称：1122）

根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  
     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  
   - **资源可行性**  
     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  
     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  
 "[truncated 1161 chars]; line: 3, column: 43]
2025-09-23 14:20:07.514 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告（项目名称：1122）

根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  
     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  
   - **资源可行性**  
     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  
     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  
   - **时间可行性**  
     - **现状**：时间线“22”未定义单位（天/周/月），无法判断进度合理性。  
     - **建议**：需制定详细里程碑（如敏捷冲刺阶段、关键交付节点），分析时间与任务量的匹配度，避免压缩测试或复盘时间。

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求风险**：项目内容模糊可能导致目标频繁变更，增加返工成本。  
     - **资源风险**：成员数量“22”若缺乏核心角色（如项目经理、技术负责人），易引发协作混乱。  
     - **进度风险**：时间线不明确可能造成后期赶工，牺牲质量。  
     - **止损点模糊**：止损点“22”未说明具体指标（如预算超支比例、用户满意度阈值），难以及时干预。  
   - **缓解建议**  
     - 明确项目范围文档（SOW），建立变更控制流程。  
     - 制定RACI矩阵明确职责，定期进行资源利用率评估。  
     - 采用WBS分解任务，设置缓冲时间应对不确定性。  
     - 量化止损点（如“成本超支20%即终止”），并绑定阶段性评审。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 补充SMART目标（如“预期结果22”需转化为可衡量指标，如用户增长量、收入提升百分比）。  
     - 明确关键依赖关系（如外部API接口、跨部门协作流程）。  
   - **长期优化**  
     - 引入敏捷方法论（如Scrum）快速迭代，降低大规模失败风险。  
     - 建立项目健康度仪表盘（实时跟踪进度、成本、风险指数）。

---

#### 4. **总体评价：不通过（需补充信息）**
   - **结论理由**：  
     当前信息无法支撑可行性判断，存在**目标模糊、资源规划缺失、风险不可控**等根本性问题。若强行推进，极易导致项目失控。  
   - **后续步骤**：  
     建议优先完善以下内容后重新评估：  
     - 项目核心价值与具体交付物描述；  
     - 成员角色分工与技能矩阵；  
     - 详细时间计划与里程碑；  
     - 量化成功标准与止损机制。

---

**注**：本分析基于项目管理标准框架（如PMI-PMBOK）。如需定制化分析，请提供更具体的项目细节。
2025-09-23 14:20:07.514 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:20:07.514 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 41637ms
2025-09-23 14:20:07.514 [ForkJoinPool.commonPool-worker-2] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: a1288a17-4283-4efe-b855-6af451b0dd9c, Time: 45508ms
2025-09-23 14:20:07.514 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 45508ms
2025-09-23 14:20:07.514 [ForkJoinPool.commonPool-worker-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: a1288a17-4283-4efe-b855-6af451b0dd9c
2025-09-23 14:20:07.515 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: a1288a17-4283-4efe-b855-6af451b0dd9c, Provider: DeepSeek AI Service
2025-09-23 14:20:07.515 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 6
2025-09-23 14:20:07.515 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 6
分析ID: a1288a17-4283-4efe-b855-6af451b0dd9c
提供商: DeepSeek AI Service
结果长度: 1512 字符
2025-09-23 14:20:07.515 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告（项目名称：1122）

根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  
     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  
   - **资源可行性**  
     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  
     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  
   - **时间可行性**  
     - **现状**：时间线“22”未定义单位（天/周/月），无法判断进度合理性。  
     - **建议**：需制定详细里程碑（如敏捷冲刺阶段、关键交付节点），分析时间与任务量的匹配度，避免压缩测试或复盘时间。

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求风险**：项目内容模糊可能导致目标频繁变更，增加返工成本。  
     - **资源风险**：成员数量“22”若缺乏核心角色（如项目经理、技术负责人），易引发协作混乱。  
     - **进度风险**：时间线不明确可能造成后期赶工，牺牲质量。  
     - **止损点模糊**：止损点“22”未说明具体指标（如预算超支比例、用户满意度阈值），难以及时干预。  
   - **缓解建议**  
     - 明确项目范围文档（SOW），建立变更控制流程。  
     - 制定RACI矩阵明确职责，定期进行资源利用率评估。  
     - 采用WBS分解任务，设置缓冲时间应对不确定性。  
     - 量化止损点（如“成本超支20%即终止”），并绑定阶段性评审。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 补充SMART目标（如“预期结果22”需转化为可衡量指标，如用户增长量、收入提升百分比）。  
     - 明确关键依赖关系（如外部API接口、跨部门协作流程）。  
   - **长期优化**  
     - 引入敏捷方法论（如Scrum）快速迭代，降低大规模失败风险。  
     - 建立项目健康度仪表盘（实时跟踪进度、成本、风险指数）。

---

#### 4. **总体评价：不通过（需补充信息）**
   - **结论理由**：  
     当前信息无法支撑可行性判断，存在**目标模糊、资源规划缺失、风险不可控**等根本性问题。若强行推进，极易导致项目失控。  
   - **后续步骤**：  
     建议优先完善以下内容后重新评估：  
     - 项目核心价值与具体交付物描述；  
     - 成员角色分工与技能矩阵；  
     - 详细时间计划与里程碑；  
     - 量化成功标准与止损机制。

---

**注**：本分析基于项目管理标准框架（如PMI-PMBOK）。如需定制化分析，请提供更具体的项目细节。
2025-09-23 14:20:07.515 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 6
2025-09-23 14:20:07.515 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 6，结果: a1288a17-4283-4efe-b855-6af451b0dd9c
2025-09-23 14:20:07.515 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:20:07.515 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1050781877<open>)] for JPA transaction
2025-09-23 14:20:07.516 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5499236c]
2025-09-23 14:20:07.516 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 6
2025-09-23 14:20:07.516 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告（项目名称：1122）

根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  
     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  
   - **资源可行性**  
     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  
     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  
   - **时间可行性**  
     - **现状**：时间线“22”未定义单位（天/周/月），无法判断进度合理性。  
     - **建议**：需制定详细里程碑（如敏捷冲刺阶段、关键交付节点），分析时间与任务量的匹配度，避免压缩测试或复盘时间。

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求风险**：项目内容模糊可能导致目标频繁变更，增加返工成本。  
     - **资源风险**：成员数量“22”若缺乏核心角色（如项目经理、技术负责人），易引发协作混乱。  
     - **进度风险**：时间线不明确可能造成后期赶工，牺牲质量。  
     - **止损点模糊**：止损点“22”未说明具体指标（如预算超支比例、用户满意度阈值），难以及时干预。  
   - **缓解建议**  
     - 明确项目范围文档（SOW），建立变更控制流程。  
     - 制定RACI矩阵明确职责，定期进行资源利用率评估。  
     - 采用WBS分解任务，设置缓冲时间应对不确定性。  
     - 量化止损点（如“成本超支20%即终止”），并绑定阶段性评审。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 补充SMART目标（如“预期结果22”需转化为可衡量指标，如用户增长量、收入提升百分比）。  
     - 明确关键依赖关系（如外部API接口、跨部门协作流程）。  
   - **长期优化**  
     - 引入敏捷方法论（如Scrum）快速迭代，降低大规模失败风险。  
     - 建立项目健康度仪表盘（实时跟踪进度、成本、风险指数）。

---

#### 4. **总体评价：不通过（需补充信息）**
   - **结论理由**：  
     当前信息无法支撑可行性判断，存在**目标模糊、资源规划缺失、风险不可控**等根本性问题。若强行推进，极易导致项目失控。  
   - **后续步骤**：  
     建议优先完善以下内容后重新评估：  
     - 项目核心价值与具体交付物描述；  
     - 成员角色分工与技能矩阵；  
     - 详细时间计划与里程碑；  
     - 量化成功标准与止损机制。

---

**注**：本分析基于项目管理标准框架（如PMI-PMBOK）。如需定制化分析，请提供更具体的项目细节。
2025-09-23 14:20:07.517 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: false
明确拒绝: true
积极指标: true
消极指标: true
置信度: 0.3
通过判断: 拒绝
2025-09-23 14:20:07.517 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 6, 置信度: 0.3
2025-09-23 14:20:07.517 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1050781877<open>)] for JPA transaction
2025-09-23 14:20:07.517 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:20:07.519 [ai-task-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:20:07.517180]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.3]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:20:07.519028]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [6]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告（项目名称：1122）

根据您提供的项目基本信息，由于关键信息（如项目内容、成员规模、预期结果、时间线、止损点等）均为抽象数值（如“222”“22”），无法进行具体分析。以下分析将基于**假设性框架**展开，并强调实际评估中需补充的信息。若需具体结论，请提供详细资料。

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - **现状**：项目内容“222”未明确技术需求（如开发难度、依赖技术、兼容性等），无法评估技术实现路径。  
     - **建议**：需明确技术方案（如原型设计、技术栈选型）、团队技术能力匹配度、是否存在技术瓶颈或外部依赖。  
   - **资源可行性**  
     - **现状**：成员数量“22”未说明角色分工、经验水平或成本结构；资源投入（资金、设备、工具）未知。  
     - **建议**：需细化资源计划（如人力资源配置、预算分配），评估现有资源是否覆盖项目全周期，避免过度扩张或资源缺口。  
   - **时间可行性**  
     - **现状**：时间线“22”未定义单位（天/周/月），无法判断进度合理性。  
     - **建议**：需制定详细里程碑（如敏捷冲刺阶段、关键交付节点），分析时间与任务量的匹配度，避免压缩测试或复盘时间。

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求风险**：项目内容模糊可能导致目标频繁变更，增加返工成本。  
     - **资源风险**：成员数量“22”若缺乏核心角色（如项目经理、技术负责人），易引发协作混乱。  
     - **进度风险**：时间线不明确可能造成后期赶工，牺牲质量。  
     - **止损点模糊**：止损点“22”未说明具体指标（如预算超支比例、用户满意度阈值），难以及时干预。  
   - **缓解建议**  
     - 明确项目范围文档（SOW），建立变更控制流程。  
     - 制定RACI矩阵明确职责，定期进行资源利用率评估。  
     - 采用WBS分解任务，设置缓冲时间应对不确定性。  
     - 量化止损点（如“成本超支20%即终止”），并绑定阶段性评审。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 补充SMART目标（如“预期结果22”需转化为可衡量指标，如用户增长量、收入提升百分比）。  
     - 明确关键依赖关系（如外部API接口、跨部门协作流程）。  
   - **长期优化**  
     - 引入敏捷方法论（如Scrum）快速迭代，降低大规模失败风险。  
     - 建立项目健康度仪表盘（实时跟踪进度、成本、风险指数）。

---

#### 4. **总体评价：不通过（需补充信息）**
   - **结论理由**：  
     当前信息无法支撑可行性判断，存在**目标模糊、资源规划缺失、风险不可控**等根本性问题。若强行推进，极易导致项目失控。  
   - **后续步骤**：  
     建议优先完善以下内容后重新评估：  
     - 项目核心价值与具体交付物描述；  
     - 成员角色分工与技能矩阵；  
     - 详细时间计划与里程碑；  
     - 量化成功标准与止损机制。

---

**注**：本分析基于项目管理标准框架（如PMI-PMBOK）。如需定制化分析，请提供更具体的项目细节。]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:20:07.523 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:20:07.519091]
2025-09-23 14:20:07.532 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:20:07.533 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 10, 项目ID: 6, 置信度: 0.3
2025-09-23 14:20:07.533 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 6
置信度: 0.3
是否通过: false
新状态: AI_REJECTED
2025-09-23 14:20:07.533 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 6, 状态: AI_REJECTED
2025-09-23 14:20:07.533 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1050781877<open>)] for JPA transaction
2025-09-23 14:20:07.533 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:20:07.534 [ai-task-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:20:07.534 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:20:07.536 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:20:07.537 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:20:07.537 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:20:07.537 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - AI回调更新状态：项目ID: 6, 从 AI_ANALYZING 更新为 AI_REJECTED
2025-09-23 14:20:07.537 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 关联AI分析结果ID: 10 到项目: 6
2025-09-23 14:20:07.537 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1050781877<open>)] for JPA transaction
2025-09-23 14:20:07.537 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:20:07.537 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 项目状态已更新，ID: 6, 状态: AI_REJECTED
2025-09-23 14:20:07.537 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 6
最终状态: AI_REJECTED
AI结果ID: 10
2025-09-23 14:20:07.537 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:20:07.537 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1050781877<open>)]
2025-09-23 14:20:07.538 [ai-task-1] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [10]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_REJECTED]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [3]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [222]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [22]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [22]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [1122]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [22]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:20:07.538 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [22]
2025-09-23 14:20:07.539 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:20:07.538200]
2025-09-23 14:20:07.539 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [6]
2025-09-23 14:20:07.545 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1050781877<open>)] after transaction
2025-09-23 14:20:28.613 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:20:28.613 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:20:28.613 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:20:58.617 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:20:58.620 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:20:58.620 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:21:28.621 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:21:28.623 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:21:28.623 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:21:58.626 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:21:58.627 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:21:58.627 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:22:28.626 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:22:28.628 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:22:28.628 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:22:58.631 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:22:58.633 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:22:58.633 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:23:28.634 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:23:28.636 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:23:28.636 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:23:58.640 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:23:58.641 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:23:58.641 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:24:28.642 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:24:28.646 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:24:28.646 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:24:58.650 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:24:58.651 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:24:58.651 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:25:28.654 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:25:28.655 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:25:28.656 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:25:58.659 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:25:58.661 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:25:58.661 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:26:28.660 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:26:28.664 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:26:28.664 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:26:58.670 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:26:58.672 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:26:58.672 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:27:15.490 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:27:15.497 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:27:15.497 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:27:15.498 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:27:15.498 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:27:15.500 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='null', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:27:15.520 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.weeklyreport.controller.AuthController#handleException(Exception)
2025-09-23 14:27:15.521 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:27:15.521 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5eef47d7]
2025-09-23 14:27:15.523 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.weeklyreport.dto.ApiResponse<com.weeklyreport.dto.auth.AuthResponse>> com.weeklyreport.controller.AuthController.login(com.weeklyreport.dto.auth.LoginRequest): [Field error in object 'loginRequest' on field 'usernameOrEmail': rejected value [null]; codes [NotBlank.loginRequest.usernameOrEmail,NotBlank.usernameOrEmail,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.usernameOrEmail,usernameOrEmail]; arguments []; default message [usernameOrEmail]]; default message [Username or email is required]] ]
2025-09-23 14:27:15.523 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-23 14:27:23.767 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:27:23.768 [http-nio-8081-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:27:23.768 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:27:23.768 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:27:23.768 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:27:23.769 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='admin', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:27:23.769 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: admin
2025-09-23 14:27:23.769 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:27:23.769 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1753300723<open>)] for JPA transaction
2025-09-23 14:27:23.770 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3a67610e]
2025-09-23 14:27:23.770 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.AuthService - Attempting login for user: admin
2025-09-23 14:27:23.772 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:27:23.777 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin]
2025-09-23 14:27:23.781 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:27:23.781 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:27:23.781 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin@company.com]
2025-09-23 14:27:23.781 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi]
2025-09-23 14:27:23.781 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-23 14:27:23.781 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:27:23.781 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:27:23.781 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin]
2025-09-23 14:27:23.882 [http-nio-8081-exec-7] WARN  com.weeklyreport.service.AuthService - Invalid password attempt for user: admin
2025-09-23 14:27:23.882 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-23 14:27:23.883 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1753300723<open>)]
2025-09-23 14:27:23.886 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1753300723<open>)] after transaction
2025-09-23 14:27:23.886 [http-nio-8081-exec-7] WARN  com.weeklyreport.controller.AuthController - Login failed for user: admin - Invalid username/email or password
2025-09-23 14:27:23.887 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:27:23.887 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1ef6947]
2025-09-23 14:27:23.887 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED
2025-09-23 14:27:28.675 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:27:28.675 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:27:28.675 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:27:54.778 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/register
2025-09-23 14:27:54.779 [http-nio-8081-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:27:54.779 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/register
2025-09-23 14:27:54.779 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-09-23 14:27:54.779 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#register(RegisterRequest)
2025-09-23 14:27:54.790 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest{username='testuser', email='test@example.com', password='[PROTECTED]', confirmPasswo (truncated)...]
2025-09-23 14:27:54.804 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.weeklyreport.controller.AuthController#handleException(Exception)
2025-09-23 14:27:54.804 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:27:54.804 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5eaa6a0d]
2025-09-23 14:27:54.805 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.weeklyreport.dto.ApiResponse<com.weeklyreport.dto.auth.AuthResponse>> com.weeklyreport.controller.AuthController.register(com.weeklyreport.dto.auth.RegisterRequest) with 3 errors: [Error in object 'registerRequest': codes [PasswordMatching.registerRequest,PasswordMatching]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest]; arguments []; default message [],confirmPassword,password]; default message [Password and confirmation do not match]] [Field error in object 'registerRequest' on field 'password': rejected value [test123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] [Field error in object 'registerRequest' on field 'confirmPassword': rejected value [null]; codes [NotBlank.registerRequest.confirmPassword,NotBlank.confirmPassword,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.confirmPassword,confirmPassword]; arguments []; default message [confirmPassword]]; default message [Password confirmation is required]] ]
2025-09-23 14:27:54.805 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-23 14:27:58.675 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:27:58.676 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:27:58.676 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:28:02.068 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/register
2025-09-23 14:28:02.069 [http-nio-8081-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:28:02.069 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/register
2025-09-23 14:28:02.069 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-09-23 14:28:02.069 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#register(RegisterRequest)
2025-09-23 14:28:02.069 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest{username='testuser', email='test@example.com', password='[PROTECTED]', confirmPasswo (truncated)...]
2025-09-23 14:28:02.070 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.AuthController - Registration attempt for user: testuser
2025-09-23 14:28:02.070 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.isRegistrationEnabled]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:28:02.070 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1429504643<open>)] for JPA transaction
2025-09-23 14:28:02.070 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3313c151]
2025-09-23 14:28:02.070 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:28:02.070 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1429504643<open>)]
2025-09-23 14:28:02.072 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1429504643<open>)] after transaction
2025-09-23 14:28:02.073 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.register]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:28:02.073 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(102658104<open>)] for JPA transaction
2025-09-23 14:28:02.073 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@77cfcae2]
2025-09-23 14:28:02.073 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.AuthService - Attempting registration for user: testuser
2025-09-23 14:28:02.075 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2025-09-23 14:28:02.076 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:28:02.076 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:28:02.078 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    limit
        ?
2025-09-23 14:28:02.078 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [test@example.com]
2025-09-23 14:28:02.078 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:28:02.456 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(102658104<open>)] for JPA transaction
2025-09-23 14:28:02.457 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:28:02.459 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.User */insert 
    into
        users (created_at, email, password, role, status, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.User */insert 
    into
        users (created_at, email, password, role, status, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:28:02.461 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:TIMESTAMP) <- [2025-09-23T14:28:02.459588]
2025-09-23 14:28:02.461 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:VARCHAR) <- [test@example.com]
2025-09-23 14:28:02.461 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:28:02.461 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:ENUM) <- [MANAGER]
2025-09-23 14:28:02.461 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [ACTIVE]
2025-09-23 14:28:02.461 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:TIMESTAMP) <- [2025-09-23T14:28:02.459605]
2025-09-23 14:28:02.461 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [testuser]
2025-09-23 14:28:02.464 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:28:02.465 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.AuthService - User testuser registered successfully
2025-09-23 14:28:02.465 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:28:02.465 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(102658104<open>)]
2025-09-23 14:28:02.473 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(102658104<open>)] after transaction
2025-09-23 14:28:02.473 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.AuthController - Registration successful for user: testuser
2025-09-23 14:28:02.473 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:28:02.473 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@75554c19]
2025-09-23 14:28:02.473 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:28:20.273 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:28:20.273 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:28:20.273 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/projects
2025-09-23 14:28:20.273 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: Bearer
2025-09-23 14:28:20.273 [http-nio-8081-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:28:20.274 [http-nio-8081-exec-2] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/projects from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-23 14:28:28.102 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:28:28.102 [http-nio-8081-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:28:28.102 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:28:28.102 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:28:28.102 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:28:28.102 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='testuser', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:28:28.103 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: testuser
2025-09-23 14:28:28.103 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:28:28.103 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1095767882<open>)] for JPA transaction
2025-09-23 14:28:28.103 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5091f6af]
2025-09-23 14:28:28.103 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.AuthService - Attempting login for user: testuser
2025-09-23 14:28:28.103 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:28:28.105 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:28:28.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:28:28.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:28:28.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:28:28.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:28:28.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:28:28.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:28:28.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:28:28.106 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:28:28.484 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.AuthService - User testuser logged in successfully
2025-09-23 14:28:28.484 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:28:28.484 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1095767882<open>)]
2025-09-23 14:28:28.486 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1095767882<open>)] after transaction
2025-09-23 14:28:28.486 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.AuthController - Login successful for user: testuser
2025-09-23 14:28:28.486 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:28:28.486 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@34b324bb]
2025-09-23 14:28:28.486 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:28:28.675 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:28:28.675 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:28:28.675 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:28:45.072 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:28:45.074 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:28:45.074 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/projects
2025-09-23 14:28:45.074 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: Bearer
2025-09-23 14:28:45.074 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:28:45.075 [http-nio-8081-exec-6] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/projects from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-23 14:28:49.678 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@40b093fd: (connection has passed maxLifetime)
2025-09-23 14:28:49.688 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186
2025-09-23 14:28:50.701 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@6fe883c6: (connection has passed maxLifetime)
2025-09-23 14:28:50.706 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bcfabbd
2025-09-23 14:28:54.811 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@2ed589fd: (connection has passed maxLifetime)
2025-09-23 14:28:54.816 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ade50db
2025-09-23 14:28:58.675 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:28:58.676 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:28:58.676 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:29:28.679 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:29:28.679 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:29:28.680 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:29:58.683 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:29:58.686 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:29:58.686 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:30:13.803 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:30:13.805 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:30:13.805 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:30:13.809 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:30:13.810 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:30:13.811 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:30:13.812 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:30:13.812 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:30:13.812 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:30:13.814 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:30:13.814 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:30:13.815 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:30:13.815 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:13.816 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:13.816 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:13.817 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(519619794<open>)] for JPA transaction
2025-09-23 14:30:13.817 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63ef0e8]
2025-09-23 14:30:13.817 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:30:13.821 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:30:13.828 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:30:13.830 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:13.831 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(519619794<open>)]
2025-09-23 14:30:13.833 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(519619794<open>)] after transaction
2025-09-23 14:30:13.833 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:13.835 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:30:13.836 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:30:13.838 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:30:13.838 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:30:13.838 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10]
2025-09-23 14:30:13.838 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:30:13.838 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:30:13.838 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:13.838 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:30:13.838 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:20:08]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:30:13.839 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:30:13.840 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:30:13.841 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:30:13.843 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186 due to dirty commit state on close().
2025-09-23 14:30:13.845 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:13.845 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:13.847 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:13.849 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:30:13.850 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186 due to dirty commit state on close().
2025-09-23 14:30:13.851 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:13.851 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:13.851 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:30:13.852 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:13.853 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:30:13.854 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186 due to dirty commit state on close().
2025-09-23 14:30:13.854 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:13.854 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:13.854 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:30:13.856 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186 due to dirty commit state on close().
2025-09-23 14:30:13.857 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:13.857 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:13.857 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:30:13.859 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186 due to dirty commit state on close().
2025-09-23 14:30:13.859 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:13.859 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:13.860 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:30:13.861 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186 due to dirty commit state on close().
2025-09-23 14:30:13.861 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:13.861 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:13.861 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:13.863 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:30:13.864 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:30:13.865 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186 due to dirty commit state on close().
2025-09-23 14:30:13.866 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:30:13.867 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2349f119]
2025-09-23 14:30:13.868 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:30:28.688 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:30:28.689 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:30:28.689 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:30:30.269 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:30:30.270 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:30:30.270 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 294
2025-09-23 14:30:30.270 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:30:30.271 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:30:30.272 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:30:30.274 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:30:30.274 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects
2025-09-23 14:30:30.275 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:30:30.275 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:30:30.276 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:30:30.276 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:30:30.276 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='221122', description='11', phases=1 phases}]
2025-09-23 14:30:30.277 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:30.278 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:30.278 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:30.278 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(402966904<open>)] for JPA transaction
2025-09-23 14:30:30.278 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@d81c879]
2025-09-23 14:30:30.278 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:30:30.278 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:30:30.284 [http-nio-8081-exec-9] WARN  com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-09-23 14:30:30.285 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@1af2a186: (connection is dead)
2025-09-23 14:30:30.285 [http-nio-8081-exec-9] WARN  com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5bcfabbd (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-09-23 14:30:30.285 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@5bcfabbd: (connection is dead)
2025-09-23 14:30:30.285 [http-nio-8081-exec-9] WARN  com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6ade50db (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-09-23 14:30:30.285 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Add connection elided, waiting=1, adders pending/running=2
2025-09-23 14:30:30.285 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@6ade50db: (connection is dead)
2025-09-23 14:30:30.288 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:30.319 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:30.364 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:30.446 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:30.610 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:30.937 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:31.583 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:32.867 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:35.434 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:121)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 16 common frames omitted
2025-09-23 14:30:40.444 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Cannot acquire connection from data source
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:582)
	at com.mysql.cj.protocol.a.NativeProtocol.readServerCapabilities(NativeProtocol.java:537)
	at com.mysql.cj.protocol.a.NativeProtocol.beforeHandshake(NativeProtocol.java:424)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1428)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:134)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576)
	... 19 common frames omitted
2025-09-23 14:30:45.283 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Timeout failure stats (total=0, active=0, idle=0, waiting=0)
2025-09-23 14:30:45.286 [http-nio-8081-exec-9] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08S01
2025-09-23 14:30:45.286 [http-nio-8081-exec-9] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - WeeklyReportHikariCP-Dev - Connection is not available, request timed out after 15006ms.
2025-09-23 14:30:45.286 [http-nio-8081-exec-9] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Communications link failure
2025-09-23 14:30:45.294 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-23 14:30:45.294 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(402966904<open>)]
2025-09-23 14:30:45.295 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Add connection elided, waiting=1, adders pending/running=3
2025-09-23 14:30:45.474 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@499afc65
2025-09-23 14:30:45.475 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(402966904<open>)] after transaction
2025-09-23 14:30:45.475 [http-nio-8081-exec-9] ERROR com.weeklyreport.controller.ProjectController - Error creating project
org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection [WeeklyReportHikariCP-Dev - Connection is not available, request timed out after 15006ms.] [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:274)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:249)
	at jdk.proxy2/jdk.proxy2.$Proxy175.findByUsername(Unknown Source)
	at com.weeklyreport.service.UserService.getUserProfile(UserService.java:44)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.UserService$$SpringCGLIB$$0.getUserProfile(<generated>)
	at com.weeklyreport.controller.ProjectController.getCurrentUser(ProjectController.java:77)
	at com.weeklyreport.controller.ProjectController.createProject(ProjectController.java:251)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.controller.ProjectController$$SpringCGLIB$$0.createProject(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [WeeklyReportHikariCP-Dev - Connection is not available, request timed out after 15006ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:51)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:150)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:177)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:152)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.lambda$list$0(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:227)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:164)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:218)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:98)
	at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:200)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:109)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:305)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:246)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:559)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:223)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 163 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: WeeklyReportHikariCP-Dev - Connection is not available, request timed out after 15006ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 203 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:440)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	... 1 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:501)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:485)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:582)
	at com.mysql.cj.protocol.a.NativeProtocol.readServerCapabilities(NativeProtocol.java:537)
	at com.mysql.cj.protocol.a.NativeProtocol.beforeHandshake(NativeProtocol.java:424)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1428)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:134)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:939)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:809)
	... 13 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576)
	... 19 common frames omitted
2025-09-23 14:30:45.478 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:30:45.478 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@14b824b3]
2025-09-23 14:30:45.478 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-23 14:30:45.492 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c
2025-09-23 14:30:45.511 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@381161b8
2025-09-23 14:30:46.194 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:30:46.196 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:30:46.196 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 294
2025-09-23 14:30:46.197 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:30:46.197 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:30:46.198 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:30:46.198 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:30:46.198 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects
2025-09-23 14:30:46.198 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:30:46.199 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:30:46.199 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:30:46.199 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:30:46.199 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='221122', description='11', phases=1 phases}]
2025-09-23 14:30:46.199 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:46.200 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:46.200 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:46.200 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1864884229<open>)] for JPA transaction
2025-09-23 14:30:46.200 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@314ee37d]
2025-09-23 14:30:46.200 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:30:46.201 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:30:46.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:30:46.220 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:46.220 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:30:46.220 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:30:46.220 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:30:46.220 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:30:46.220 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:30:46.220 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:30:46.220 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:30:46.222 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:46.222 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1864884229<open>)]
2025-09-23 14:30:46.223 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1864884229<open>)] after transaction
2025-09-23 14:30:46.223 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:46.224 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:30:46.225 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [221122]
2025-09-23 14:30:46.225 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:30:46.226 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:46.226 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:46.226 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(648729972<open>)] for JPA transaction
2025-09-23 14:30:46.226 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3631ad2a]
2025-09-23 14:30:46.227 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:30:46.227444]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [3]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [11]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [1]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [1]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [221122]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [1]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [1]
2025-09-23 14:30:46.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:30:46.227463]
2025-09-23 14:30:46.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:30:46.230 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:46.230 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(648729972<open>)]
2025-09-23 14:30:46.232 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(648729972<open>)] after transaction
2025-09-23 14:30:46.232 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Project created: 7 by user: 3, entering AI analysis
2025-09-23 14:30:46.232 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 7
2025-09-23 14:30:46.232 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 7
项目名称: 221122
项目描述: 11
项目成员: 1
预期结果: 1
时间线: 1
止损点: 1
2025-09-23 14:30:46.232 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：221122
- 项目内容：11
- 项目成员：1
- 预期结果：1
- 时间线：1
- 止损点：1

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:30:46.232 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 7
分析类型: PROJECT_EVALUATION
2025-09-23 14:30:46.233 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:30:46.233 [http-nio-8081-exec-10] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:30:46.233 [http-nio-8081-exec-10] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:30:46.233 [http-nio-8081-exec-10] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:30:46.233 [http-nio-8081-exec-10] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:30:46.233 [http-nio-8081-exec-10] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@51490d5d] as "application/json"
2025-09-23 14:30:47.643 [http-nio-8081-exec-10] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:30:50.799 [http-nio-8081-exec-10] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:30:50.800 [http-nio-8081-exec-10] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:30:50.800 [http-nio-8081-exec-10] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"d7fc8e34-2fdd-4c7d-964c-d9ca99ce8506","object":"chat.completion","created":1758609047,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:30:50.801 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 7
2025-09-23 14:30:50.801 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 7
2025-09-23 14:30:50.802 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 7
2025-09-23 14:30:50.802 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:30:50.802 [ForkJoinPool.commonPool-worker-3] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:30:50.802 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:30:50.803 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:50.803 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:30:50.803 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(642102131<open>)] for JPA transaction
2025-09-23 14:30:50.803 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:30:50.807 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7c7a8b60]
2025-09-23 14:30:50.807 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:30:50.808 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@7ebe877c] as "application/json"
2025-09-23 14:30:50.812 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:30:50.935 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [11]
2025-09-23 14:30:50.936 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:30:50.812022]
2025-09-23 14:30:50.936 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [1]
2025-09-23 14:30:50.936 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [null]
2025-09-23 14:30:50.936 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [1]
2025-09-23 14:30:50.936 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [7]
2025-09-23 14:30:50.936 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [11]
2025-09-23 14:30:50.936 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:30:50.812132]
2025-09-23 14:30:50.938 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:30:50.939 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:50.939 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(642102131<open>)]
2025-09-23 14:30:50.949 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(642102131<open>)] after transaction
2025-09-23 14:30:50.950 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Created 1 phases for project: 7
2025-09-23 14:30:50.953 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:30:50.953 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@77e99102]
2025-09-23 14:30:50.954 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:30:51.427 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:30:52.967 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:30:52.968 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:30:52.968 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:30:52.971 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:30:52.973 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:30:52.974 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:30:52.976 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:30:52.976 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:30:52.976 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:30:52.979 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:30:52.980 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:30:52.980 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:30:52.980 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:52.981 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:52.984 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:52.987 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:30:52.991 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:52.993 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:30:52.994 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:52.995 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:52.995 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1105212514<open>)] for JPA transaction
2025-09-23 14:30:52.995 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@143f2f8a]
2025-09-23 14:30:52.995 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:30:52.997 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:30:52.998 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:53.000 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1105212514<open>)]
2025-09-23 14:30:53.002 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1105212514<open>)] after transaction
2025-09-23 14:30:53.002 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:53.003 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:53.005 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:53.007 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:30:53.007 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:30:53.007 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:53.007 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:53.008 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:53.008 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:53.008 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:30:53.008 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:30:53.008 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:53.009 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:53.009 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:53.010 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:30:53.013 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:53.013 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:30:53.013 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:30:53.015 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:53.015 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:30:53.016 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:30:53.016 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4d46320c]
2025-09-23 14:30:53.016 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:30:55.025 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:30:55.027 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:30:55.027 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:30:55.028 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:30:55.030 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:30:55.030 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:30:55.031 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:30:55.031 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:30:55.032 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:30:55.034 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:30:55.034 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:30:55.034 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:30:55.034 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:55.034 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:55.035 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:55.036 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:30:55.039 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:55.041 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:30:55.042 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:55.042 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:55.043 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(177288396<open>)] for JPA transaction
2025-09-23 14:30:55.043 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@521a7a95]
2025-09-23 14:30:55.043 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:30:55.044 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:30:55.044 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:30:55.049 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:55.049 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:30:55.050 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:30:55.050 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:30:55.050 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:30:55.050 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:30:55.050 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:30:55.050 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:30:55.050 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:55.050 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(177288396<open>)]
2025-09-23 14:30:55.067 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(177288396<open>)] after transaction
2025-09-23 14:30:55.068 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:55.068 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:55.068 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:55.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:30:55.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:30:55.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:55.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:55.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:55.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:55.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:30:55.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:30:55.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:55.075 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:55.075 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:55.076 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:30:55.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:55.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:30:55.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:30:55.079 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:55.079 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:30:55.080 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:30:55.080 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5f2832b8]
2025-09-23 14:30:55.080 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:30:55.995 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:30:55.996 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:30:55.996 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"ddfc624e-5ba8-4991-b0b8-e41aef0d4359","object":"chat.completion","created":1758609051,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:30:55.996 [ForkJoinPool.commonPool-worker-3] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:30:55.996 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:30:55.996 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：221122\n- 项目内容：11\n- 项目成员：1\n- 预期结果：1\n- 时间线：1\n- 止损点：1\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:30:55.997 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:30:55.997 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:30:55.997 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@707976db] as "application/json"
2025-09-23 14:30:56.550 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:30:57.088 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:30:57.088 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:30:57.088 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:30:57.089 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:30:57.090 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:30:57.091 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:30:57.093 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:30:57.093 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:30:57.093 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:30:57.096 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:30:57.096 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:30:57.096 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:30:57.097 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:57.097 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:57.098 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:57.098 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:30:57.100 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:57.101 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:57.102 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:30:57.103 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:57.103 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:57.103 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(127009591<open>)] for JPA transaction
2025-09-23 14:30:57.103 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@307c7058]
2025-09-23 14:30:57.103 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:30:57.104 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:30:57.105 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:30:57.106 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:57.106 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:30:57.106 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:30:57.106 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:30:57.106 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:30:57.106 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:30:57.107 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:30:57.107 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:30:57.107 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:57.107 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(127009591<open>)]
2025-09-23 14:30:57.108 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(127009591<open>)] after transaction
2025-09-23 14:30:57.108 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:57.108 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:57.109 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:30:57.110 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:57.111 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:57.111 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:57.112 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:30:57.112 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:57.112 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:30:57.112 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:30:57.115 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:57.115 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:30:57.116 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:30:57.116 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@725ea9d9]
2025-09-23 14:30:57.116 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:30:58.693 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:30:58.693 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:30:58.693 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:30:59.114 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:30:59.114 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:30:59.114 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:30:59.115 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:30:59.116 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:30:59.116 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:30:59.117 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:30:59.117 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:30:59.117 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(114676016<open>)] for JPA transaction
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3bd11deb]
2025-09-23 14:30:59.118 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:30:59.119 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:30:59.122 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:30:59.124 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:30:59.124 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:30:59.124 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:30:59.125 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:30:59.125 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:30:59.125 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:59.126 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(114676016<open>)]
2025-09-23 14:30:59.126 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:30:59.126 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:30:59.126 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:30:59.126 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:30:59.126 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(114676016<open>)] after transaction
2025-09-23 14:30:59.127 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.128 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:30:59.128 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:30:59.128 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:30:59.128 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:30:59.128 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:59.128 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:30:59.129 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.129 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:30:59.129 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [11]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [221122]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:20:08]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:30:59.131 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:30:59.132 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:30:59.132 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:30:59.133 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:59.133 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:30:59.133 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.134 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:30:59.134 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.134 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.134 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1285995549<open>)] for JPA transaction
2025-09-23 14:30:59.134 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2d079393]
2025-09-23 14:30:59.134 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:30:59.134 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:59.135 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:30:59.136 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:30:59.136 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:59.137 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:30:59.138 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:30:59.138 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1285995549<open>)]
2025-09-23 14:30:59.139 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.139 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:30:59.139 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1285995549<open>)] after transaction
2025-09-23 14:30:59.140 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.140 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:59.140 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:30:59.141 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:59.141 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:59.141 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.141 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.141 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:30:59.141 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:30:59.141 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:30:59.141 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:59.141 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:59.141 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:59.141 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:30:59.142 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:30:59.142 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:30:59.142 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:30:59.142 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:59.143 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:30:59.143 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.143 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.143 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:30:59.143 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:30:59.143 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:30:59.143 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:30:59.144 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:59.144 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:30:59.144 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.144 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:30:59.145 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.145 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.145 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2d1c7e02]
2025-09-23 14:30:59.145 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:30:59.145 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:30:59.147 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:59.147 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.147 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.147 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:30:59.148 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:59.149 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:30:59.149 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:30:59.149 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:30:59.149 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:30:59.149 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:30:59.149 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:30:59.149 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:30:59.149 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:30:59.150 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1e8259b4]
2025-09-23 14:30:59.151 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:00.260 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:00.261 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:00.261 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:00.261 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:00.262 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:00.262 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:00.263 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:00.263 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:00.263 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:00.265 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:00.265 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:00.265 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:00.266 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:00.266 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:00.267 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:00.267 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:00.269 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:00.270 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:00.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:00.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:00.271 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:00.272 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:00.272 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:00.272 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1396835829<open>)] for JPA transaction
2025-09-23 14:31:00.272 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33155093]
2025-09-23 14:31:00.272 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:00.273 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:00.273 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:00.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:00.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:00.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:00.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:00.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:00.274 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:00.275 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:00.275 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:00.275 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:00.275 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1396835829<open>)]
2025-09-23 14:31:00.275 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1396835829<open>)] after transaction
2025-09-23 14:31:00.275 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:00.276 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:00.276 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:00.277 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:00.278 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:00.278 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:00.278 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:00.278 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:00.280 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:00.280 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:00.280 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:00.280 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4c1811ce]
2025-09-23 14:31:00.281 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:01.152 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:01.152 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:01.152 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:01.153 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:01.153 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:01.154 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:01.155 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:01.155 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:01.155 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:01.156 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:01.157 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:01.157 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:01.157 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:01.157 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:01.157 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:01.158 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:01.159 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:01.160 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:01.160 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:01.160 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:01.160 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:01.160 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:01.160 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:01.160 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(846231109<open>)] for JPA transaction
2025-09-23 14:31:01.161 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@55197601]
2025-09-23 14:31:01.162 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:01.162 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:01.162 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:01.163 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(846231109<open>)]
2025-09-23 14:31:01.164 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(846231109<open>)] after transaction
2025-09-23 14:31:01.165 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:01.165 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:01.165 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:01.166 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:01.167 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:01.167 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:01.168 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:01.168 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:01.168 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:01.168 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:01.170 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:01.170 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:01.170 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:01.170 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3afde2ca]
2025-09-23 14:31:01.171 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:03.177 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:03.177 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:03.177 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:03.178 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:03.179 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:03.179 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:03.180 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:03.180 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:03.180 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:03.181 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:03.181 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:03.181 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:03.182 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:03.182 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:03.182 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:03.183 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:03.184 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:03.185 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:03.186 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:03.186 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:03.186 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1821031132<open>)] for JPA transaction
2025-09-23 14:31:03.186 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@646096f3]
2025-09-23 14:31:03.186 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:03.187 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:03.187 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:03.188 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1821031132<open>)]
2025-09-23 14:31:03.189 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1821031132<open>)] after transaction
2025-09-23 14:31:03.190 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:03.190 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:03.190 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:03.191 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:03.191 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:03.192 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:03.193 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:03.193 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:03.193 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:03.193 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:03.195 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:03.195 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:03.195 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:03.195 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5a6bc932]
2025-09-23 14:31:03.195 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:05.202 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:05.202 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:05.202 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:05.203 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:05.203 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:05.204 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:05.205 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:05.205 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:05.205 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:05.206 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:05.206 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:05.206 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:05.206 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:05.207 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:05.207 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:05.207 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:05.208 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:05.210 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:05.211 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(402487362<open>)] for JPA transaction
2025-09-23 14:31:05.211 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4a514499]
2025-09-23 14:31:05.211 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:05.211 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:05.211 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:05.212 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:05.213 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(402487362<open>)]
2025-09-23 14:31:05.214 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(402487362<open>)] after transaction
2025-09-23 14:31:05.214 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:05.215 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:05.215 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:05.216 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:05.217 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:05.217 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:05.217 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:05.217 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:05.218 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:05.219 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:05.219 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:05.219 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@356b889d]
2025-09-23 14:31:05.219 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:07.224 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:07.224 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:07.224 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:07.225 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:07.225 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:07.225 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:07.226 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:07.226 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:07.226 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:07.227 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:07.227 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:07.227 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:07.227 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:07.227 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:07.228 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:07.228 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:07.229 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:07.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:07.231 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:07.231 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:07.231 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:07.231 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:07.231 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:07.231 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:07.231 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1148247198<open>)] for JPA transaction
2025-09-23 14:31:07.232 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f2b6382]
2025-09-23 14:31:07.232 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:07.232 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:07.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:07.233 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:07.233 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:07.233 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:07.233 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:07.233 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:07.233 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:07.233 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:07.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:07.234 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:07.234 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1148247198<open>)]
2025-09-23 14:31:07.234 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1148247198<open>)] after transaction
2025-09-23 14:31:07.234 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:07.235 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:07.235 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:07.236 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:07.237 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:07.237 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:07.237 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:07.237 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:07.237 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:07.239 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:07.239 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:07.239 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:07.239 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@60195210]
2025-09-23 14:31:07.239 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:09.245 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:09.245 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:09.245 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:09.246 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:09.246 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:09.246 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:09.247 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:09.247 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:09.247 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:09.248 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:09.248 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:09.248 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:09.248 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:09.248 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:09.248 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.249 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:09.250 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:09.252 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:09.253 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.254 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:09.254 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(489633497<open>)] for JPA transaction
2025-09-23 14:31:09.254 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7c94b9dc]
2025-09-23 14:31:09.254 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:09.254 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:09.254 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:09.256 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:09.257 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(489633497<open>)]
2025-09-23 14:31:09.258 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(489633497<open>)] after transaction
2025-09-23 14:31:09.258 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.259 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:09.259 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:09.260 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.261 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.262 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:09.262 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:09.262 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:09.262 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:09.264 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.264 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:09.264 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:09.264 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@77fad71e]
2025-09-23 14:31:09.265 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:09.531 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:31:09.531 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:31:09.531 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:31:09.532 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:31:09.532 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:31:09.533 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:09.533 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:09.533 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:31:09.533 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:09.534 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:31:09.534 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:31:09.535 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:31:09.535 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:09.535 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:09.535 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:09.535 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1747701889<open>)] for JPA transaction
2025-09-23 14:31:09.535 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3242cdb4]
2025-09-23 14:31:09.535 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:09.536 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:09.536 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:09.539 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1747701889<open>)]
2025-09-23 14:31:09.540 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1747701889<open>)] after transaction
2025-09-23 14:31:09.540 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.541 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:31:09.541 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:31:09.542 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [11]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [221122]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:20:08]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:31:09.543 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:31:09.544 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:31:09.545 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.545 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.545 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:09.545 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:09.547 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.548 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.548 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:09.548 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:09.550 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:31:09.551 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.551 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.551 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:09.552 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:09.553 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:31:09.554 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.555 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.555 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:09.555 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:31:09.557 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.558 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.559 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:09.559 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:31:09.561 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.561 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.562 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:09.562 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:31:09.564 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.564 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:09.564 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:09.565 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:31:09.566 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:31:09.567 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:09.567 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:09.568 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6fb93b88]
2025-09-23 14:31:09.569 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:10.569 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:10.569 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:10.569 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:10.570 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:10.572 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:10.572 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:10.574 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:10.574 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:10.574 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:10.576 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:10.576 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:10.576 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:10.576 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:10.577 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:10.577 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:10.577 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:10.579 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:10.580 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:10.580 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:10.581 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:10.582 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(873548806<open>)] for JPA transaction
2025-09-23 14:31:10.582 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b5028cf]
2025-09-23 14:31:10.582 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:10.582 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:10.582 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:10.584 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(873548806<open>)]
2025-09-23 14:31:10.585 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(873548806<open>)] after transaction
2025-09-23 14:31:10.585 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:10.585 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:10.585 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:10.586 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:10.586 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:10.587 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:10.587 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:10.587 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:10.587 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:10.587 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:10.587 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:10.587 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:10.587 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:10.588 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:10.589 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:10.589 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:10.589 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:10.589 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:10.591 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:10.591 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:10.591 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:10.592 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1d507214]
2025-09-23 14:31:10.592 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:11.269 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:11.269 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:11.269 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:11.270 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:11.270 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:11.271 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:11.271 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:11.271 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:11.271 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:11.272 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:11.272 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:11.272 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:11.272 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:11.273 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:11.273 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:11.273 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:11.275 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:11.277 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:11.278 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:31:11.278 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:11.278 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1994321780<open>)] for JPA transaction
2025-09-23 14:31:11.278 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5a5ca00c]
2025-09-23 14:31:11.278 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:11.279 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:11.279 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:11.280 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1994321780<open>)]
2025-09-23 14:31:11.281 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1994321780<open>)] after transaction
2025-09-23 14:31:11.281 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:11.281 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:11.281 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:11.282 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:11.283 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:31:11.283 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:11.284 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:11.284 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:11.284 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:11.284 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:11.286 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:31:11.286 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:11.286 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:11.286 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3909e20f]
2025-09-23 14:31:11.286 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:13.291 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:13.291 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:13.291 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:13.292 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:13.292 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:13.293 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:13.293 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:13.293 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:13.293 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:13.294 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:13.294 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:13.295 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:13.295 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:13.295 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:13.295 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:13.295 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:13.297 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:13.300 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:13.301 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:13.302 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:13.302 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1332924278<open>)] for JPA transaction
2025-09-23 14:31:13.302 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@92b25d3]
2025-09-23 14:31:13.302 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:13.302 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:13.302 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:13.304 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1332924278<open>)]
2025-09-23 14:31:13.305 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1332924278<open>)] after transaction
2025-09-23 14:31:13.305 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:13.305 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:13.305 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:13.306 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:13.307 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:13.308 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:13.308 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:13.308 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:13.308 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:13.308 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:13.310 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:13.311 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:13.311 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:13.311 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@30ff07ce]
2025-09-23 14:31:13.311 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:15.317 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:15.317 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:15.317 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:15.318 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:15.318 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:15.318 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:15.319 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:15.319 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:15.319 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:15.320 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:15.320 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:15.320 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:15.320 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:15.321 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:15.321 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:15.321 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:15.323 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:15.324 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:15.325 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:15.325 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1854787858<open>)] for JPA transaction
2025-09-23 14:31:15.325 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@640fe380]
2025-09-23 14:31:15.325 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:15.325 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:15.325 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1854787858<open>)]
2025-09-23 14:31:15.327 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1854787858<open>)] after transaction
2025-09-23 14:31:15.328 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:15.328 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:15.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:15.330 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:15.331 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:15.331 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:15.332 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:15.332 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:15.332 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:15.332 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:15.334 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:15.334 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:15.334 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:15.334 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1056904c]
2025-09-23 14:31:15.335 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:17.343 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:17.343 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:17.343 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:17.343 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:17.344 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:17.344 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:17.345 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:17.345 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:17.345 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:17.346 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:17.346 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:17.346 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:17.346 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:17.346 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:17.347 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:17.347 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:17.348 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:17.350 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:17.351 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:17.351 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:17.351 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(86939839<open>)] for JPA transaction
2025-09-23 14:31:17.351 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@28bb3a26]
2025-09-23 14:31:17.351 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:17.351 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:17.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(86939839<open>)]
2025-09-23 14:31:17.353 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(86939839<open>)] after transaction
2025-09-23 14:31:17.354 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:17.354 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:17.354 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:17.356 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:17.357 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:17.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:17.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:17.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:17.359 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:17.359 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:17.359 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:17.359 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2c0df29d]
2025-09-23 14:31:17.359 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:19.365 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:19.365 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:19.366 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:19.367 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:19.367 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:19.367 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:19.368 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:19.368 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:19.368 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:19.369 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:19.369 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:19.369 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:19.369 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:19.369 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:19.370 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:19.370 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:19.372 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:19.373 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:19.374 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:19.374 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:19.374 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1487957979<open>)] for JPA transaction
2025-09-23 14:31:19.374 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@781a04e5]
2025-09-23 14:31:19.374 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:19.374 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:19.374 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1487957979<open>)]
2025-09-23 14:31:19.376 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1487957979<open>)] after transaction
2025-09-23 14:31:19.377 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:19.377 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:19.377 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:19.378 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:19.379 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:19.379 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:19.379 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:19.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:19.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:19.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:19.381 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:19.381 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:19.381 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:19.381 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@18fabcbd]
2025-09-23 14:31:19.381 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:21.387 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:21.387 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:21.387 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:21.388 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:21.388 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:21.389 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:21.389 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:21.389 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:21.389 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:21.391 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:21.391 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:21.391 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:21.391 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:21.391 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:21.391 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:21.392 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:21.393 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:21.394 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:21.395 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:21.395 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:21.395 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(118595627<open>)] for JPA transaction
2025-09-23 14:31:21.395 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e8eff2]
2025-09-23 14:31:21.395 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:21.396 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:21.396 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:21.398 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(118595627<open>)]
2025-09-23 14:31:21.399 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(118595627<open>)] after transaction
2025-09-23 14:31:21.400 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:21.400 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:21.400 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:21.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:21.402 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:21.402 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:21.402 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:21.402 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:21.402 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:21.402 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:21.404 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:21.404 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:21.404 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:21.404 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@28edf194]
2025-09-23 14:31:21.405 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:23.414 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:23.414 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:23.414 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:23.414 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:23.414 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:23.415 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:23.415 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:23.415 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:23.415 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:23.417 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:23.417 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:23.417 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:23.417 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:23.417 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:23.417 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:23.418 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:23.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:23.420 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:23.421 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:23.421 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:23.421 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(588474402<open>)] for JPA transaction
2025-09-23 14:31:23.421 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@731f0637]
2025-09-23 14:31:23.421 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:23.422 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:23.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:23.423 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(588474402<open>)]
2025-09-23 14:31:23.424 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(588474402<open>)] after transaction
2025-09-23 14:31:23.424 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:23.424 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:23.424 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:23.425 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:23.425 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:23.425 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:23.425 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:23.426 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:23.426 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:23.426 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:23.426 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:23.426 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:23.426 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:23.426 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:23.427 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:23.427 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:23.427 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:23.427 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:23.429 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:23.430 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:23.430 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:23.430 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@310215ce]
2025-09-23 14:31:23.430 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:25.435 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:25.435 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:25.435 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:25.435 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:25.436 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:25.436 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:25.437 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:25.437 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:25.437 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:25.438 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:25.438 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:25.438 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:25.438 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:25.439 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:25.439 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:25.439 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:25.440 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:25.442 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:25.443 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:25.443 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(630134472<open>)] for JPA transaction
2025-09-23 14:31:25.443 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3d5de1e3]
2025-09-23 14:31:25.443 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:25.443 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:25.443 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:25.445 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(630134472<open>)]
2025-09-23 14:31:25.446 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(630134472<open>)] after transaction
2025-09-23 14:31:25.446 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:25.446 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:25.446 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:25.447 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:25.447 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:25.447 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:25.447 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:25.448 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:25.448 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:25.448 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:25.448 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:25.448 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:25.448 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:25.448 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:25.449 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:25.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:25.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:25.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:25.451 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:25.451 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:25.451 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:25.452 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2ef4ed64]
2025-09-23 14:31:25.453 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:27.459 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:27.459 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:27.459 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:27.459 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:27.460 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:27.460 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:27.460 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:27.460 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:27.460 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:27.469 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:27.469 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:27.469 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:27.469 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:27.469 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:27.469 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:27.470 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:27.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:27.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:27.473 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:27.473 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:27.473 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1177125625<open>)] for JPA transaction
2025-09-23 14:31:27.473 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7eed2de1]
2025-09-23 14:31:27.473 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:27.473 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:27.473 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:27.474 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1177125625<open>)]
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1177125625<open>)] after transaction
2025-09-23 14:31:27.475 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:27.476 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:27.476 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:27.477 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:27.477 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:27.477 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:27.477 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:27.478 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:27.478 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:27.478 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:27.478 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:27.478 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:27.478 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:27.478 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:27.479 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:27.479 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:27.479 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:27.479 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:27.481 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:27.481 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:27.481 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:27.481 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@21c41b67]
2025-09-23 14:31:27.481 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:28.697 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:31:28.697 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:31:28.697 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:31:29.487 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:29.488 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:29.488 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:29.488 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:29.489 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:29.489 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:29.490 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:29.490 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:29.490 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:29.491 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:29.491 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:29.491 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:29.491 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:29.492 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:29.492 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:29.492 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:29.494 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:29.495 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:29.496 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:29.496 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:29.496 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1369973831<open>)] for JPA transaction
2025-09-23 14:31:29.496 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a7116f1]
2025-09-23 14:31:29.496 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:29.497 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:29.497 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:29.499 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1369973831<open>)]
2025-09-23 14:31:29.502 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1369973831<open>)] after transaction
2025-09-23 14:31:29.502 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:29.503 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:29.503 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:29.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:29.506 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:29.506 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:29.506 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:29.506 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:29.506 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:29.506 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:29.508 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:29.509 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:29.509 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:29.509 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@542713e3]
2025-09-23 14:31:29.509 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:31.514 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/7
2025-09-23 14:31:31.515 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/7
2025-09-23 14:31:31.515 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/7, length: 294
2025-09-23 14:31:31.515 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/7
2025-09-23 14:31:31.516 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/7
2025-09-23 14:31:31.516 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:31.517 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:31.517 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/7
2025-09-23 14:31:31.517 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:31.518 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/7
2025-09-23 14:31:31.518 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/7", parameters={}
2025-09-23 14:31:31.518 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:31:31.518 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:31.518 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:31.519 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:31.519 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:31:31.521 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:31:31.522 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:31.523 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:31.523 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:31.523 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:31:31.523 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:31:31.523 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:31.523 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(389825202<open>)] for JPA transaction
2025-09-23 14:31:31.523 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@538d6d6d]
2025-09-23 14:31:31.523 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:31.524 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:31.524 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:31.525 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(389825202<open>)]
2025-09-23 14:31:31.526 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(389825202<open>)] after transaction
2025-09-23 14:31:31.526 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:31.527 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:31.527 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:31:31.528 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:31.529 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:31:31.529 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:31.529 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:31:31.529 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:31:31.530 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:31:31.530 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 7
2025-09-23 14:31:31.531 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:31.531 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2a88e9f6]
2025-09-23 14:31:31.531 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:33.095 [ForkJoinPool.commonPool-worker-3] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:31:33.873 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:31:33.873 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"d4cc583e-9450-41ea-bd13-aa149ff09ee9","object":"chat.completion","created":1758609056,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告\n\n**项目名称**：221122  \n**分析日期**：2023年10月1日  \n**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  \n\n---\n\n#### 1. 项目可行性评估  \n由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  \n- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  \n- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  \n- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  \n\n**结论**：**信息不足，暂无法评估**。需补充细节方可判断。\n\n---\n\n#### 2. 风险评估和建议  \n**主要风险**：  \n- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏离或资源浪费。  \n- **资源风险**：单成员负责全部工作，若遇瓶颈或突发情况无备份支持。  \n- **进度风险**：未定义关键节点，难以监控进度。  \n\n**建议**：  \n- 明确项目范围、可量化目标（如“开发某功能模块”而非“11”）。  \n- 制定详细计划，拆分任务并设置里程碑。  \n- 增加备用资源或跨部门协作机制以降低单点故障风险。  \n\n---\n\n#### 3. 项目优化建议  \n- **信息细化**：重新定义项目核心要素，例如：  \n  - **内容**：具体交付物（如产品原型、报告等）。  \n  - **时间线**：分阶段截止日期（如设计-开发-测试）。  \n  - **止损点**：明确触发条件（如预算超支20%或延期超2周）。  \n- **敏捷调整**：采用迭代开发模式，通过短期循环（如每周评审）及时修正方向。  \n- **成员支持**：若任务复杂，需补充技能或外部支持。  \n\n---\n\n#### 4. 总体评价  \n**结论**：**不通过（需重新规划）**  \n**理由**：当前信息无法支撑可行性判断，存在高度不确定性。建议重新梳理项目框架，补充关键细节后再次评估。  \n\n---\n\n**后续步骤**：  \n1. 与项目发起方沟通，明确项目真实目标、约束条件及成功标准。  \n2. 制定详细项目章程，包含范围、资源计划、风险评估矩阵。  \n3. 若为实验性项目，可先启动小型试点验证核心假设。  \n\n**注**：若“1”为占位符且实际信息完整，请提供具体内容以便重新分析。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":118,"completion_tokens":632,"total_tokens":750,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":118},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:31:33.873 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:31:33.873 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告

**项目名称**：221122  
**分析日期**：2023年10月1日  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  

---

#### 1. 项目可行性评估  
由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  
- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  
- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  
- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  

**结论**：**信息不足，暂无法评估**。需补充细节方可判断。

---

#### 2. 风险评估和建议  
**主要风险**：  
- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏离或资源浪费。  
- **资源风险**：单成员负责全部工作，若遇瓶颈或突发情况无备份支持。  
- **进度风险**：未定义关键节点，难以监控进度。  

**建议**：  
- 明确项目范围、可量化目标（如“开发某功能模块”而非“11”）。  
- 制定详细计划，拆分任务并设置里程碑。  
- 增加备用资源或跨部门协作机制以降低单点故障风险。  

---

#### 3. 项目优化建议  
- **信息细化**：重新定义项目核心要素，例如：  
  - **内容**：具体交付物（如产品原型、报告等）。  
  - **时间线**：分阶段截止日期（如设计-开发-测试）。  
  - **止损点**：明确触发条件（如预算超支20%或延期超2周）。  
- **敏捷调整**：采用迭代开发模式，通过短期循环（如每周评审）及时修正方向。  
- **成员支持**：若任务复杂，需补充技能或外部支持。  

---

#### 4. 总体评价  
**结论**：**不通过（需重新规划）**  
**理由**：当前信息无法支撑可行性判断，存在高度不确定性。建议重新梳理项目框架，补充关键细节后再次评估。  

---

**后续步骤**：  
1. 与项目发起方沟通，明确项目真实目标、约束条件及成功标准。  
2. 制定详细项目章程，包含范围、资源计划、风险评估矩阵。  
3. 若为实验性项目，可先启动小型试点验证核心假设。  

**注**：若“1”为占位符且实际信息完整，请提供具体内容以便重新分析。
2025-09-23 14:31:33.873 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告

**项目名称**：221122  
**分析日期**：2023年10月1日  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  

---

#### 1. 项目可行性评估  
由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  
- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  
- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  
- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  

**结论**：**信息不足，暂无法评估**。需补充细节方可判断。

---

#### 2. 风险评估和建议  
**主要风险**：  
- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏离或资源浪费。  
- **资源风险**：单成员负责全部工作，若遇瓶颈或突发情况无备份支持。  
- **进度风险**：未定义关键节点，难以监控进度。  

**建议**：  
- 明确项目范围、可量化目标（如“开发某功能模块”而非“11”）。  
- 制定详细计划，拆分任务并设置里程碑。  
- 增加备用资源或跨部门协作机制以降低单点故障风险。  

---

#### 3. 项目优化建议  
- **信息细化**：重新定义项目核心要素，例如：  
  - **内容**：具体交付物（如产品原型、报告等）。  
  - **时间线**：分阶段截止日期（如设计-开发-测试）。  
  - **止损点**：明确触发条件（如预算超支20%或延期超2周）。  
- **敏捷调整**：采用迭代开发模式，通过短期循环（如每周评审）及时修正方向。  
- **成员支持**：若任务复杂，需补充技能或外部支持。  

---

#### 4. 总体评价  
**结论**：**不通过（需重新规划）**  
**理由**：当前信息无法支撑可行性判断，存在高度不确定性。建议重新梳理项目框架，补充关键细节后再次评估。  

---

**后续步骤**：  
1. 与项目发起方沟通，明确项目真实目标、约束条件及成功标准。  
2. 制定详细项目章程，包含范围、资源计划、风险评估矩阵。  
3. 若为实验性项目，可先启动小型试点验证核心假设。  

**注**：若“1”为占位符且实际信息完整，请提供具体内容以便重新分析。
2025-09-23 14:31:33.874 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告

**项目名称**：221122  
**分析日期**：2023年10月1日  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  

---

#### 1. 项目可行性评估  
由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  
- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  
- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  
- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  

**结论**：**信息不足，暂无法评估**。需补充细节方可判断。

---

#### 2. 风险评估和建议  
**主要风险**：  
- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏离或资源浪费。  
- **资源风险**：单成员负责全部工作，若遇瓶颈或突发情况无备份支持。  
- **进度风险**：未定义关键节点，难以监控进度。  

**建议**：  
- 明确项目范围、可量化目标（如“开发某功能模块”而非“11”）。  
- 制定详细计划，拆分任务并设置里程碑。  
- 增加备用资源或跨部门协作机制以降低单点故障风险。  

---

#### 3. 项目优化建议  
- **信息细化**：重新定义项目核心要素，例如：  
  - **内容**：具体交付物（如产品原型、报告等）。  
  - **时间线**：分阶段截止日期（如设计-开发-测试）。  
  - **止损点**：明确触发条件（如预算超支20%或延期超2周）。  
- **敏捷调整**：采用迭代开发模式，通过短期循环（如每周评审）及时修正方向。  
- **成员支持**：若任务复杂，需补充技能或外部支持。  

---

#### 4. 总体评价  
**结论**：**不通过（需重新规划）**  
**理由**：当前信息无法支撑可行性判断，存在高度不确定性。建议重新梳理项目框架，补充关键细节后再次评估。  

---

**后续步骤**：  
1. 与项目发起方沟通，明确项目真实目标、约束条件及成功标准。  
2. 制定详细项目章程，包含范围、资源计划、风险评估矩阵。  
3. 若为实验性项目，可先启动小型试点验证核心假设。  

**注**：若“1”为占位符且实际信息完整，请提供具体内容以便重新分析。",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:31:33.874 [ForkJoinPool.commonPool-worker-3] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告

**项目名称**：221122  
**分析日期**：2023年10月1日  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  

---

#### 1. 项目可行性评估  
由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  
- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  
- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  
- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  

**结论**：**信息不足，暂无法评估**。需补充细节方可判断。

---

#### 2. 风险评估和建议  
**主要风险**：  
- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏"[truncated 766 chars]; line: 3, column: 32]
2025-09-23 14:31:33.874 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告

**项目名称**：221122  
**分析日期**：2023年10月1日  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  

---

#### 1. 项目可行性评估  
由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  
- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  
- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  
- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  

**结论**：**信息不足，暂无法评估**。需补充细节方可判断。

---

#### 2. 风险评估和建议  
**主要风险**：  
- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏离或资源浪费。  
- **资源风险**：单成员负责全部工作，若遇瓶颈或突发情况无备份支持。  
- **进度风险**：未定义关键节点，难以监控进度。  

**建议**：  
- 明确项目范围、可量化目标（如“开发某功能模块”而非“11”）。  
- 制定详细计划，拆分任务并设置里程碑。  
- 增加备用资源或跨部门协作机制以降低单点故障风险。  

---

#### 3. 项目优化建议  
- **信息细化**：重新定义项目核心要素，例如：  
  - **内容**：具体交付物（如产品原型、报告等）。  
  - **时间线**：分阶段截止日期（如设计-开发-测试）。  
  - **止损点**：明确触发条件（如预算超支20%或延期超2周）。  
- **敏捷调整**：采用迭代开发模式，通过短期循环（如每周评审）及时修正方向。  
- **成员支持**：若任务复杂，需补充技能或外部支持。  

---

#### 4. 总体评价  
**结论**：**不通过（需重新规划）**  
**理由**：当前信息无法支撑可行性判断，存在高度不确定性。建议重新梳理项目框架，补充关键细节后再次评估。  

---

**后续步骤**：  
1. 与项目发起方沟通，明确项目真实目标、约束条件及成功标准。  
2. 制定详细项目章程，包含范围、资源计划、风险评估矩阵。  
3. 若为实验性项目，可先启动小型试点验证核心假设。  

**注**：若“1”为占位符且实际信息完整，请提供具体内容以便重新分析。
2025-09-23 14:31:33.874 [ForkJoinPool.commonPool-worker-3] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:31:33.874 [ForkJoinPool.commonPool-worker-3] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 37878ms
2025-09-23 14:31:33.874 [ForkJoinPool.commonPool-worker-3] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: 878d07cf-a67d-4820-9a47-0fb4627bf294, Time: 43072ms
2025-09-23 14:31:33.874 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 43072ms
2025-09-23 14:31:33.875 [ForkJoinPool.commonPool-worker-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: 878d07cf-a67d-4820-9a47-0fb4627bf294
2025-09-23 14:31:33.875 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: 878d07cf-a67d-4820-9a47-0fb4627bf294, Provider: DeepSeek AI Service
2025-09-23 14:31:33.875 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 7
2025-09-23 14:31:33.875 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 7
分析ID: 878d07cf-a67d-4820-9a47-0fb4627bf294
提供商: DeepSeek AI Service
结果长度: 1117 字符
2025-09-23 14:31:33.875 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告

**项目名称**：221122  
**分析日期**：2023年10月1日  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  

---

#### 1. 项目可行性评估  
由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  
- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  
- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  
- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  

**结论**：**信息不足，暂无法评估**。需补充细节方可判断。

---

#### 2. 风险评估和建议  
**主要风险**：  
- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏离或资源浪费。  
- **资源风险**：单成员负责全部工作，若遇瓶颈或突发情况无备份支持。  
- **进度风险**：未定义关键节点，难以监控进度。  

**建议**：  
- 明确项目范围、可量化目标（如“开发某功能模块”而非“11”）。  
- 制定详细计划，拆分任务并设置里程碑。  
- 增加备用资源或跨部门协作机制以降低单点故障风险。  

---

#### 3. 项目优化建议  
- **信息细化**：重新定义项目核心要素，例如：  
  - **内容**：具体交付物（如产品原型、报告等）。  
  - **时间线**：分阶段截止日期（如设计-开发-测试）。  
  - **止损点**：明确触发条件（如预算超支20%或延期超2周）。  
- **敏捷调整**：采用迭代开发模式，通过短期循环（如每周评审）及时修正方向。  
- **成员支持**：若任务复杂，需补充技能或外部支持。  

---

#### 4. 总体评价  
**结论**：**不通过（需重新规划）**  
**理由**：当前信息无法支撑可行性判断，存在高度不确定性。建议重新梳理项目框架，补充关键细节后再次评估。  

---

**后续步骤**：  
1. 与项目发起方沟通，明确项目真实目标、约束条件及成功标准。  
2. 制定详细项目章程，包含范围、资源计划、风险评估矩阵。  
3. 若为实验性项目，可先启动小型试点验证核心假设。  

**注**：若“1”为占位符且实际信息完整，请提供具体内容以便重新分析。
2025-09-23 14:31:33.875 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 7
2025-09-23 14:31:33.875 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 7，结果: 878d07cf-a67d-4820-9a47-0fb4627bf294
2025-09-23 14:31:33.875 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:31:33.875 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1948644194<open>)] for JPA transaction
2025-09-23 14:31:33.875 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@667e23a]
2025-09-23 14:31:33.875 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 7
2025-09-23 14:31:33.875 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告

**项目名称**：221122  
**分析日期**：2023年10月1日  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  

---

#### 1. 项目可行性评估  
由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  
- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  
- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  
- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  

**结论**：**信息不足，暂无法评估**。需补充细节方可判断。

---

#### 2. 风险评估和建议  
**主要风险**：  
- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏离或资源浪费。  
- **资源风险**：单成员负责全部工作，若遇瓶颈或突发情况无备份支持。  
- **进度风险**：未定义关键节点，难以监控进度。  

**建议**：  
- 明确项目范围、可量化目标（如“开发某功能模块”而非“11”）。  
- 制定详细计划，拆分任务并设置里程碑。  
- 增加备用资源或跨部门协作机制以降低单点故障风险。  

---

#### 3. 项目优化建议  
- **信息细化**：重新定义项目核心要素，例如：  
  - **内容**：具体交付物（如产品原型、报告等）。  
  - **时间线**：分阶段截止日期（如设计-开发-测试）。  
  - **止损点**：明确触发条件（如预算超支20%或延期超2周）。  
- **敏捷调整**：采用迭代开发模式，通过短期循环（如每周评审）及时修正方向。  
- **成员支持**：若任务复杂，需补充技能或外部支持。  

---

#### 4. 总体评价  
**结论**：**不通过（需重新规划）**  
**理由**：当前信息无法支撑可行性判断，存在高度不确定性。建议重新梳理项目框架，补充关键细节后再次评估。  

---

**后续步骤**：  
1. 与项目发起方沟通，明确项目真实目标、约束条件及成功标准。  
2. 制定详细项目章程，包含范围、资源计划、风险评估矩阵。  
3. 若为实验性项目，可先启动小型试点验证核心假设。  

**注**：若“1”为占位符且实际信息完整，请提供具体内容以便重新分析。
2025-09-23 14:31:33.876 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: false
明确拒绝: true
积极指标: true
消极指标: true
置信度: 0.3
通过判断: 拒绝
2025-09-23 14:31:33.876 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 7, 置信度: 0.3
2025-09-23 14:31:33.876 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1948644194<open>)] for JPA transaction
2025-09-23 14:31:33.876 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:31:33.877 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:31:33.876152]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.3]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:31:33.876909]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:31:33.879 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:31:33.880 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [7]
2025-09-23 14:31:33.880 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告

**项目名称**：221122  
**分析日期**：2023年10月1日  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点均标注为“1”，未提供具体细节）  

---

#### 1. 项目可行性评估  
由于项目关键信息（如具体内容、技术需求、资源细节等）缺失或过于模糊（仅以“1”表示），无法进行客观评估。但基于项目管理原则，初步分析如下：  
- **技术可行性**：信息不足，无法判断技术难度或匹配性。建议明确技术方案和需求。  
- **资源可行性**：仅1名成员，若任务复杂度低或成员能力极强可能可行，但需评估其时间分配与技能匹配度。  
- **时间可行性**：时间线为“1”（单位未知），需明确具体周期（如天、周）、任务量及里程碑。  

**结论**：**信息不足，暂无法评估**。需补充细节方可判断。

---

#### 2. 风险评估和建议  
**主要风险**：  
- **模糊性风险**：目标、内容、标准均不明确，可能导致方向偏离或资源浪费。  
- **资源风险**：单成员负责全部工作，若遇瓶颈或突发情况无备份支持。  
- **进度风险**：未定义关键节点，难以监控进度。  

**建议**：  
- 明确项目范围、可量化目标（如“开发某功能模块”而非“11”）。  
- 制定详细计划，拆分任务并设置里程碑。  
- 增加备用资源或跨部门协作机制以降低单点故障风险。  

---

#### 3. 项目优化建议  
- **信息细化**：重新定义项目核心要素，例如：  
  - **内容**：具体交付物（如产品原型、报告等）。  
  - **时间线**：分阶段截止日期（如设计-开发-测试）。  
  - **止损点**：明确触发条件（如预算超支20%或延期超2周）。  
- **敏捷调整**：采用迭代开发模式，通过短期循环（如每周评审）及时修正方向。  
- **成员支持**：若任务复杂，需补充技能或外部支持。  

---

#### 4. 总体评价  
**结论**：**不通过（需重新规划）**  
**理由**：当前信息无法支撑可行性判断，存在高度不确定性。建议重新梳理项目框架，补充关键细节后再次评估。  

---

**后续步骤**：  
1. 与项目发起方沟通，明确项目真实目标、约束条件及成功标准。  
2. 制定详细项目章程，包含范围、资源计划、风险评估矩阵。  
3. 若为实验性项目，可先启动小型试点验证核心假设。  

**注**：若“1”为占位符且实际信息完整，请提供具体内容以便重新分析。]
2025-09-23 14:31:33.880 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:31:33.880 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:31:33.876921]
2025-09-23 14:31:33.882 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:31:33.882 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 11, 项目ID: 7, 置信度: 0.3
2025-09-23 14:31:33.882 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 7
置信度: 0.3
是否通过: false
新状态: AI_REJECTED
2025-09-23 14:31:33.882 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 7, 状态: AI_REJECTED
2025-09-23 14:31:33.882 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1948644194<open>)] for JPA transaction
2025-09-23 14:31:33.882 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:31:33.882 [ai-task-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:31:33.884 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:33.884 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:31:33.884 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [11]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [221122]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-23 14:31:33.885 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:33.885 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI回调更新状态：项目ID: 7, 从 AI_ANALYZING 更新为 AI_REJECTED
2025-09-23 14:31:33.885 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 关联AI分析结果ID: 11 到项目: 7
2025-09-23 14:31:33.885 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1948644194<open>)] for JPA transaction
2025-09-23 14:31:33.885 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:31:33.885 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 项目状态已更新，ID: 7, 状态: AI_REJECTED
2025-09-23 14:31:33.885 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 7
最终状态: AI_REJECTED
AI结果ID: 11
2025-09-23 14:31:33.885 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:33.885 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1948644194<open>)]
2025-09-23 14:31:33.887 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [11]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_REJECTED]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [3]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [11]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [1]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [1]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [221122]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [1]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [1]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:31:33.886278]
2025-09-23 14:31:33.888 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [7]
2025-09-23 14:31:33.893 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1948644194<open>)] after transaction
2025-09-23 14:31:43.264 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:31:43.268 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:31:43.268 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:31:43.275 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:31:43.276 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:31:43.277 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:31:43.278 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:31:43.278 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:31:43.278 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:31:43.282 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:31:43.283 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:31:43.283 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:31:43.284 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:43.285 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:31:43.285 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:31:43.286 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(979550397<open>)] for JPA transaction
2025-09-23 14:31:43.289 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@15be2e53]
2025-09-23 14:31:43.289 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:31:43.329 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:31:43.359 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:31:43.392 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:43.399 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:31:43.399 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:31:43.399 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:31:43.399 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:31:43.399 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:31:43.401 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:31:43.401 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:31:43.415 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:31:43.416 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(979550397<open>)]
2025-09-23 14:31:43.433 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(979550397<open>)] after transaction
2025-09-23 14:31:43.434 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:43.441 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:31:43.441 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:31:43.458 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:31:43.459 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:31:43.459 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [11]
2025-09-23 14:31:43.459 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [11]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [221122]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:31:34]
2025-09-23 14:31:43.460 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:20:08]
2025-09-23 14:31:43.461 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:31:43.462 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:31:43.462 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:31:43.462 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:31:43.463 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:31:43.464 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:31:43.464 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:31:43.464 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:31:43.465 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:31:43.466 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:31:43.467 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:31:43.468 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:31:43.473 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:43.478 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:43.480 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:43.483 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:31:43.499 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:31:43.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:31:43.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:43.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:43.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:43.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:43.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:31:43.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:31:43.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:31:43.501 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:43.502 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:43.503 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:43.503 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:43.506 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:31:43.509 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:43.510 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:43.511 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:43.511 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:31:43.515 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:31:43.516 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:43.516 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:31:43.516 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:43.516 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:31:43.516 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:43.516 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:31:43.519 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:43.519 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:43.520 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:43.520 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:31:43.528 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:43.528 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:43.529 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:43.529 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:31:43.534 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:43.535 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:43.535 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:43.535 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:31:43.539 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:43.540 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:31:43.540 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:31:43.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:31:43.543 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:31:43.544 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:31:43.545 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:31:43.545 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@c1e9877]
2025-09-23 14:31:43.547 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:31:58.701 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:31:58.703 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:31:58.704 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:32:28.705 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:32:28.706 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:32:28.706 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:32:58.710 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:32:58.711 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:32:58.711 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:33:28.711 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:33:28.712 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:33:28.712 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:33:58.715 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:33:58.717 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:33:58.717 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:34:28.720 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:34:28.723 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:34:28.723 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:34:58.728 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:34:58.730 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:34:58.730 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:35:10.202 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:35:10.203 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:35:10.204 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:35:10.204 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:35:10.204 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:35:10.206 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='testuser', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:35:10.208 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: testuser
2025-09-23 14:35:10.208 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:35:10.208 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(57743310<open>)] for JPA transaction
2025-09-23 14:35:10.209 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a82e6a5]
2025-09-23 14:35:10.209 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.AuthService - Attempting login for user: testuser
2025-09-23 14:35:10.214 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:35:10.218 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:35:10.221 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:35:10.221 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:35:10.221 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:35:10.221 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:35:10.221 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:35:10.221 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:35:10.221 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:35:10.221 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:35:10.606 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.AuthService - User testuser logged in successfully
2025-09-23 14:35:10.606 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:35:10.606 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(57743310<open>)]
2025-09-23 14:35:10.607 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(57743310<open>)] after transaction
2025-09-23 14:35:10.607 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.AuthController - Login successful for user: testuser
2025-09-23 14:35:10.608 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:35:10.608 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5fa09248]
2025-09-23 14:35:10.610 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:35:10.633 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:35:10.633 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:35:10.633 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 288
2025-09-23 14:35:10.635 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:35:10.635 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:35:10.635 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:35:10.636 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:35:10.636 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects
2025-09-23 14:35:10.636 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:35:10.637 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:35:10.637 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:35:10.637 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:35:10.638 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='测试项目ExpectedResults', description='用于测试 expected_results 字段的项目', phases=2 (truncated)...]
2025-09-23 14:35:10.638 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:35:10.639 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:35:10.639 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:35:10.639 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1784628431<open>)] for JPA transaction
2025-09-23 14:35:10.639 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@37e0654f]
2025-09-23 14:35:10.639 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: testuser
2025-09-23 14:35:10.640 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:35:10.640 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:35:10.642 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:35:10.643 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1784628431<open>)]
2025-09-23 14:35:10.644 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1784628431<open>)] after transaction
2025-09-23 14:35:10.644 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:35:10.646 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:35:10.646 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [测试项目ExpectedResults]
2025-09-23 14:35:10.646 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:35:10.650 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:35:10.651 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:35:10.651 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1888113533<open>)] for JPA transaction
2025-09-23 14:35:10.651 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@366a62a2]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:35:10.652802]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [9]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [用于测试 expected_results 字段的项目]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [项目级别的预期结果]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [测试团队]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [测试项目ExpectedResults]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [测试止损点]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [2024年Q1]
2025-09-23 14:35:10.653 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:35:10.652825]
2025-09-23 14:35:10.657 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [8]
2025-09-23 14:35:10.657 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:35:10.658 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1888113533<open>)]
2025-09-23 14:35:10.664 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1888113533<open>)] after transaction
2025-09-23 14:35:10.664 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Project created: 8 by user: 9, entering AI analysis
2025-09-23 14:35:10.664 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 8
2025-09-23 14:35:10.664 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 8
项目名称: 测试项目ExpectedResults
项目描述: 用于测试 expected_results 字段的项目
项目成员: 测试团队
预期结果: 项目级别的预期结果
时间线: 2024年Q1
止损点: 测试止损点
2025-09-23 14:35:10.664 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：测试项目ExpectedResults
- 项目内容：用于测试 expected_results 字段的项目
- 项目成员：测试团队
- 预期结果：项目级别的预期结果
- 时间线：2024年Q1
- 止损点：测试止损点

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:35:10.664 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 8
分析类型: PROJECT_EVALUATION
2025-09-23 14:35:10.666 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:35:10.666 [http-nio-8081-exec-8] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:35:10.666 [http-nio-8081-exec-8] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:35:10.667 [http-nio-8081-exec-8] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:35:10.667 [http-nio-8081-exec-8] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:35:10.667 [http-nio-8081-exec-8] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@3bf8ff74] as "application/json"
2025-09-23 14:35:11.732 [http-nio-8081-exec-8] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:35:15.283 [http-nio-8081-exec-8] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:35:15.283 [http-nio-8081-exec-8] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:35:15.283 [http-nio-8081-exec-8] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"7340a7fa-d7bd-4838-81f8-98d3f6401307","object":"chat.completion","created":1758609311,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:35:15.283 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 8
2025-09-23 14:35:15.283 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 8
2025-09-23 14:35:15.283 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 8
2025-09-23 14:35:15.284 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:35:15.284 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(640666362<open>)] for JPA transaction
2025-09-23 14:35:15.284 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:35:15.284 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@25be3cb0]
2025-09-23 14:35:15.284 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:35:15.284 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:35:15.284 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:35:15.284 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:35:15.284 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:35:15.284 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@5ae49d82] as "application/json"
2025-09-23 14:35:15.284 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:35:15.286 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [张三, 李四]
2025-09-23 14:35:15.286 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:35:15.284541]
2025-09-23 14:35:15.286 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [第一个阶段的描述]
2025-09-23 14:35:15.286 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [第一阶段的详细预期结果：完成需求分析和设计文档]
2025-09-23 14:35:15.286 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [第一阶段]
2025-09-23 14:35:15.286 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [8]
2025-09-23 14:35:15.286 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [2024年1月-2月]
2025-09-23 14:35:15.286 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:35:15.284562]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [15]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [王五, 赵六]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:35:15.288697]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [第二个阶段的描述]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [第二阶段的详细预期结果：完成系统开发和单元测试，确保所有功能模块正常运行]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [第二阶段]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [8]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [2024年3月-4月]
2025-09-23 14:35:15.288 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:35:15.288704]
2025-09-23 14:35:15.290 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [16]
2025-09-23 14:35:15.290 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:35:15.290 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(640666362<open>)]
2025-09-23 14:35:15.293 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(640666362<open>)] after transaction
2025-09-23 14:35:15.293 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Created 2 phases for project: 8
2025-09-23 14:35:15.293 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:35:15.293 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6ef4731c]
2025-09-23 14:35:15.294 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:35:15.314 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/8
2025-09-23 14:35:15.314 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/8
2025-09-23 14:35:15.314 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/8, length: 288
2025-09-23 14:35:15.315 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/8
2025-09-23 14:35:15.315 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/8
2025-09-23 14:35:15.316 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:35:15.316 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:35:15.316 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects/8
2025-09-23 14:35:15.316 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:35:15.318 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/8
2025-09-23 14:35:15.318 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/8", parameters={}
2025-09-23 14:35:15.318 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:35:15.318 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:35:15.318 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:35:15.319 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:35:15.320 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:35:15.320 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [8]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [8]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [测试项目ExpectedResults]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [用于测试 expected_results 字段的项目]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [测试团队]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [项目级别的预期结果]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2024年Q1]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试止损点]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [9]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:35:11]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:35:11]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [testuser]
2025-09-23 14:35:15.322 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:35:15.323 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:35:15.323 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1256342074<open>)] for JPA transaction
2025-09-23 14:35:15.323 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@38bd9b9d]
2025-09-23 14:35:15.323 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: testuser
2025-09-23 14:35:15.323 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:35:15.323 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:35:15.325 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1256342074<open>)]
2025-09-23 14:35:15.326 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1256342074<open>)] after transaction
2025-09-23 14:35:15.327 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:35:15.327 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:35:15.327 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [8]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [15]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [张三, 李四]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [第一个阶段的描述]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [第一阶段的详细预期结果：完成需求分析和设计文档]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [8]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2024年1月-2月]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [16]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [王五, 赵六]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [第二个阶段的描述]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [第二阶段的详细预期结果：完成系统开发和单元测试，确保所有功能模块正常运行]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第二阶段]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [8]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2024年3月-4月]
2025-09-23 14:35:15.329 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:35:15.330 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:35:15.330 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:35:15.330 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:35:15.331 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [8]
2025-09-23 14:35:15.331 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:35:15.331 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:35:15.332 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:35:15.332 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 8
2025-09-23 14:35:15.332 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:35:15.332 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@315eedb3]
2025-09-23 14:35:15.333 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:35:15.831 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:35:19.170 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:35:19.171 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:35:19.171 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"d93d5aac-fe88-4f9e-aa21-faa3f12df6b6","object":"chat.completion","created":1758609315,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:35:19.171 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:35:19.171 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:35:19.171 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：测试项目ExpectedResults\n- 项目内容：用于测试 expected_results 字段的项目\n- 项目成员：测试团队\n- 预期结果：项目级别的预期结果\n- 时间线：2024年Q1\n- 止损点：测试止损点\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:35:19.171 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:35:19.171 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:35:19.171 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@542378ae] as "application/json"
2025-09-23 14:35:19.713 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:35:28.731 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:35:28.732 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:35:28.732 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:35:58.737 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:35:58.757 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:35:58.757 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:35:59.163 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:35:59.164 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:35:59.165 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"78f0c873-3099-4e6d-b9d7-92c0967d56a6","object":"chat.completion","created":1758609319,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告：测试项目ExpectedResults\n\n---\n\n#### 1. **项目可行性评估**\n   - **技术可行性**  \n     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  \n     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  \n     - **结论：技术风险低，可行性高。**\n\n   - **资源可行性**  \n     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  \n     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  \n     - **结论：资源条件部分明确，需补充细节后评估。**\n\n   - **时间可行性**  \n     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  \n     - 风险：若项目依赖其他未完成模块，时间可能紧张。  \n     - **结论：时间安排合理，但需制定详细计划。**\n\n---\n\n#### 2. **风险评估与建议**\n   - **主要风险**  \n     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  \n     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  \n     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  \n\n   - **应对建议**  \n     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  \n     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  \n     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。\n\n---\n\n#### 3. **项目优化建议**\n   - **短期优化**  \n     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  \n     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  \n   - **长期优化**  \n     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  \n     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。\n\n---\n\n#### 4. **总体评价**  \n   - **结论：有条件通过**  \n   - **理由**：  \n     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  \n     - 建议在启动前补充以下内容：  \n       - 详细需求文档（含验收标准）；  \n       - 资源分配计划（成员职责、工时）；  \n       - 明确的止损指标和决策流程。  \n\n---\n\n**附件建议**：  \n- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  \n- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":136,"completion_tokens":712,"total_tokens":848,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":136},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:35:59.166 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:35:59.166 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  
     - 风险：若项目依赖其他未完成模块，时间可能紧张。  
     - **结论：时间安排合理，但需制定详细计划。**

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  
     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  
     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  

   - **应对建议**  
     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  
     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  
     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  
     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  
   - **长期优化**  
     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  
     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。

---

#### 4. **总体评价**  
   - **结论：有条件通过**  
   - **理由**：  
     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  
     - 建议在启动前补充以下内容：  
       - 详细需求文档（含验收标准）；  
       - 资源分配计划（成员职责、工时）；  
       - 明确的止损指标和决策流程。  

---

**附件建议**：  
- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  
- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。
2025-09-23 14:35:59.166 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  
     - 风险：若项目依赖其他未完成模块，时间可能紧张。  
     - **结论：时间安排合理，但需制定详细计划。**

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  
     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  
     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  

   - **应对建议**  
     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  
     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  
     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  
     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  
   - **长期优化**  
     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  
     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。

---

#### 4. **总体评价**  
   - **结论：有条件通过**  
   - **理由**：  
     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  
     - 建议在启动前补充以下内容：  
       - 详细需求文档（含验收标准）；  
       - 资源分配计划（成员职责、工时）；  
       - 明确的止损指标和决策流程。  

---

**附件建议**：  
- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  
- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。
2025-09-23 14:35:59.166 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  
     - 风险：若项目依赖其他未完成模块，时间可能紧张。  
     - **结论：时间安排合理，但需制定详细计划。**

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  
     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  
     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  

   - **应对建议**  
     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  
     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  
     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  
     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  
   - **长期优化**  
     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  
     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。

---

#### 4. **总体评价**  
   - **结论：有条件通过**  
   - **理由**：  
     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  
     - 建议在启动前补充以下内容：  
       - 详细需求文档（含验收标准）；  
       - 资源分配计划（成员职责、工时）；  
       - 明确的止损指标和决策流程。  

---

**附件建议**：  
- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  
- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:35:59.167 [ForkJoinPool.commonPool-worker-4] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。 "[truncated 1040 chars]; line: 3, column: 52]
2025-09-23 14:35:59.167 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  
     - 风险：若项目依赖其他未完成模块，时间可能紧张。  
     - **结论：时间安排合理，但需制定详细计划。**

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  
     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  
     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  

   - **应对建议**  
     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  
     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  
     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  
     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  
   - **长期优化**  
     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  
     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。

---

#### 4. **总体评价**  
   - **结论：有条件通过**  
   - **理由**：  
     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  
     - 建议在启动前补充以下内容：  
       - 详细需求文档（含验收标准）；  
       - 资源分配计划（成员职责、工时）；  
       - 明确的止损指标和决策流程。  

---

**附件建议**：  
- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  
- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。
2025-09-23 14:35:59.167 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:35:59.167 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 39996ms
2025-09-23 14:35:59.167 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: 63164ae0-0210-42d2-b3e3-d7ff2201c709, Time: 43883ms
2025-09-23 14:35:59.167 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 43883ms
2025-09-23 14:35:59.167 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: 63164ae0-0210-42d2-b3e3-d7ff2201c709
2025-09-23 14:35:59.167 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: 63164ae0-0210-42d2-b3e3-d7ff2201c709, Provider: DeepSeek AI Service
2025-09-23 14:35:59.167 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 8
2025-09-23 14:35:59.167 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 8
分析ID: 63164ae0-0210-42d2-b3e3-d7ff2201c709
提供商: DeepSeek AI Service
结果长度: 1391 字符
2025-09-23 14:35:59.168 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  
     - 风险：若项目依赖其他未完成模块，时间可能紧张。  
     - **结论：时间安排合理，但需制定详细计划。**

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  
     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  
     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  

   - **应对建议**  
     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  
     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  
     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  
     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  
   - **长期优化**  
     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  
     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。

---

#### 4. **总体评价**  
   - **结论：有条件通过**  
   - **理由**：  
     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  
     - 建议在启动前补充以下内容：  
       - 详细需求文档（含验收标准）；  
       - 资源分配计划（成员职责、工时）；  
       - 明确的止损指标和决策流程。  

---

**附件建议**：  
- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  
- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。
2025-09-23 14:35:59.168 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 8
2025-09-23 14:35:59.168 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 8，结果: 63164ae0-0210-42d2-b3e3-d7ff2201c709
2025-09-23 14:35:59.168 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:35:59.168 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(603166623<open>)] for JPA transaction
2025-09-23 14:35:59.169 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2be30ca0]
2025-09-23 14:35:59.169 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 8
2025-09-23 14:35:59.169 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  
     - 风险：若项目依赖其他未完成模块，时间可能紧张。  
     - **结论：时间安排合理，但需制定详细计划。**

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  
     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  
     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  

   - **应对建议**  
     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  
     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  
     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  
     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  
   - **长期优化**  
     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  
     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。

---

#### 4. **总体评价**  
   - **结论：有条件通过**  
   - **理由**：  
     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  
     - 建议在启动前补充以下内容：  
       - 详细需求文档（含验收标准）；  
       - 资源分配计划（成员职责、工时）；  
       - 明确的止损指标和决策流程。  

---

**附件建议**：  
- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  
- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。
2025-09-23 14:35:59.170 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: true
明确拒绝: false
积极指标: true
消极指标: false
置信度: 0.8
通过判断: 通过
2025-09-23 14:35:59.170 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 8, 置信度: 0.8
2025-09-23 14:35:59.170 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(603166623<open>)] for JPA transaction
2025-09-23 14:35:59.170 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:35:59.173 [ai-task-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:35:59.177 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:35:59.177 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:35:59.170507]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.8]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:35:59.172903]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [8]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  
     - 风险：若项目依赖其他未完成模块，时间可能紧张。  
     - **结论：时间安排合理，但需制定详细计划。**

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  
     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  
     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  

   - **应对建议**  
     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  
     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  
     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  
     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  
   - **长期优化**  
     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  
     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。

---

#### 4. **总体评价**  
   - **结论：有条件通过**  
   - **理由**：  
     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  
     - 建议在启动前补充以下内容：  
       - 详细需求文档（含验收标准）；  
       - 资源分配计划（成员职责、工时）；  
       - 明确的止损指标和决策流程。  

---

**附件建议**：  
- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  
- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:35:59.178 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:35:59.172977]
2025-09-23 14:35:59.182 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:35:59.183 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 12, 项目ID: 8, 置信度: 0.8
2025-09-23 14:35:59.183 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 8
置信度: 0.8
是否通过: true
新状态: ADMIN_REVIEWING
2025-09-23 14:35:59.183 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 8, 状态: ADMIN_REVIEWING
2025-09-23 14:35:59.183 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(603166623<open>)] for JPA transaction
2025-09-23 14:35:59.183 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:35:59.184 [ai-task-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:35:59.184 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [8]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:35:11]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [9]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试 expected_results 字段的项目]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [项目级别的预期结果]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试团队]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试项目ExpectedResults]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损点]
2025-09-23 14:35:59.186 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:35:59.187 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2024年Q1]
2025-09-23 14:35:59.187 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:35:11]
2025-09-23 14:35:59.187 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - AI回调更新状态：项目ID: 8, 从 AI_ANALYZING 更新为 ADMIN_REVIEWING
2025-09-23 14:35:59.187 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 关联AI分析结果ID: 12 到项目: 8
2025-09-23 14:35:59.187 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(603166623<open>)] for JPA transaction
2025-09-23 14:35:59.187 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:35:59.187 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 项目状态已更新，ID: 8, 状态: ADMIN_REVIEWING
2025-09-23 14:35:59.187 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 8
最终状态: ADMIN_REVIEWING
AI结果ID: 12
2025-09-23 14:35:59.187 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:35:59.187 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(603166623<open>)]
2025-09-23 14:35:59.188 [ai-task-1] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [12]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [ADMIN_REVIEWING]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [9]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [用于测试 expected_results 字段的项目]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [项目级别的预期结果]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [测试团队]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [测试项目ExpectedResults]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [测试止损点]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [2024年Q1]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:35:59.188083]
2025-09-23 14:35:59.188 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [8]
2025-09-23 14:35:59.196 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(603166623<open>)] after transaction
2025-09-23 14:36:28.761 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:36:28.764 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:36:28.764 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:36:33.022 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:36:33.026 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:36:33.026 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 294
2025-09-23 14:36:33.030 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:36:33.031 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:36:33.033 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:33.037 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:33.038 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects
2025-09-23 14:36:33.038 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:33.044 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:36:33.045 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:36:33.046 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:36:33.052 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='223344', description='1', phases=1 phases}]
2025-09-23 14:36:33.054 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:33.055 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:33.056 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:33.056 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2052603068<open>)] for JPA transaction
2025-09-23 14:36:33.056 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b330668]
2025-09-23 14:36:33.057 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:33.064 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:33.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:33.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:33.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:33.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:33.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:33.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:33.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:33.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:33.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:33.077 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:33.077 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2052603068<open>)]
2025-09-23 14:36:33.079 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2052603068<open>)] after transaction
2025-09-23 14:36:33.079 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:33.081 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:36:33.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [223344]
2025-09-23 14:36:33.083 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:36:33.092 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:33.095 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:33.096 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(658861998<open>)] for JPA transaction
2025-09-23 14:36:33.096 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e4dd746]
2025-09-23 14:36:33.098 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:36:33.098 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:36:33.098 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:36:33.098 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:36:33.098 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:36:33.097852]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [3]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [1]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [2]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [2]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [223344]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [2]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [2]
2025-09-23 14:36:33.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:36:33.097890]
2025-09-23 14:36:33.102 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:33.102 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:33.102 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(658861998<open>)]
2025-09-23 14:36:33.107 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(658861998<open>)] after transaction
2025-09-23 14:36:33.107 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Project created: 9 by user: 3, entering AI analysis
2025-09-23 14:36:33.107 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 9
2025-09-23 14:36:33.107 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 9
项目名称: 223344
项目描述: 1
项目成员: 2
预期结果: 2
时间线: 2
止损点: 2
2025-09-23 14:36:33.107 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：223344
- 项目内容：1
- 项目成员：2
- 预期结果：2
- 时间线：2
- 止损点：2

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:36:33.107 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 9
分析类型: PROJECT_EVALUATION
2025-09-23 14:36:33.108 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:36:33.108 [http-nio-8081-exec-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:36:33.108 [http-nio-8081-exec-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:36:33.108 [http-nio-8081-exec-2] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:36:33.108 [http-nio-8081-exec-2] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:36:33.109 [http-nio-8081-exec-2] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@7e6f9fae] as "application/json"
2025-09-23 14:36:33.652 [http-nio-8081-exec-2] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:36:37.360 [http-nio-8081-exec-2] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:36:37.361 [http-nio-8081-exec-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:36:37.361 [http-nio-8081-exec-2] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"e9b9109f-3d30-40b3-9a77-7f17556b6c4f","object":"chat.completion","created":1758609393,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:36:37.361 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 9
2025-09-23 14:36:37.361 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 9
2025-09-23 14:36:37.361 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 9
2025-09-23 14:36:37.361 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:37.361 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:36:37.361 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1673602687<open>)] for JPA transaction
2025-09-23 14:36:37.361 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:36:37.361 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:36:37.361 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@78915942]
2025-09-23 14:36:37.361 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:36:37.361 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:36:37.362 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:36:37.362 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@501cf6f2] as "application/json"
2025-09-23 14:36:37.362 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:36:37.363 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [1]
2025-09-23 14:36:37.363 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:36:37.362033]
2025-09-23 14:36:37.363 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [1]
2025-09-23 14:36:37.363 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [null]
2025-09-23 14:36:37.363 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [1]
2025-09-23 14:36:37.363 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [9]
2025-09-23 14:36:37.363 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [1]
2025-09-23 14:36:37.363 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:36:37.362053]
2025-09-23 14:36:37.365 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:37.365 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:37.365 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1673602687<open>)]
2025-09-23 14:36:37.370 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1673602687<open>)] after transaction
2025-09-23 14:36:37.370 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Created 1 phases for project: 9
2025-09-23 14:36:37.370 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:37.370 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6f7d87bc]
2025-09-23 14:36:37.371 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:36:37.887 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:36:39.378 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:39.378 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:39.378 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:39.379 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:39.379 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:39.380 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:39.380 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:39.380 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:39.380 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:39.381 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:39.382 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:39.382 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:39.382 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:39.382 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:39.383 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.383 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:39.385 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:39.386 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:39.387 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:39.387 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2067546201<open>)] for JPA transaction
2025-09-23 14:36:39.387 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6790ef1e]
2025-09-23 14:36:39.387 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:39.387 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:39.387 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:39.388 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2067546201<open>)]
2025-09-23 14:36:39.389 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2067546201<open>)] after transaction
2025-09-23 14:36:39.390 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.390 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.390 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:39.392 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.393 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:39.393 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:39.393 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:39.393 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:39.395 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:39.395 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:39.395 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:39.395 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5853fedd]
2025-09-23 14:36:39.395 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:39.629 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:36:39.630 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:36:39.630 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:36:39.631 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:36:39.632 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:36:39.633 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:39.634 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:39.634 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:36:39.634 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:39.635 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:36:39.636 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:36:39.636 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:36:39.636 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:39.636 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:39.636 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:39.636 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(146048383<open>)] for JPA transaction
2025-09-23 14:36:39.636 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7559da50]
2025-09-23 14:36:39.636 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:39.637 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:39.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:39.641 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:39.641 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:39.641 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:39.641 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:39.641 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:39.641 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:39.641 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:39.641 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:39.642 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:39.642 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(146048383<open>)]
2025-09-23 14:36:39.643 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(146048383<open>)] after transaction
2025-09-23 14:36:39.643 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.643 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:36:39.645 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:36:39.646 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:39.646 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:39.646 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [223344]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [11]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [11]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [221122]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-23 14:36:39.647 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:31:34]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:20:08]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:39.648 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:36:39.649 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:36:39.651 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.651 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.651 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.651 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:39.653 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:39.654 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.654 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.654 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.654 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:36:39.656 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:36:39.657 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.657 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.657 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.657 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:39.659 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:36:39.660 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.660 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.660 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.660 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:39.662 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:39.663 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.663 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.663 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.663 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:36:39.666 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.666 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.666 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.666 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:36:39.667 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.667 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.667 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.667 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:36:39.669 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.669 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:39.669 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:39.669 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:36:39.671 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:36:39.672 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:36:39.672 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:36:39.672 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:39.672 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:39.673 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:39.673 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5b9b4277]
2025-09-23 14:36:39.673 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:41.034 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:41.035 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:41.036 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:41.037 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:41.040 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:41.041 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:41.042 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:41.043 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:41.043 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:41.044 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:41.044 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:41.045 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:41.045 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:41.045 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:41.046 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:41.046 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:41.048 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:41.049 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:41.049 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:41.049 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:41.049 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:41.049 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:41.049 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:41.050 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:41.051 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:41.051 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1960228992<open>)] for JPA transaction
2025-09-23 14:36:41.051 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a1dfc0]
2025-09-23 14:36:41.051 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:41.052 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:41.052 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:41.053 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:41.053 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:41.053 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:41.053 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:41.053 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:41.054 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:41.054 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:41.054 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:41.054 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:41.054 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1960228992<open>)]
2025-09-23 14:36:41.055 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1960228992<open>)] after transaction
2025-09-23 14:36:41.055 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:41.055 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:41.055 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:41.056 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:41.057 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:41.057 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:41.058 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:41.058 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:41.058 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:41.058 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:41.060 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:41.060 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:41.060 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:41.060 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@427e6c07]
2025-09-23 14:36:41.060 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:41.240 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:36:41.241 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:36:41.241 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"409eaef5-992f-4682-aa69-facd5567f248","object":"chat.completion","created":1758609397,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:36:41.241 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:36:41.241 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:36:41.241 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：223344\n- 项目内容：1\n- 项目成员：2\n- 预期结果：2\n- 时间线：2\n- 止损点：2\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:36:41.241 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:36:41.241 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:36:41.241 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@151e7295] as "application/json"
2025-09-23 14:36:41.404 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:41.404 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:41.404 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:41.404 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:41.405 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:41.405 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:41.406 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:41.406 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:41.406 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:41.407 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:41.407 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:41.407 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:41.407 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:41.407 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:41.407 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:41.408 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:41.408 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:41.409 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:41.410 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:41.410 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:41.410 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1438791409<open>)] for JPA transaction
2025-09-23 14:36:41.410 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67e975b7]
2025-09-23 14:36:41.410 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:41.411 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:41.411 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:41.412 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1438791409<open>)]
2025-09-23 14:36:41.413 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1438791409<open>)] after transaction
2025-09-23 14:36:41.413 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:41.413 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:41.413 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:41.414 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:41.415 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:41.415 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:41.416 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:41.416 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:41.416 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:41.416 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:41.418 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:41.418 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:41.418 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:41.418 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@48adbae1]
2025-09-23 14:36:41.418 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:41.767 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:36:43.424 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:43.425 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:43.425 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:43.425 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:43.425 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:43.426 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:43.426 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:43.426 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:43.426 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:43.427 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:43.428 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:43.428 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:43.428 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:43.428 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:43.428 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:43.428 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:43.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(71945101<open>)] for JPA transaction
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@d3400c0]
2025-09-23 14:36:43.431 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:43.432 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:43.432 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:43.433 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(71945101<open>)]
2025-09-23 14:36:43.434 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(71945101<open>)] after transaction
2025-09-23 14:36:43.434 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:43.434 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:43.434 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:43.436 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:43.437 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:43.437 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:43.438 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:43.438 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:43.438 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:43.438 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:43.440 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:43.440 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:43.441 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:43.441 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@bd1876f]
2025-09-23 14:36:43.441 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:44.593 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:36:44.593 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:36:44.593 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:36:44.593 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:36:44.594 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:36:44.595 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:44.595 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:44.595 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:36:44.595 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:44.596 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:36:44.596 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:36:44.596 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:36:44.597 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:44.597 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:44.597 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:44.597 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1189079623<open>)] for JPA transaction
2025-09-23 14:36:44.597 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@16e3e322]
2025-09-23 14:36:44.597 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:44.598 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:44.601 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:44.602 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1189079623<open>)]
2025-09-23 14:36:44.603 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1189079623<open>)] after transaction
2025-09-23 14:36:44.603 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.603 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:36:44.604 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [223344]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [11]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [11]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [221122]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:31:34]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:20:08]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:36:44.605 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:36:44.606 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:44.607 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:36:44.607 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:36:44.607 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.607 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.607 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:44.607 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:44.609 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:44.610 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.610 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.610 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:44.610 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:36:44.612 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.613 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.613 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:44.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:36:44.614 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.615 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.615 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:44.615 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:44.616 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.617 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.617 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:44.617 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:36:44.618 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.618 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.618 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:44.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:36:44.619 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.619 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.619 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:44.620 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:36:44.621 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.621 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:44.621 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:44.621 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:36:44.622 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:44.623 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:44.623 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:44.623 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7419a8d8]
2025-09-23 14:36:44.623 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:45.448 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:45.449 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:45.449 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:45.449 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:45.449 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:45.450 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:45.450 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:45.450 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:45.450 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:45.452 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:45.452 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:45.452 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:45.452 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:45.452 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:45.452 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:45.452 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:45.454 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:45.455 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:45.456 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:45.456 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:45.456 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(752567666<open>)] for JPA transaction
2025-09-23 14:36:45.456 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@391b0932]
2025-09-23 14:36:45.456 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:45.456 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:45.456 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:45.457 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:45.458 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(752567666<open>)]
2025-09-23 14:36:45.459 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(752567666<open>)] after transaction
2025-09-23 14:36:45.459 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:45.459 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:45.459 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:45.460 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:45.461 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:45.461 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:45.461 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:45.461 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:45.461 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:45.461 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:45.463 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:45.463 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:45.463 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:45.463 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7f4e93af]
2025-09-23 14:36:45.463 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:45.644 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:45.644 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:45.644 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:45.645 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:45.645 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:45.646 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:45.648 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:45.648 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:45.648 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:45.650 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:45.650 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:45.651 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:45.651 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:45.651 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:45.651 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:45.652 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:45.652 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:45.653 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:45.653 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:45.653 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:45.653 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:45.654 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1783088086<open>)] for JPA transaction
2025-09-23 14:36:45.655 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@63e0147b]
2025-09-23 14:36:45.655 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:45.655 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:45.655 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:45.657 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:45.658 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1783088086<open>)]
2025-09-23 14:36:45.658 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1783088086<open>)] after transaction
2025-09-23 14:36:45.659 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:45.659 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:45.659 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:45.661 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:45.662 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:45.662 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:45.663 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:45.663 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:45.663 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:45.663 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:45.665 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:45.665 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:45.665 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:45.666 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2e6b5b46]
2025-09-23 14:36:45.666 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:47.469 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:47.469 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:47.469 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:47.470 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:47.470 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:47.471 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:47.471 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:47.471 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:47.471 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:47.472 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:47.472 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:47.473 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:47.473 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:47.473 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:47.473 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:47.473 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:47.475 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:47.476 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1144715955<open>)] for JPA transaction
2025-09-23 14:36:47.477 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@447cda30]
2025-09-23 14:36:47.477 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:47.477 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:47.477 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:47.478 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1144715955<open>)]
2025-09-23 14:36:47.479 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1144715955<open>)] after transaction
2025-09-23 14:36:47.479 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:47.479 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:47.479 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:47.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:47.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:47.481 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:47.483 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:47.483 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:47.483 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:47.483 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@666d0f6d]
2025-09-23 14:36:47.483 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:48.051 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-23 14:36:48.051 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-23 14:36:48.051 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 294
2025-09-23 14:36:48.053 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-23 14:36:48.055 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-23 14:36:48.057 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:48.059 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:48.059 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-23 14:36:48.059 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:48.061 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-23 14:36:48.061 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-23 14:36:48.061 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-23 14:36:48.061 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:48.062 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:48.062 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:48.062 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(206318237<open>)] for JPA transaction
2025-09-23 14:36:48.062 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e4d49b0]
2025-09-23 14:36:48.062 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:48.063 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:48.065 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:48.066 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:48.067 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(206318237<open>)]
2025-09-23 14:36:48.067 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(206318237<open>)] after transaction
2025-09-23 14:36:48.067 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.068 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-23 14:36:48.068 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [223344]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:48.070 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [11]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [11]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [221122]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:31:34]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [222]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [22]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [22]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1122]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [22]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [22]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:20:08]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:36:48.071 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [9]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_REJECTED]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [33]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [5]
2025-09-23 14:36:48.072 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试成功]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [无]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [一周]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [4]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [测试状态流转]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [测试成员]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [测试止损]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [测试时间]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [7]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [7]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:36:48.073 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [222]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["事实上"]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:36:48.074 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:36:48.075 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.076 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.076 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:48.076 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:48.078 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:48.078 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:48.078 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:48.078 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:48.078 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:48.078 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:48.078 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:48.079 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:48.079 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:48.079 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.080 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.080 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:48.080 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:36:48.082 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:36:48.083 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.083 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.083 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:48.083 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:36:48.084 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:36:48.084 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:36:48.084 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:36:48.084 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:36:48.084 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:48.085 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:48.085 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:36:48.085 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:48.085 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:36:48.085 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.085 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.085 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:48.086 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:36:48.086 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:48.087 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:36:48.088 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.088 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.088 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:48.088 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:36:48.090 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.090 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.090 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:48.090 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:36:48.093 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.093 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.094 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:48.094 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:36:48.097 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.097 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:48.097 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:48.097 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:36:48.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:48.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:48.099 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:36:48.100 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:36:48.101 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:48.101 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:48.101 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@73271c69]
2025-09-23 14:36:48.102 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:49.280 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:49.280 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:49.280 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:49.282 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:49.284 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:49.285 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:49.286 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:49.286 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:49.286 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:49.288 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:49.288 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:49.288 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:49.288 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:49.289 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:49.289 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:49.290 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:49.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:49.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:49.294 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:49.294 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:49.294 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1548395330<open>)] for JPA transaction
2025-09-23 14:36:49.294 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@257585eb]
2025-09-23 14:36:49.294 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:49.295 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:49.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:49.297 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1548395330<open>)]
2025-09-23 14:36:49.298 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1548395330<open>)] after transaction
2025-09-23 14:36:49.298 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:49.299 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:49.299 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:49.300 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:49.301 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:49.302 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:49.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:49.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:49.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:49.304 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:49.304 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:49.304 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:49.304 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4b890497]
2025-09-23 14:36:49.304 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:49.489 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:49.489 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:49.489 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:49.489 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:49.490 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:49.490 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:49.490 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:49.490 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:49.490 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:49.492 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:49.492 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:49.492 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:49.492 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:49.492 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:49.492 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:49.493 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:49.494 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:49.495 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:49.496 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:49.496 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:49.496 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(507513413<open>)] for JPA transaction
2025-09-23 14:36:49.496 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@725ba363]
2025-09-23 14:36:49.496 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:49.497 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:49.497 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:49.498 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(507513413<open>)]
2025-09-23 14:36:49.499 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(507513413<open>)] after transaction
2025-09-23 14:36:49.499 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:49.499 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:49.500 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:49.501 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:49.502 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:49.502 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:49.503 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:49.503 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:49.503 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:49.503 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:49.505 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c due to dirty commit state on close().
2025-09-23 14:36:49.505 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:49.505 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:49.505 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2ba3299b]
2025-09-23 14:36:49.505 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:51.513 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:51.513 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:51.513 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:51.513 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:51.514 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:51.514 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:51.515 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:51.515 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:51.515 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:51.516 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:51.516 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:51.516 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:51.516 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:51.516 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:51.517 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:51.517 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:51.518 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:51.519 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:51.520 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:51.520 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:51.520 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(326131000<open>)] for JPA transaction
2025-09-23 14:36:51.520 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@58d2fbe9]
2025-09-23 14:36:51.520 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:51.520 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:51.521 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:51.522 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(326131000<open>)]
2025-09-23 14:36:51.523 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(326131000<open>)] after transaction
2025-09-23 14:36:51.523 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:51.523 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:51.523 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:51.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:51.526 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:51.526 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:51.526 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:51.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:51.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:51.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:51.529 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:51.529 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:51.529 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:51.529 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5d9cd287]
2025-09-23 14:36:51.529 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:53.550 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:53.552 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:53.553 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:53.556 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:53.559 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:53.571 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:53.590 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:53.591 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:53.591 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:53.595 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:53.596 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:53.596 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:53.596 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:53.596 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:53.597 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:53.598 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:53.599 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:53.602 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:53.603 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:53.604 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:53.604 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(494960945<open>)] for JPA transaction
2025-09-23 14:36:53.604 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@40067367]
2025-09-23 14:36:53.604 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:53.605 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:53.605 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:53.607 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:53.607 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:53.607 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:53.607 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:53.608 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:53.608 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:53.608 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:53.608 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:53.608 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:53.608 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(494960945<open>)]
2025-09-23 14:36:53.610 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(494960945<open>)] after transaction
2025-09-23 14:36:53.610 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:53.611 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:53.611 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:53.628 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:53.628 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:53.628 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:53.629 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:53.629 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:53.629 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:53.629 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:53.629 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:53.629 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:53.630 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:53.631 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:53.632 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:53.633 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:53.633 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:53.633 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:53.636 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:53.636 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:53.636 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:53.637 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@63ed0166]
2025-09-23 14:36:53.638 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:55.649 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:55.650 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:55.650 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:55.651 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:55.652 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:55.652 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:55.653 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:55.653 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:55.653 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:55.657 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:55.657 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:55.657 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:55.658 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:55.658 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:55.658 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:55.659 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:55.661 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:55.663 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:55.663 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:55.664 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:55.665 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:55.665 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:55.666 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1487837145<open>)] for JPA transaction
2025-09-23 14:36:55.666 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7c0ed9df]
2025-09-23 14:36:55.666 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:55.667 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:55.667 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:55.668 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1487837145<open>)]
2025-09-23 14:36:55.669 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1487837145<open>)] after transaction
2025-09-23 14:36:55.669 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:55.669 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:55.669 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:55.670 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:55.671 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:55.671 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:55.672 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:55.672 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:55.672 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:55.672 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:55.674 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:55.674 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:55.675 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:55.675 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@609d291a]
2025-09-23 14:36:55.675 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:56.257 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-23 14:36:56.257 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-23 14:36:56.257 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-23 14:36:56.257 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 294
2025-09-23 14:36:56.257 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-23 14:36:56.257 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 294
2025-09-23 14:36:56.258 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-23 14:36:56.259 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-23 14:36:56.262 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-23 14:36:56.263 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-23 14:36:56.263 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:56.263 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:56.264 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:56.264 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/health/authenticated
2025-09-23 14:36:56.264 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:56.265 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:56.265 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/health/authenticated
2025-09-23 14:36:56.265 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:56.267 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-23 14:36:56.267 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-23 14:36:56.268 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-23 14:36:56.274 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-23 14:36:56.278 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-23 14:36:56.314 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-23 14:36:56.315 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-23 14:36:56.315 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-23 14:36:56.317 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-23 14:36:56.317 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-23 14:36:56.319 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:56.319 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4524625b]
2025-09-23 14:36:56.319 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:56.328 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@32ce19cd]
2025-09-23 14:36:56.333 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:56.333 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:56.395 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:36:56.396 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:36:56.396 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 294
2025-09-23 14:36:56.398 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:36:56.402 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:36:56.406 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:36:56.407 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-23 14:36:56.407 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/9
2025-09-23 14:36:56.407 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:36:56.408 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:36:56.409 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:36:56.409 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:36:56.409 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:56.410 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:36:56.410 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:56.411 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:36:56.417 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:56.421 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:36:56.421 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_ANALYZING]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:36:56.422 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:36:56.423 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:56.423 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:36:56.423 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(922366866<open>)] for JPA transaction
2025-09-23 14:36:56.423 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@701af603]
2025-09-23 14:36:56.423 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-23 14:36:56.429 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:36:56.429 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T13:05:59]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@company.com]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CIwSNDkZ0Ir58FHo/yr5VuNdT05oPZzspn7pBA801krtGKj4Lp0Me]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:13:59]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:36:56.433 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(922366866<open>)]
2025-09-23 14:36:56.435 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(922366866<open>)] after transaction
2025-09-23 14:36:56.436 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:56.436 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:36:56.436 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:56.438 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:36:56.439 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:36:56.439 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:56.439 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:36:56.439 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:36:56.439 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:36:56.439 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:36:56.439 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:36:56.439 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:36:56.440 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:56.440 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:36:56.441 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.report_id=? 
        and ar1_0.entity_type=? 
    order by
        ar1_0.created_at desc 
    limit
        ?
2025-09-23 14:36:56.442 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:36:56.442 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:ENUM) <- [PROJECT]
2025-09-23 14:36:56.442 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [1]
2025-09-23 14:36:56.444 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:36:56.444 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - No AI analysis result found for project: 9
2025-09-23 14:36:56.445 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:36:56.445 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6bd555c6]
2025-09-23 14:36:56.445 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:36:58.767 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:36:58.768 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:36:58.768 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:37:23.162 [ForkJoinPool.commonPool-worker-4] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:37:23.166 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:37:23.167 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"ad36a378-1ed9-4936-a3d9-fbdb2ae6862b","object":"chat.completion","created":1758609401,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告\n\n**项目名称**：223344  \n**分析日期**：2023年10月（假设当前日期）  \n**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  \n\n---\n\n#### 1. **项目可行性评估**\n   - **技术可行性**：  \n     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  \n     **结论**：信息缺失，需明确具体技术需求。  \n\n   - **资源可行性**：  \n     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  \n     **结论**：资源规划模糊，需细化成员分工与能力要求。  \n\n   - **时间可行性**：  \n     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充足；若任务复杂，则期限不合理。  \n     **结论**：需明确时间单位及任务分解后的里程碑。  \n\n---\n\n#### 2. **风险评估与建议**\n   - **主要风险**：  \n     1. **信息模糊风险**：所有关键参数（内容、成员角色、时间单位）均未具体化，项目目标与范围不清晰，可能导致方向偏离或资源浪费。  \n     2. **资源风险**：2名成员可能缺乏互补技能，易因能力瓶颈或离职导致项目中断。  \n     3. **进度风险**：若“2”为2个月且任务复杂，期限压力可能牺牲质量。  \n\n   - **风险应对建议**：  \n     1. **明确项目范围**：需补充详细的需求文档，定义可衡量的交付物（如“预期结果：2”需具体化为可测试的成果）。  \n     2. **强化团队结构**：建议增加后备成员或明确外部支持机制，确保技能覆盖。  \n     3. **制定详细计划**：将时间线分解为周/日任务，设置关键检查点。  \n\n---\n\n#### 3. **项目优化建议**\n   - **短期优化**：  \n     - 重新定义项目内容（如将“1”转化为具体任务清单）。  \n     - 明确成员职责（如技术开发、测试、项目管理等角色分配）。  \n     - 将止损点“2”量化为具体指标（如预算超支20%或进度延迟30%即终止）。  \n   - **长期优化**：  \n     - 引入敏捷管理方法，分阶段验证成果，降低不确定性。  \n     - 建立沟通机制（如每日站会），及时调整策略。  \n\n---\n\n#### 4. **总体评价**  \n   - **结论**：**不通过**  \n   - **理由**：  \n     当前项目信息严重不足，缺乏可执行的基础框架。若强行启动，可能因目标模糊、资源错配或时间规划不合理而失败。建议重新规划，补充以下内容后再评估：  \n     - 详细项目范围说明书  \n     - 成员技能矩阵与分工  \n     - 时间线甘特图与里程碑  \n     - 量化止损标准（财务、进度、质量维度）  \n\n---\n\n**注**：本分析基于有限信息，若补充细节后可重新评估可行性。建议遵循项目管理标准（如PMBOK）完善规划阶段工作。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":118,"completion_tokens":753,"total_tokens":871,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":118},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:37:23.172 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:37:23.172 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告

**项目名称**：223344  
**分析日期**：2023年10月（假设当前日期）  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  
     **结论**：信息缺失，需明确具体技术需求。  

   - **资源可行性**：  
     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  
     **结论**：资源规划模糊，需细化成员分工与能力要求。  

   - **时间可行性**：  
     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充足；若任务复杂，则期限不合理。  
     **结论**：需明确时间单位及任务分解后的里程碑。  

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **信息模糊风险**：所有关键参数（内容、成员角色、时间单位）均未具体化，项目目标与范围不清晰，可能导致方向偏离或资源浪费。  
     2. **资源风险**：2名成员可能缺乏互补技能，易因能力瓶颈或离职导致项目中断。  
     3. **进度风险**：若“2”为2个月且任务复杂，期限压力可能牺牲质量。  

   - **风险应对建议**：  
     1. **明确项目范围**：需补充详细的需求文档，定义可衡量的交付物（如“预期结果：2”需具体化为可测试的成果）。  
     2. **强化团队结构**：建议增加后备成员或明确外部支持机制，确保技能覆盖。  
     3. **制定详细计划**：将时间线分解为周/日任务，设置关键检查点。  

---

#### 3. **项目优化建议**
   - **短期优化**：  
     - 重新定义项目内容（如将“1”转化为具体任务清单）。  
     - 明确成员职责（如技术开发、测试、项目管理等角色分配）。  
     - 将止损点“2”量化为具体指标（如预算超支20%或进度延迟30%即终止）。  
   - **长期优化**：  
     - 引入敏捷管理方法，分阶段验证成果，降低不确定性。  
     - 建立沟通机制（如每日站会），及时调整策略。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**  
   - **理由**：  
     当前项目信息严重不足，缺乏可执行的基础框架。若强行启动，可能因目标模糊、资源错配或时间规划不合理而失败。建议重新规划，补充以下内容后再评估：  
     - 详细项目范围说明书  
     - 成员技能矩阵与分工  
     - 时间线甘特图与里程碑  
     - 量化止损标准（财务、进度、质量维度）  

---

**注**：本分析基于有限信息，若补充细节后可重新评估可行性。建议遵循项目管理标准（如PMBOK）完善规划阶段工作。
2025-09-23 14:37:23.173 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告

**项目名称**：223344  
**分析日期**：2023年10月（假设当前日期）  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  
     **结论**：信息缺失，需明确具体技术需求。  

   - **资源可行性**：  
     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  
     **结论**：资源规划模糊，需细化成员分工与能力要求。  

   - **时间可行性**：  
     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充足；若任务复杂，则期限不合理。  
     **结论**：需明确时间单位及任务分解后的里程碑。  

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **信息模糊风险**：所有关键参数（内容、成员角色、时间单位）均未具体化，项目目标与范围不清晰，可能导致方向偏离或资源浪费。  
     2. **资源风险**：2名成员可能缺乏互补技能，易因能力瓶颈或离职导致项目中断。  
     3. **进度风险**：若“2”为2个月且任务复杂，期限压力可能牺牲质量。  

   - **风险应对建议**：  
     1. **明确项目范围**：需补充详细的需求文档，定义可衡量的交付物（如“预期结果：2”需具体化为可测试的成果）。  
     2. **强化团队结构**：建议增加后备成员或明确外部支持机制，确保技能覆盖。  
     3. **制定详细计划**：将时间线分解为周/日任务，设置关键检查点。  

---

#### 3. **项目优化建议**
   - **短期优化**：  
     - 重新定义项目内容（如将“1”转化为具体任务清单）。  
     - 明确成员职责（如技术开发、测试、项目管理等角色分配）。  
     - 将止损点“2”量化为具体指标（如预算超支20%或进度延迟30%即终止）。  
   - **长期优化**：  
     - 引入敏捷管理方法，分阶段验证成果，降低不确定性。  
     - 建立沟通机制（如每日站会），及时调整策略。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**  
   - **理由**：  
     当前项目信息严重不足，缺乏可执行的基础框架。若强行启动，可能因目标模糊、资源错配或时间规划不合理而失败。建议重新规划，补充以下内容后再评估：  
     - 详细项目范围说明书  
     - 成员技能矩阵与分工  
     - 时间线甘特图与里程碑  
     - 量化止损标准（财务、进度、质量维度）  

---

**注**：本分析基于有限信息，若补充细节后可重新评估可行性。建议遵循项目管理标准（如PMBOK）完善规划阶段工作。
2025-09-23 14:37:23.174 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告

**项目名称**：223344  
**分析日期**：2023年10月（假设当前日期）  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  
     **结论**：信息缺失，需明确具体技术需求。  

   - **资源可行性**：  
     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  
     **结论**：资源规划模糊，需细化成员分工与能力要求。  

   - **时间可行性**：  
     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充足；若任务复杂，则期限不合理。  
     **结论**：需明确时间单位及任务分解后的里程碑。  

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **信息模糊风险**：所有关键参数（内容、成员角色、时间单位）均未具体化，项目目标与范围不清晰，可能导致方向偏离或资源浪费。  
     2. **资源风险**：2名成员可能缺乏互补技能，易因能力瓶颈或离职导致项目中断。  
     3. **进度风险**：若“2”为2个月且任务复杂，期限压力可能牺牲质量。  

   - **风险应对建议**：  
     1. **明确项目范围**：需补充详细的需求文档，定义可衡量的交付物（如“预期结果：2”需具体化为可测试的成果）。  
     2. **强化团队结构**：建议增加后备成员或明确外部支持机制，确保技能覆盖。  
     3. **制定详细计划**：将时间线分解为周/日任务，设置关键检查点。  

---

#### 3. **项目优化建议**
   - **短期优化**：  
     - 重新定义项目内容（如将“1”转化为具体任务清单）。  
     - 明确成员职责（如技术开发、测试、项目管理等角色分配）。  
     - 将止损点“2”量化为具体指标（如预算超支20%或进度延迟30%即终止）。  
   - **长期优化**：  
     - 引入敏捷管理方法，分阶段验证成果，降低不确定性。  
     - 建立沟通机制（如每日站会），及时调整策略。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**  
   - **理由**：  
     当前项目信息严重不足，缺乏可执行的基础框架。若强行启动，可能因目标模糊、资源错配或时间规划不合理而失败。建议重新规划，补充以下内容后再评估：  
     - 详细项目范围说明书  
     - 成员技能矩阵与分工  
     - 时间线甘特图与里程碑  
     - 量化止损标准（财务、进度、质量维度）  

---

**注**：本分析基于有限信息，若补充细节后可重新评估可行性。建议遵循项目管理标准（如PMBOK）完善规划阶段工作。",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:37:23.175 [ForkJoinPool.commonPool-worker-4] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告

**项目名称**：223344  
**分析日期**：2023年10月（假设当前日期）  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  
     **结论**：信息缺失，需明确具体技术需求。  

   - **资源可行性**：  
     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  
     **结论**：资源规划模糊，需细化成员分工与能力要求。  

   - **时间可行性**：  
     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充"[truncated 1078 chars]; line: 3, column: 32]
2025-09-23 14:37:23.175 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告

**项目名称**：223344  
**分析日期**：2023年10月（假设当前日期）  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  
     **结论**：信息缺失，需明确具体技术需求。  

   - **资源可行性**：  
     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  
     **结论**：资源规划模糊，需细化成员分工与能力要求。  

   - **时间可行性**：  
     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充足；若任务复杂，则期限不合理。  
     **结论**：需明确时间单位及任务分解后的里程碑。  

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **信息模糊风险**：所有关键参数（内容、成员角色、时间单位）均未具体化，项目目标与范围不清晰，可能导致方向偏离或资源浪费。  
     2. **资源风险**：2名成员可能缺乏互补技能，易因能力瓶颈或离职导致项目中断。  
     3. **进度风险**：若“2”为2个月且任务复杂，期限压力可能牺牲质量。  

   - **风险应对建议**：  
     1. **明确项目范围**：需补充详细的需求文档，定义可衡量的交付物（如“预期结果：2”需具体化为可测试的成果）。  
     2. **强化团队结构**：建议增加后备成员或明确外部支持机制，确保技能覆盖。  
     3. **制定详细计划**：将时间线分解为周/日任务，设置关键检查点。  

---

#### 3. **项目优化建议**
   - **短期优化**：  
     - 重新定义项目内容（如将“1”转化为具体任务清单）。  
     - 明确成员职责（如技术开发、测试、项目管理等角色分配）。  
     - 将止损点“2”量化为具体指标（如预算超支20%或进度延迟30%即终止）。  
   - **长期优化**：  
     - 引入敏捷管理方法，分阶段验证成果，降低不确定性。  
     - 建立沟通机制（如每日站会），及时调整策略。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**  
   - **理由**：  
     当前项目信息严重不足，缺乏可执行的基础框架。若强行启动，可能因目标模糊、资源错配或时间规划不合理而失败。建议重新规划，补充以下内容后再评估：  
     - 详细项目范围说明书  
     - 成员技能矩阵与分工  
     - 时间线甘特图与里程碑  
     - 量化止损标准（财务、进度、质量维度）  

---

**注**：本分析基于有限信息，若补充细节后可重新评估可行性。建议遵循项目管理标准（如PMBOK）完善规划阶段工作。
2025-09-23 14:37:23.175 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:37:23.175 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 41934ms
2025-09-23 14:37:23.175 [ForkJoinPool.commonPool-worker-4] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: 9d23c9f6-e0f1-4483-b930-e305ed375ccc, Time: 45814ms
2025-09-23 14:37:23.175 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 45814ms
2025-09-23 14:37:23.175 [ForkJoinPool.commonPool-worker-4] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: 9d23c9f6-e0f1-4483-b930-e305ed375ccc
2025-09-23 14:37:23.176 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: 9d23c9f6-e0f1-4483-b930-e305ed375ccc, Provider: DeepSeek AI Service
2025-09-23 14:37:23.176 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 9
2025-09-23 14:37:23.176 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 9
分析ID: 9d23c9f6-e0f1-4483-b930-e305ed375ccc
提供商: DeepSeek AI Service
结果长度: 1429 字符
2025-09-23 14:37:23.176 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告

**项目名称**：223344  
**分析日期**：2023年10月（假设当前日期）  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  
     **结论**：信息缺失，需明确具体技术需求。  

   - **资源可行性**：  
     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  
     **结论**：资源规划模糊，需细化成员分工与能力要求。  

   - **时间可行性**：  
     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充足；若任务复杂，则期限不合理。  
     **结论**：需明确时间单位及任务分解后的里程碑。  

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **信息模糊风险**：所有关键参数（内容、成员角色、时间单位）均未具体化，项目目标与范围不清晰，可能导致方向偏离或资源浪费。  
     2. **资源风险**：2名成员可能缺乏互补技能，易因能力瓶颈或离职导致项目中断。  
     3. **进度风险**：若“2”为2个月且任务复杂，期限压力可能牺牲质量。  

   - **风险应对建议**：  
     1. **明确项目范围**：需补充详细的需求文档，定义可衡量的交付物（如“预期结果：2”需具体化为可测试的成果）。  
     2. **强化团队结构**：建议增加后备成员或明确外部支持机制，确保技能覆盖。  
     3. **制定详细计划**：将时间线分解为周/日任务，设置关键检查点。  

---

#### 3. **项目优化建议**
   - **短期优化**：  
     - 重新定义项目内容（如将“1”转化为具体任务清单）。  
     - 明确成员职责（如技术开发、测试、项目管理等角色分配）。  
     - 将止损点“2”量化为具体指标（如预算超支20%或进度延迟30%即终止）。  
   - **长期优化**：  
     - 引入敏捷管理方法，分阶段验证成果，降低不确定性。  
     - 建立沟通机制（如每日站会），及时调整策略。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**  
   - **理由**：  
     当前项目信息严重不足，缺乏可执行的基础框架。若强行启动，可能因目标模糊、资源错配或时间规划不合理而失败。建议重新规划，补充以下内容后再评估：  
     - 详细项目范围说明书  
     - 成员技能矩阵与分工  
     - 时间线甘特图与里程碑  
     - 量化止损标准（财务、进度、质量维度）  

---

**注**：本分析基于有限信息，若补充细节后可重新评估可行性。建议遵循项目管理标准（如PMBOK）完善规划阶段工作。
2025-09-23 14:37:23.176 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 9
2025-09-23 14:37:23.176 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 9，结果: 9d23c9f6-e0f1-4483-b930-e305ed375ccc
2025-09-23 14:37:23.176 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:37:23.177 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1826663987<open>)] for JPA transaction
2025-09-23 14:37:23.177 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e63f336]
2025-09-23 14:37:23.177 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 9
2025-09-23 14:37:23.177 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告

**项目名称**：223344  
**分析日期**：2023年10月（假设当前日期）  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  
     **结论**：信息缺失，需明确具体技术需求。  

   - **资源可行性**：  
     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  
     **结论**：资源规划模糊，需细化成员分工与能力要求。  

   - **时间可行性**：  
     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充足；若任务复杂，则期限不合理。  
     **结论**：需明确时间单位及任务分解后的里程碑。  

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **信息模糊风险**：所有关键参数（内容、成员角色、时间单位）均未具体化，项目目标与范围不清晰，可能导致方向偏离或资源浪费。  
     2. **资源风险**：2名成员可能缺乏互补技能，易因能力瓶颈或离职导致项目中断。  
     3. **进度风险**：若“2”为2个月且任务复杂，期限压力可能牺牲质量。  

   - **风险应对建议**：  
     1. **明确项目范围**：需补充详细的需求文档，定义可衡量的交付物（如“预期结果：2”需具体化为可测试的成果）。  
     2. **强化团队结构**：建议增加后备成员或明确外部支持机制，确保技能覆盖。  
     3. **制定详细计划**：将时间线分解为周/日任务，设置关键检查点。  

---

#### 3. **项目优化建议**
   - **短期优化**：  
     - 重新定义项目内容（如将“1”转化为具体任务清单）。  
     - 明确成员职责（如技术开发、测试、项目管理等角色分配）。  
     - 将止损点“2”量化为具体指标（如预算超支20%或进度延迟30%即终止）。  
   - **长期优化**：  
     - 引入敏捷管理方法，分阶段验证成果，降低不确定性。  
     - 建立沟通机制（如每日站会），及时调整策略。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**  
   - **理由**：  
     当前项目信息严重不足，缺乏可执行的基础框架。若强行启动，可能因目标模糊、资源错配或时间规划不合理而失败。建议重新规划，补充以下内容后再评估：  
     - 详细项目范围说明书  
     - 成员技能矩阵与分工  
     - 时间线甘特图与里程碑  
     - 量化止损标准（财务、进度、质量维度）  

---

**注**：本分析基于有限信息，若补充细节后可重新评估可行性。建议遵循项目管理标准（如PMBOK）完善规划阶段工作。
2025-09-23 14:37:23.177 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: false
明确拒绝: true
积极指标: true
消极指标: true
置信度: 0.3
通过判断: 拒绝
2025-09-23 14:37:23.177 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 9, 置信度: 0.3
2025-09-23 14:37:23.178 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1826663987<open>)] for JPA transaction
2025-09-23 14:37:23.178 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:37:23.181 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:37:23.187 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:37:23.187 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:37:23.177920]
2025-09-23 14:37:23.187 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.3]
2025-09-23 14:37:23.187 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:37:23.180391]
2025-09-23 14:37:23.187 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:37:23.187 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:37:23.187 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:37:23.187 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:37:23.188 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:37:23.188 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:37:23.188 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [9]
2025-09-23 14:37:23.188 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告

**项目名称**：223344  
**分析日期**：2023年10月（假设当前日期）  
**分析依据**：提供的项目基本信息（内容、成员、预期结果、时间线、止损点）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅标注为“1”，信息严重不足，无法判断技术复杂度或技术实现路径。若“1”代表高度成熟的技术（如标准化流程），则技术风险较低；若代表未知或创新技术，则风险极高。  
     **结论**：信息缺失，需明确具体技术需求。  

   - **资源可行性**：  
     项目成员数为“2”，未说明角色、技能或工作量分配。若任务简单且成员能力匹配，资源可能充足；若任务复杂，则人力资源严重不足。  
     **结论**：资源规划模糊，需细化成员分工与能力要求。  

   - **时间可行性**：  
     时间线标注为“2”（单位未明确，假设为2个月）。若任务轻量（如“1”代表小型任务），时间可能充足；若任务复杂，则期限不合理。  
     **结论**：需明确时间单位及任务分解后的里程碑。  

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **信息模糊风险**：所有关键参数（内容、成员角色、时间单位）均未具体化，项目目标与范围不清晰，可能导致方向偏离或资源浪费。  
     2. **资源风险**：2名成员可能缺乏互补技能，易因能力瓶颈或离职导致项目中断。  
     3. **进度风险**：若“2”为2个月且任务复杂，期限压力可能牺牲质量。  

   - **风险应对建议**：  
     1. **明确项目范围**：需补充详细的需求文档，定义可衡量的交付物（如“预期结果：2”需具体化为可测试的成果）。  
     2. **强化团队结构**：建议增加后备成员或明确外部支持机制，确保技能覆盖。  
     3. **制定详细计划**：将时间线分解为周/日任务，设置关键检查点。  

---

#### 3. **项目优化建议**
   - **短期优化**：  
     - 重新定义项目内容（如将“1”转化为具体任务清单）。  
     - 明确成员职责（如技术开发、测试、项目管理等角色分配）。  
     - 将止损点“2”量化为具体指标（如预算超支20%或进度延迟30%即终止）。  
   - **长期优化**：  
     - 引入敏捷管理方法，分阶段验证成果，降低不确定性。  
     - 建立沟通机制（如每日站会），及时调整策略。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**  
   - **理由**：  
     当前项目信息严重不足，缺乏可执行的基础框架。若强行启动，可能因目标模糊、资源错配或时间规划不合理而失败。建议重新规划，补充以下内容后再评估：  
     - 详细项目范围说明书  
     - 成员技能矩阵与分工  
     - 时间线甘特图与里程碑  
     - 量化止损标准（财务、进度、质量维度）  

---

**注**：本分析基于有限信息，若补充细节后可重新评估可行性。建议遵循项目管理标准（如PMBOK）完善规划阶段工作。]
2025-09-23 14:37:23.188 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:37:23.188 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:37:23.180460]
2025-09-23 14:37:23.193 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:37:23.193 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 13, 项目ID: 9, 置信度: 0.3
2025-09-23 14:37:23.193 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 9
置信度: 0.3
是否通过: false
新状态: AI_REJECTED
2025-09-23 14:37:23.193 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 9, 状态: AI_REJECTED
2025-09-23 14:37:23.193 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1826663987<open>)] for JPA transaction
2025-09-23 14:37:23.193 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:37:23.194 [ai-task-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:37:23.194 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [3]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [223344]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-23 14:37:23.196 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:37:23.196 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI回调更新状态：项目ID: 9, 从 AI_ANALYZING 更新为 AI_REJECTED
2025-09-23 14:37:23.196 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 关联AI分析结果ID: 13 到项目: 9
2025-09-23 14:37:23.196 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1826663987<open>)] for JPA transaction
2025-09-23 14:37:23.196 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:37:23.197 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 项目状态已更新，ID: 9, 状态: AI_REJECTED
2025-09-23 14:37:23.197 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 9
最终状态: AI_REJECTED
AI结果ID: 13
2025-09-23 14:37:23.197 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:37:23.197 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1826663987<open>)]
2025-09-23 14:37:23.197 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [13]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_REJECTED]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [3]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [1]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [2]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [2]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [223344]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [2]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [2]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:37:23.197664]
2025-09-23 14:37:23.198 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [9]
2025-09-23 14:37:23.202 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1826663987<open>)] after transaction
2025-09-23 14:37:28.769 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:37:28.769 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:37:28.769 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:37:58.770 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:37:58.772 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:37:58.772 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:38:28.774 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:38:28.775 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:38:28.775 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:38:58.775 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:38:58.777 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:38:58.777 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:39:28.780 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:39:28.782 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:39:28.782 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:39:57.253 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/8
2025-09-23 14:39:57.255 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/8
2025-09-23 14:39:57.255 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/projects/8
2025-09-23 14:39:57.255 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: Bearer
2025-09-23 14:39:57.255 [http-nio-8081-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:39:57.260 [http-nio-8081-exec-1] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/projects/8 from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-23 14:39:58.786 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:39:58.786 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:39:58.786 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:40:04.988 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:40:04.989 [http-nio-8081-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:40:04.989 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:40:04.989 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:40:04.989 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:40:04.991 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='testuser', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:40:04.992 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: testuser
2025-09-23 14:40:04.992 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:40:04.992 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(930219903<open>)] for JPA transaction
2025-09-23 14:40:04.992 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7dda91]
2025-09-23 14:40:04.992 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.AuthService - Attempting login for user: testuser
2025-09-23 14:40:04.995 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:40:04.998 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:40:05.002 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:05.003 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:05.003 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:40:05.003 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:40:05.003 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:40:05.003 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:40:05.003 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:05.003 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:40:05.379 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.AuthService - User testuser logged in successfully
2025-09-23 14:40:05.379 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:40:05.379 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(930219903<open>)]
2025-09-23 14:40:05.380 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(930219903<open>)] after transaction
2025-09-23 14:40:05.380 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.AuthController - Login successful for user: testuser
2025-09-23 14:40:05.381 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:40:05.381 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5c8f9a11]
2025-09-23 14:40:05.381 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:40:05.390 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/8
2025-09-23 14:40:05.391 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/8
2025-09-23 14:40:05.391 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/8, length: 288
2025-09-23 14:40:05.393 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/8
2025-09-23 14:40:05.393 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/8
2025-09-23 14:40:05.394 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:40:05.394 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:40:05.394 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects/8
2025-09-23 14:40:05.394 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:40:05.396 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/8
2025-09-23 14:40:05.396 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/8", parameters={}
2025-09-23 14:40:05.396 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:40:05.396 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:40:05.397 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:40:05.399 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:05.400 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:40:05.400 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [8]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [8]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [测试项目ExpectedResults]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [用于测试 expected_results 字段的项目]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [测试团队]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [项目级别的预期结果]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2024年Q1]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试止损点]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [9]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [12]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:05.402 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:05.403 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REVIEWING]
2025-09-23 14:40:05.403 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:35:11]
2025-09-23 14:40:05.403 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:35:59]
2025-09-23 14:40:05.403 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [testuser]
2025-09-23 14:40:05.403 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:05.404 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:40:05.404 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(135657467<open>)] for JPA transaction
2025-09-23 14:40:05.404 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@ba9d0eb]
2025-09-23 14:40:05.404 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: testuser
2025-09-23 14:40:05.404 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:40:05.404 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:40:05.406 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:40:05.407 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(135657467<open>)]
2025-09-23 14:40:05.408 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(135657467<open>)] after transaction
2025-09-23 14:40:05.409 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:05.409 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:05.409 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [8]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [15]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [张三, 李四]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [第一个阶段的描述]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [第一阶段的详细预期结果：完成需求分析和设计文档]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [8]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2024年1月-2月]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:40:05.410 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [16]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [王五, 赵六]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [第二个阶段的描述]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [第二阶段的详细预期结果：完成系统开发和单元测试，确保所有功能模块正常运行]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第二阶段]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [8]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2024年3月-4月]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:40:05.411 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:05.412 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-23 14:40:05.412 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(993268422<open>)] for JPA transaction
2025-09-23 14:40:05.413 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5110b484]
2025-09-23 14:40:05.413 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.id=?
Hibernate: 
    select
        ar1_0.id,
        ar1_0.analysis_type,
        ar1_0.completed_at,
        ar1_0.confidence,
        ar1_0.created_at,
        ar1_0.entity_type,
        ar1_0.error_message,
        ar1_0.metadata,
        ar1_0.model_version,
        ar1_0.parameters,
        ar1_0.processing_time_ms,
        ar1_0.report_id,
        ar1_0.result,
        ar1_0.status,
        ar1_0.updated_at 
    from
        ai_analysis_results ar1_0 
    where
        ar1_0.id=?
2025-09-23 14:40:05.414 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [12]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:ENUM) -> [RISK_ASSESSMENT]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:35:59]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:DOUBLE) -> [0.8]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:35:59]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [PROJECT]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [null]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [DeepSeek AI Service]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [null]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [8]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:VARCHAR) -> [### 项目可行性分析报告：测试项目ExpectedResults

---

#### 1. **项目可行性评估**
   - **技术可行性**  
     - 项目内容为测试 `expected_results` 字段，技术难度较低，属于功能验证类任务，无需复杂技术架构或创新性开发。  
     - 建议：需明确测试框架（如单元测试、集成测试工具）和验收标准，确保与现有系统兼容。  
     - **结论：技术风险低，可行性高。**

   - **资源可行性**  
     - 项目成员仅为“测试团队”，未明确具体人员数量、技能匹配度或分工。若团队具备自动化测试经验且工作量合理，资源可支持。  
     - 潜在问题：若测试需跨部门协作（如开发团队提供接口支持），资源可能不足。  
     - **结论：资源条件部分明确，需补充细节后评估。**

   - **时间可行性**  
     - 时间线为“2024年Q1”（3个月），周期充足。但需细化里程碑（如测试用例设计、执行、复盘）。  
     - 风险：若项目依赖其他未完成模块，时间可能紧张。  
     - **结论：时间安排合理，但需制定详细计划。**

---

#### 2. **风险评估与建议**
   - **主要风险**  
     - **需求模糊性**：”项目级别的预期结果“定义不清晰，可能导致测试范围蔓延或验收分歧。  
     - **依赖风险**：若测试对象（如代码、环境）未按时就绪，将阻塞进度。  
     - **止损点模糊**：”测试止损点“未明确具体指标（如缺陷率、周期超限），难以决策。  

   - **应对建议**  
     - 明确需求：与干系人确认“预期结果”的具体衡量指标（如功能覆盖率、性能阈值）。  
     - 建立依赖管理机制：与开发团队约定交付节点，设置缓冲时间。  
     - 量化止损点：例如“缺陷数超20个”或“进度延迟超2周”时触发复盘或终止。

---

#### 3. **项目优化建议**
   - **短期优化**  
     - 分解任务：将项目拆分为“测试计划设计→用例开发→执行→报告”阶段，每阶段设置交付物。  
     - 引入自动化：若为重复性测试，采用自动化工具提升效率（如Selenium、JUnit）。  
   - **长期优化**  
     - 建立测试资产库：沉淀测试用例，便于后续项目复用。  
     - 增加质量门禁：将测试结果与CI/CD流程集成，实现持续验证。

---

#### 4. **总体评价**  
   - **结论：有条件通过**  
   - **理由**：  
     - 项目目标明确且技术简单，但**需求、资源和止损点缺乏量化标准**，存在管控风险。  
     - 建议在启动前补充以下内容：  
       - 详细需求文档（含验收标准）；  
       - 资源分配计划（成员职责、工时）；  
       - 明确的止损指标和决策流程。  

---

**附件建议**：  
- 制定《测试项目章程》，明确范围、风险和关键绩效指标（KPI）。  
- 使用敏捷看板（如Jira）跟踪进度，定期同步风险。]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:ENUM) -> [COMPLETED]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:35:59]
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:40:05.415 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(993268422<open>)]
2025-09-23 14:40:05.416 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(993268422<open>)] after transaction
2025-09-23 14:40:05.416 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - AI analysis result loaded for project: 8, analysis ID: 12
2025-09-23 14:40:05.417 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:40:05.417 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@55d4fcde]
2025-09-23 14:40:05.418 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:40:14.411 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:40:14.411 [http-nio-8081-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:40:14.411 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:40:14.411 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:40:14.411 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:40:14.411 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='testuser', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:40:14.412 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: testuser
2025-09-23 14:40:14.412 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:40:14.412 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(803546535<open>)] for JPA transaction
2025-09-23 14:40:14.412 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@d45c011]
2025-09-23 14:40:14.412 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.AuthService - Attempting login for user: testuser
2025-09-23 14:40:14.412 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:40:14.413 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:40:14.414 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:14.414 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:14.414 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:40:14.414 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:40:14.414 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:40:14.415 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:40:14.415 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:14.415 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:40:14.789 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.AuthService - User testuser logged in successfully
2025-09-23 14:40:14.789 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:40:14.789 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(803546535<open>)]
2025-09-23 14:40:14.790 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(803546535<open>)] after transaction
2025-09-23 14:40:14.790 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.AuthController - Login successful for user: testuser
2025-09-23 14:40:14.790 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:40:14.791 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3b778984]
2025-09-23 14:40:14.791 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:40:14.800 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects
2025-09-23 14:40:14.800 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:40:14.800 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 288
2025-09-23 14:40:14.802 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:40:14.802 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:40:14.802 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:40:14.803 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:40:14.803 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects
2025-09-23 14:40:14.803 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:40:14.804 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects
2025-09-23 14:40:14.804 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects", parameters={}
2025-09-23 14:40:14.804 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getAllProjects(int, int, String, String)
2025-09-23 14:40:14.815 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getAllProjects(int,int,java.lang.String,java.lang.String); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:40:14.816 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getAllProjects(int,int,java.lang.String,java.lang.String); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:40:14.818 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.823 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    order by
        createdAt desc */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        order by
            14 desc 
        limit
            ?, ?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    order by
        createdAt desc */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        order by
            14 desc 
        limit
            ?, ?
2025-09-23 14:40:14.825 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:INTEGER) <- [0]
2025-09-23 14:40:14.825 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [10]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [13]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_REJECTED]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:37:23]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [8]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [测试项目ExpectedResults]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [用于测试 expected_results 字段的项目]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [测试团队]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [项目级别的预期结果]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2024年Q1]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试止损点]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [9]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [12]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REVIEWING]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:35:11]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:35:59]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [testuser]
2025-09-23 14:40:14.827 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [7]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [221122]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [11]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [11]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_REJECTED]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:30:46]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:31:34]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [6]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1122]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [222]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [22]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [22]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [22]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [10]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_REJECTED]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:19:18]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:20:08]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [5]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [33]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [33]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [33]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [9]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_REJECTED]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:18:02]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:18:47]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [4]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [状态保护测试项目]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [测试AI回调不会覆盖管理员拒绝状态]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [测试成员]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [测试AI状态保护]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试时间]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试止损]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [7]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["测试：管理员拒绝该项目"]
2025-09-23 14:40:14.828 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:14:35]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:15:17]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [3]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [状态流转测试项目]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [测试管理员拒绝后强行提交流程]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [测试成员]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [测试成功]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [一周]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [无]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [5]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [7]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T13:59:10]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:01:16]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [2]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [测试状态流转项目]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [用于测试管理员拒绝后强行提交的状态流转]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [测试成员]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [测试状态流转]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试时间]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试止损]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [4]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [7]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REVIEWING]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T13:53:51]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T13:56:39]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [222]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [7]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [7]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["事实上"]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REJECTED]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T13:41:06]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:17:10]
2025-09-23 14:40:14.829 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:14.830 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.836 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.836 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.836 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [17]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [9]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:40:14.838 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:36:37]
2025-09-23 14:40:14.839 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.840 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.840 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.840 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [8]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [15]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [张三, 李四]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [第一个阶段的描述]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [第一阶段的详细预期结果：完成需求分析和设计文档]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [8]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2024年1月-2月]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [16]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [王五, 赵六]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [第二个阶段的描述]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [第二阶段的详细预期结果：完成系统开发和单元测试，确保所有功能模块正常运行]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第二阶段]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [8]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2024年3月-4月]
2025-09-23 14:40:14.842 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:35:15]
2025-09-23 14:40:14.843 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.843 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.844 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.844 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [7]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [11]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [7]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [11]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:30:51]
2025-09-23 14:40:14.845 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.846 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.846 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.846 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [6]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [13]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [111]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [11]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [6]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:40:14.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:19:22]
2025-09-23 14:40:14.848 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.848 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.848 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.848 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [5]
2025-09-23 14:40:14.853 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:40:14.853 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:40:14.853 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:40:14.853 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [5]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:40:14.854 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:18:06]
2025-09-23 14:40:14.855 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.855 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.855 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.855 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [4]
2025-09-23 14:40:14.857 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.858 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.858 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [3]
2025-09-23 14:40:14.859 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.859 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.860 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.860 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [2]
2025-09-23 14:40:14.861 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.861 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:14.861 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-23 14:40:14.861 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [1]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2222]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3是]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3嗯嗯上述]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [222]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [1]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-23 14:40:14.862 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-23T14:06:51]
2025-09-23 14:40:14.863 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:14.863 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:40:14.863 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4da7886f]
2025-09-23 14:40:14.869 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:40:21.835 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:40:21.835 [http-nio-8081-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:40:21.835 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:40:21.835 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:40:21.835 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:40:21.835 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='testuser', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:40:21.835 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: testuser
2025-09-23 14:40:21.836 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:40:21.836 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2045721793<open>)] for JPA transaction
2025-09-23 14:40:21.836 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1cb9404]
2025-09-23 14:40:21.836 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.AuthService - Attempting login for user: testuser
2025-09-23 14:40:21.836 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:40:21.837 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:40:21.838 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:21.838 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:21.838 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:40:21.838 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:40:21.838 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:40:21.838 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:40:21.838 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:21.838 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:40:22.216 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.AuthService - User testuser logged in successfully
2025-09-23 14:40:22.216 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:40:22.216 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2045721793<open>)]
2025-09-23 14:40:22.217 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2045721793<open>)] after transaction
2025-09-23 14:40:22.217 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.AuthController - Login successful for user: testuser
2025-09-23 14:40:22.217 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:40:22.218 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7edc4df4]
2025-09-23 14:40:22.218 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:40:22.227 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:40:22.227 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:40:22.227 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 288
2025-09-23 14:40:22.228 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:40:22.228 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:40:22.228 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:40:22.229 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:40:22.229 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects/9
2025-09-23 14:40:22.229 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:40:22.230 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:40:22.230 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:40:22.230 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:40:22.230 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:40:22.230 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:40:22.231 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:22.231 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:40:22.231 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [13]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_REJECTED]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:37:23]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(920311508<open>)] for JPA transaction
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33464955]
2025-09-23 14:40:22.233 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: testuser
2025-09-23 14:40:22.234 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:40:22.234 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:40:22.236 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(920311508<open>)]
2025-09-23 14:40:22.237 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(920311508<open>)] after transaction
2025-09-23 14:40:22.237 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:40:22.237 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@b9a1972]
2025-09-23 14:40:22.237 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-09-23 14:40:28.788 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:40:28.790 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:40:28.790 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:40:30.676 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:40:30.676 [http-nio-8081-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:40:30.679 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:40:30.679 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:40:30.679 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:40:30.681 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='testuser', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:40:30.683 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: testuser
2025-09-23 14:40:30.683 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:40:30.683 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1507855305<open>)] for JPA transaction
2025-09-23 14:40:30.683 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@990c58d]
2025-09-23 14:40:30.683 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.AuthService - Attempting login for user: testuser
2025-09-23 14:40:30.685 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:40:30.686 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:40:30.689 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:30.689 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:30.689 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:40:30.689 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:40:30.689 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:40:30.689 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:40:30.689 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:30.689 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:40:31.054 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.AuthService - User testuser logged in successfully
2025-09-23 14:40:31.054 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:40:31.054 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1507855305<open>)]
2025-09-23 14:40:31.055 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1507855305<open>)] after transaction
2025-09-23 14:40:31.055 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.AuthController - Login successful for user: testuser
2025-09-23 14:40:31.055 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:40:31.055 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@21898fab]
2025-09-23 14:40:31.056 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:40:31.065 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/9
2025-09-23 14:40:31.065 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/9
2025-09-23 14:40:31.065 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/9, length: 288
2025-09-23 14:40:31.066 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/9
2025-09-23 14:40:31.067 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/9
2025-09-23 14:40:31.067 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:40:31.068 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:40:31.068 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects/9
2025-09-23 14:40:31.068 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:40:31.069 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/9
2025-09-23 14:40:31.069 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/9", parameters={}
2025-09-23 14:40:31.069 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getProject(Long)
2025-09-23 14:40:31.069 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:40:31.069 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getProject(java.lang.Long); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:40:31.069 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:40:31.070 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    WHERE
        p.id = :projectId */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        where
            p1_0.id=?
2025-09-23 14:40:31.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [9]
2025-09-23 14:40:31.072 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:31.072 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [223344]
2025-09-23 14:40:31.072 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-23 14:40:31.072 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-23 14:40:31.072 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-23 14:40:31.072 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-23 14:40:31.072 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-23 14:40:31.072 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [3]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [13]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [AI_REJECTED]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-23T14:36:33]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:37:23]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(657709027<open>)] for JPA transaction
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@154113bf]
2025-09-23 14:40:31.073 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: testuser
2025-09-23 14:40:31.074 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:40:31.074 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:40:31.075 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(657709027<open>)]
2025-09-23 14:40:31.076 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(657709027<open>)] after transaction
2025-09-23 14:40:31.076 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:40:31.076 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@740602e0]
2025-09-23 14:40:31.077 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2025-09-23 14:40:58.791 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:40:58.793 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:40:58.793 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:41:28.794 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:41:28.796 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:41:28.796 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:41:58.797 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:41:58.798 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:41:58.798 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:42:04.441 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-23 14:42:04.444 [http-nio-8081-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-23 14:42:04.445 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-23 14:42:04.445 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-23 14:42:04.445 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-23 14:42:04.448 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='testuser', password='[PROTECTED]', rememberMe=false}]
2025-09-23 14:42:04.450 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: testuser
2025-09-23 14:42:04.450 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:04.451 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(218812480<open>)] for JPA transaction
2025-09-23 14:42:04.451 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6cc841da]
2025-09-23 14:42:04.451 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.AuthService - Attempting login for user: testuser
2025-09-23 14:42:04.456 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:42:04.468 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:42:04.472 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:42:04.472 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:42:04.472 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:42:04.472 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:42:04.472 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:42:04.472 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:42:04.472 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:42:04.472 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:42:04.864 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.AuthService - User testuser logged in successfully
2025-09-23 14:42:04.865 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:04.865 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(218812480<open>)]
2025-09-23 14:42:04.866 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(218812480<open>)] after transaction
2025-09-23 14:42:04.866 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.AuthController - Login successful for user: testuser
2025-09-23 14:42:04.867 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:42:04.867 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@274e06e1]
2025-09-23 14:42:04.868 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-23 14:42:04.878 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:42:04.878 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:42:04.878 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 288
2025-09-23 14:42:04.880 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:42:04.880 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:42:04.880 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:42:04.881 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:42:04.881 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects
2025-09-23 14:42:04.881 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:42:04.882 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:42:04.882 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:42:04.882 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:42:04.882 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='测试缺失字段', description='测试项目', phases=1 phases}]
2025-09-23 14:42:04.883 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:42:04.883 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:42:04.883 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:04.883 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(378041361<open>)] for JPA transaction
2025-09-23 14:42:04.883 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1fbcbbb2]
2025-09-23 14:42:04.883 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: testuser
2025-09-23 14:42:04.884 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:42:04.884 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:04.886 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(378041361<open>)]
2025-09-23 14:42:04.888 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(378041361<open>)] after transaction
2025-09-23 14:42:04.888 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:42:04.889 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:42:04.890 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [测试缺失字段]
2025-09-23 14:42:04.890 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:42:04.895 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:42:04.895 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:04.895 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2108539352<open>)] for JPA transaction
2025-09-23 14:42:04.895 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4dd59cfa]
2025-09-23 14:42:04.896 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:42:04.896669]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [9]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [测试项目]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [null]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [测试缺失字段]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [null]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [null]
2025-09-23 14:42:04.897 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:42:04.896692]
2025-09-23 14:42:04.900 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10]
2025-09-23 14:42:04.900 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:04.900 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2108539352<open>)]
2025-09-23 14:42:04.906 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2108539352<open>)] after transaction
2025-09-23 14:42:04.906 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Project created: 10 by user: 9, entering AI analysis
2025-09-23 14:42:04.906 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 10
2025-09-23 14:42:04.906 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 10
项目名称: 测试缺失字段
项目描述: 测试项目
项目成员: null
预期结果: null
时间线: null
止损点: null
2025-09-23 14:42:04.906 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：测试缺失字段
- 项目内容：测试项目
- 项目成员：未指定
- 预期结果：未指定
- 时间线：未指定
- 止损点：未指定

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:42:04.906 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 10
分析类型: PROJECT_EVALUATION
2025-09-23 14:42:04.906 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:42:04.907 [http-nio-8081-exec-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:04.907 [http-nio-8081-exec-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:42:04.907 [http-nio-8081-exec-1] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:04.907 [http-nio-8081-exec-1] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:04.907 [http-nio-8081-exec-1] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@55e0b16a] as "application/json"
2025-09-23 14:42:06.047 [http-nio-8081-exec-1] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:09.275 [http-nio-8081-exec-1] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:42:09.275 [http-nio-8081-exec-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:42:09.275 [http-nio-8081-exec-1] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"7fc9f1d6-73ae-40d6-ab88-c6a5d5716536","object":"chat.completion","created":1758609726,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:42:09.276 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 10
2025-09-23 14:42:09.276 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 10
2025-09-23 14:42:09.276 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 10
2025-09-23 14:42:09.276 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:09.276 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1991748929<open>)] for JPA transaction
2025-09-23 14:42:09.276 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@295fe489]
2025-09-23 14:42:09.276 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:42:09.276 [ForkJoinPool.commonPool-worker-5] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:42:09.276 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:09.276 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:42:09.276 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:09.276 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:09.276 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:09.276 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@605a6574] as "application/json"
2025-09-23 14:42:09.277 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [null]
2025-09-23 14:42:09.277 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:42:09.276615]
2025-09-23 14:42:09.277 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [阶段描述]
2025-09-23 14:42:09.277 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [null]
2025-09-23 14:42:09.277 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [阶段1]
2025-09-23 14:42:09.277 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [10]
2025-09-23 14:42:09.277 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:09.277 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:42:09.276636]
2025-09-23 14:42:09.279 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [18]
2025-09-23 14:42:09.279 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:09.280 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1991748929<open>)]
2025-09-23 14:42:09.284 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1991748929<open>)] after transaction
2025-09-23 14:42:09.284 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Created 1 phases for project: 10
2025-09-23 14:42:09.285 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:42:09.285 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@44faf466]
2025-09-23 14:42:09.285 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:42:09.306 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:42:09.306 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:42:09.306 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 288
2025-09-23 14:42:09.306 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:42:09.307 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:42:09.307 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:42:09.307 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:42:09.307 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects
2025-09-23 14:42:09.307 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:42:09.308 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:42:09.308 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:42:09.308 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:42:09.308 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='测试空字符串', description='测试项目', phases=1 phases}]
2025-09-23 14:42:09.309 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:42:09.309 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:42:09.309 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:09.309 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(895715585<open>)] for JPA transaction
2025-09-23 14:42:09.309 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5cf51cdf]
2025-09-23 14:42:09.309 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: testuser
2025-09-23 14:42:09.309 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:42:09.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:42:09.311 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:42:09.311 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:42:09.311 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:42:09.311 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:42:09.311 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:42:09.311 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:42:09.311 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:42:09.312 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:42:09.312 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:09.312 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(895715585<open>)]
2025-09-23 14:42:09.312 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(895715585<open>)] after transaction
2025-09-23 14:42:09.312 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:42:09.313 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:42:09.313 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [测试空字符串]
2025-09-23 14:42:09.313 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(343038053<open>)] for JPA transaction
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@642d04e7]
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:42:09.315706]
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [9]
2025-09-23 14:42:09.315 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [测试项目]
2025-09-23 14:42:09.316 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:09.316 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [null]
2025-09-23 14:42:09.316 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [测试空字符串]
2025-09-23 14:42:09.316 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:42:09.316 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [null]
2025-09-23 14:42:09.316 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:42:09.316 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [null]
2025-09-23 14:42:09.316 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:42:09.315714]
2025-09-23 14:42:09.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [11]
2025-09-23 14:42:09.317 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:09.317 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(343038053<open>)]
2025-09-23 14:42:09.320 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(343038053<open>)] after transaction
2025-09-23 14:42:09.320 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Project created: 11 by user: 9, entering AI analysis
2025-09-23 14:42:09.320 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 11
2025-09-23 14:42:09.320 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 11
项目名称: 测试空字符串
项目描述: 测试项目
项目成员: null
预期结果: null
时间线: null
止损点: null
2025-09-23 14:42:09.320 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：测试空字符串
- 项目内容：测试项目
- 项目成员：未指定
- 预期结果：未指定
- 时间线：未指定
- 止损点：未指定

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:42:09.320 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 11
分析类型: PROJECT_EVALUATION
2025-09-23 14:42:09.321 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:42:09.321 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:09.321 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:42:09.321 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:09.321 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:09.321 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@545597cd] as "application/json"
2025-09-23 14:42:09.830 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:10.431 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:13.573 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:42:13.573 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:42:13.573 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"fae9bdbc-e1f6-4ce2-8a65-ef4b109b1d4e","object":"chat.completion","created":1758609729,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:42:13.574 [ForkJoinPool.commonPool-worker-5] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:42:13.574 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:13.574 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：测试缺失字段\n- 项目内容：测试项目\n- 项目成员：未指定\n- 预期结果：未指定\n- 时间线：未指定\n- 止损点：未指定\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:42:13.574 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:13.574 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:13.574 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@6e9d870f] as "application/json"
2025-09-23 14:42:14.124 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"9feae9d7-2bec-4404-afc4-d10c2e46e413","object":"chat.completion","created":1758609730,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 11
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 11
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 11
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(110402351<open>)] for JPA transaction
2025-09-23 14:42:14.240 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@14106d1a]
2025-09-23 14:42:14.240 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:42:14.240 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:42:14.240 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:14.241 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:42:14.241 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:14.241 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:14.241 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:14.241 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@7e63965a] as "application/json"
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:14.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [null]
2025-09-23 14:42:14.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:42:14.241441]
2025-09-23 14:42:14.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [阶段描述]
2025-09-23 14:42:14.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- []
2025-09-23 14:42:14.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [阶段2]
2025-09-23 14:42:14.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [11]
2025-09-23 14:42:14.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:14.243 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:42:14.241457]
2025-09-23 14:42:14.245 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [19]
2025-09-23 14:42:14.246 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:14.246 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(110402351<open>)]
2025-09-23 14:42:14.250 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(110402351<open>)] after transaction
2025-09-23 14:42:14.250 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Created 1 phases for project: 11
2025-09-23 14:42:14.250 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:42:14.250 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1ac953e4]
2025-09-23 14:42:14.250 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:42:14.271 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /projects
2025-09-23 14:42:14.271 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects
2025-09-23 14:42:14.271 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects, length: 288
2025-09-23 14:42:14.272 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects
2025-09-23 14:42:14.273 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects
2025-09-23 14:42:14.273 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-23 14:42:14.274 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user testuser with authorities: [ROLE_MANAGER]
2025-09-23 14:42:14.274 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: testuser for request: /api/projects
2025-09-23 14:42:14.274 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-23 14:42:14.274 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /projects
2025-09-23 14:42:14.274 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/projects", parameters={}
2025-09-23 14:42:14.274 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#createProject(ProjectCreateRequest)
2025-09-23 14:42:14.275 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ProjectCreateRequest{name='测试null值', description='测试项目', phases=1 phases}]
2025-09-23 14:42:14.275 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:42:14.276 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.createProject(com.weeklyreport.dto.project.ProjectCreateRequest); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-23 14:42:14.276 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:14.276 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(554038460<open>)] for JPA transaction
2025-09-23 14:42:14.276 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21bd5a15]
2025-09-23 14:42:14.276 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: testuser
2025-09-23 14:42:14.276 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-23 14:42:14.276 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [testuser]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [9]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@example.com]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$7dPfEc6ZACv8z7YubSHMCOXnA8BCvM7uUw0PuNcsrJB8ea7vOwX7a]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-23T14:28:02]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser]
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:14.278 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(554038460<open>)]
2025-09-23 14:42:14.279 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(554038460<open>)] after transaction
2025-09-23 14:42:14.279 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-23 14:42:14.280 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
Hibernate: 
    /* <criteria> */ select
        p1_0.id 
    from
        projects p1_0 
    where
        p1_0.name=? 
    limit
        ?
2025-09-23 14:42:14.280 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [测试null值]
2025-09-23 14:42:14.280 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [1]
2025-09-23 14:42:14.281 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@499afc65 due to dirty commit state on close().
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(161439048<open>)] for JPA transaction
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@90cebbb]
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.Project */insert 
    into
        projects (admin_reviewer_id, ai_analysis_id, approval_status, created_at, created_by, description, expected_results, members, name, rejection_reason, stop_loss, super_admin_reviewer_id, timeline, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [null]
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_ANALYZING]
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:42:14.282488]
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:BIGINT) <- [9]
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [测试项目]
2025-09-23 14:42:14.282 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:14.283 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [null]
2025-09-23 14:42:14.283 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [测试null值]
2025-09-23 14:42:14.283 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:42:14.283 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:VARCHAR) <- [null]
2025-09-23 14:42:14.283 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:BIGINT) <- [null]
2025-09-23 14:42:14.283 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:VARCHAR) <- [null]
2025-09-23 14:42:14.283 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:42:14.282497]
2025-09-23 14:42:14.284 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [12]
2025-09-23 14:42:14.284 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:14.284 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(161439048<open>)]
2025-09-23 14:42:14.285 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(161439048<open>)] after transaction
2025-09-23 14:42:14.285 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Project created: 12 by user: 9, entering AI analysis
2025-09-23 14:42:14.285 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Starting AI analysis for project: 12
2025-09-23 14:42:14.285 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 开始AI分析项目 ===
项目ID: 12
项目名称: 测试null值
项目描述: 测试项目
项目成员: null
预期结果: null
时间线: null
止损点: null
2025-09-23 14:42:14.285 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析提示词 ===
你是一位资深的项目管理专家，请分析以下项目的可行性：

项目基本信息：
- 项目名称：测试null值
- 项目内容：测试项目
- 项目成员：未指定
- 预期结果：未指定
- 时间线：未指定
- 止损点：未指定

请从以下维度进行分析并给出建议：
1. 项目可行性评估（技术、资源、时间）
2. 风险评估和建议
3. 项目优化建议
4. 总体评价（通过/不通过）

请以结构化的形式返回分析结果。

2025-09-23 14:42:14.285 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 发送AI分析请求 ===
项目ID: 12
分析类型: PROJECT_EVALUATION
2025-09-23 14:42:14.285 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.ai.AIAnalysisService - Starting async AI analysis - Type: PROJECT_EVALUATION, Provider: default
2025-09-23 14:42:14.286 [http-nio-8081-exec-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:14.286 [http-nio-8081-exec-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:42:14.286 [http-nio-8081-exec-5] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:14.286 [http-nio-8081-exec-5] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:14.286 [http-nio-8081-exec-5] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@16d929f6] as "application/json"
2025-09-23 14:42:15.212 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:16.284 [http-nio-8081-exec-5] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:19.203 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:42:19.204 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:42:19.204 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"4096e230-1374-4ac7-90ff-c3057615e644","object":"chat.completion","created":1758609735,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:42:19.205 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:42:19.205 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:19.205 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：测试空字符串\n- 项目内容：测试项目\n- 项目成员：未指定\n- 预期结果：未指定\n- 时间线：未指定\n- 止损点：未指定\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:42:19.208 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:19.211 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:19.212 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@70a477e6] as "application/json"
2025-09-23 14:42:19.313 [http-nio-8081-exec-5] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:42:19.313 [http-nio-8081-exec-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:42:19.313 [http-nio-8081-exec-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"29472f47-f711-4a6c-8a4f-eb28532ad0cc","object":"chat.completion","created":1758609736,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:42:19.314 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.ai.AIAnalysisService - === CompletableFuture已创建 ===
项目ID: 12
2025-09-23 14:42:19.315 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.ai.AIAnalysisService - === 回调已注册，AI分析已启动 ===
项目ID: 12
2025-09-23 14:42:19.315 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - AI analysis initiated for project: 12
2025-09-23 14:42:19.315 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23 14:42:19.315 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2139488403<open>)] for JPA transaction
2025-09-23 14:42:19.316 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@64b26bbd]
2025-09-23 14:42:19.320 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.ProjectPhase */insert 
    into
        project_phases (assigned_members, created_at, description, expected_results, phase_name, project_id, schedule, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:19.326 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [null]
2025-09-23 14:42:19.326 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:42:19.318156]
2025-09-23 14:42:19.327 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:VARCHAR) <- [阶段描述]
2025-09-23 14:42:19.327 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:VARCHAR) <- [null]
2025-09-23 14:42:19.327 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [阶段3]
2025-09-23 14:42:19.327 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:BIGINT) <- [12]
2025-09-23 14:42:19.327 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:19.327 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:TIMESTAMP) <- [2025-09-23T14:42:19.318389]
2025-09-23 14:42:19.334 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [20]
2025-09-23 14:42:19.335 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:19.335 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2139488403<open>)]
2025-09-23 14:42:19.344 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2139488403<open>)] after transaction
2025-09-23 14:42:19.344 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Created 1 phases for project: 12
2025-09-23 14:42:19.345 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-23 14:42:19.345 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@790cc177]
2025-09-23 14:42:19.346 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-09-23 14:42:19.789 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:28.801 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:42:28.801 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:42:28.801 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:42:47.778 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:42:47.779 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:42:47.779 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"9d4cb217-3ade-41d7-baa9-49a244ca31b8","object":"chat.completion","created":1758609739,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告\n\n#### 1. **项目可行性评估**\n   - **技术可行性**  \n     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**\n   - **资源可行性**  \n     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**\n   - **时间可行性**  \n     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**\n\n#### 2. **风险评估和建议**\n   - **主要风险**  \n     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  \n     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  \n     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  \n   - **建议**  \n     - 明确项目核心目标（如测试的具体对象、成功标准）。  \n     - 补充成员角色分工、预算分配及时间计划。  \n     - 设定止损条件（如超时、超预算或测试失败阈值）。\n\n#### 3. **项目优化建议**\n   - **短期行动**  \n     - 与发起方沟通，澄清项目背景、范围及预期价值。  \n     - 制定最小可行计划（MVP），例如先定义测试范围并分配基础资源。  \n   - **长期优化**  \n     - 建立项目章程，包含目标、里程碑、责任矩阵（RACI）。  \n     - 引入敏捷管理方法，通过迭代测试快速验证方向。\n\n#### 4. **总体评价**  \n   - **结论：不通过**  \n   - **理由**：当前项目信息严重不足，缺乏可行性分析的基本要素（目标、资源、时间），若强行启动可能导致完全失控。建议重新规划并补充关键信息后再评估。\n\n---\n**注**：本分析基于有限信息，若补充细节（如测试类型、业务背景等），可进一步调整评估结论。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":124,"completion_tokens":466,"total_tokens":590,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":124},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:42:47.779 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:42:47.779 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告

#### 1. **项目可行性评估**
   - **技术可行性**  
     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**
   - **资源可行性**  
     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**
   - **时间可行性**  
     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**

#### 2. **风险评估和建议**
   - **主要风险**  
     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  
     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  
     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  
   - **建议**  
     - 明确项目核心目标（如测试的具体对象、成功标准）。  
     - 补充成员角色分工、预算分配及时间计划。  
     - 设定止损条件（如超时、超预算或测试失败阈值）。

#### 3. **项目优化建议**
   - **短期行动**  
     - 与发起方沟通，澄清项目背景、范围及预期价值。  
     - 制定最小可行计划（MVP），例如先定义测试范围并分配基础资源。  
   - **长期优化**  
     - 建立项目章程，包含目标、里程碑、责任矩阵（RACI）。  
     - 引入敏捷管理方法，通过迭代测试快速验证方向。

#### 4. **总体评价**  
   - **结论：不通过**  
   - **理由**：当前项目信息严重不足，缺乏可行性分析的基本要素（目标、资源、时间），若强行启动可能导致完全失控。建议重新规划并补充关键信息后再评估。

---
**注**：本分析基于有限信息，若补充细节（如测试类型、业务背景等），可进一步调整评估结论。
2025-09-23 14:42:47.779 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告

#### 1. **项目可行性评估**
   - **技术可行性**  
     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**
   - **资源可行性**  
     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**
   - **时间可行性**  
     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**

#### 2. **风险评估和建议**
   - **主要风险**  
     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  
     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  
     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  
   - **建议**  
     - 明确项目核心目标（如测试的具体对象、成功标准）。  
     - 补充成员角色分工、预算分配及时间计划。  
     - 设定止损条件（如超时、超预算或测试失败阈值）。

#### 3. **项目优化建议**
   - **短期行动**  
     - 与发起方沟通，澄清项目背景、范围及预期价值。  
     - 制定最小可行计划（MVP），例如先定义测试范围并分配基础资源。  
   - **长期优化**  
     - 建立项目章程，包含目标、里程碑、责任矩阵（RACI）。  
     - 引入敏捷管理方法，通过迭代测试快速验证方向。

#### 4. **总体评价**  
   - **结论：不通过**  
   - **理由**：当前项目信息严重不足，缺乏可行性分析的基本要素（目标、资源、时间），若强行启动可能导致完全失控。建议重新规划并补充关键信息后再评估。

---
**注**：本分析基于有限信息，若补充细节（如测试类型、业务背景等），可进一步调整评估结论。
2025-09-23 14:42:47.779 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告

#### 1. **项目可行性评估**
   - **技术可行性**  
     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**
   - **资源可行性**  
     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**
   - **时间可行性**  
     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**

#### 2. **风险评估和建议**
   - **主要风险**  
     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  
     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  
     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  
   - **建议**  
     - 明确项目核心目标（如测试的具体对象、成功标准）。  
     - 补充成员角色分工、预算分配及时间计划。  
     - 设定止损条件（如超时、超预算或测试失败阈值）。

#### 3. **项目优化建议**
   - **短期行动**  
     - 与发起方沟通，澄清项目背景、范围及预期价值。  
     - 制定最小可行计划（MVP），例如先定义测试范围并分配基础资源。  
   - **长期优化**  
     - 建立项目章程，包含目标、里程碑、责任矩阵（RACI）。  
     - 引入敏捷管理方法，通过迭代测试快速验证方向。

#### 4. **总体评价**  
   - **结论：不通过**  
   - **理由**：当前项目信息严重不足，缺乏可行性分析的基本要素（目标、资源、时间），若强行启动可能导致完全失控。建议重新规划并补充关键信息后再评估。

---
**注**：本分析基于有限信息，若补充细节（如测试类型、业务背景等），可进一步调整评估结论。",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:42:47.780 [ForkJoinPool.commonPool-worker-6] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告

#### 1. **项目可行性评估**
   - **技术可行性**  
     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**
   - **资源可行性**  
     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**
   - **时间可行性**  
     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**

#### 2. **风险评估和建议**
   - **主要风险**  
     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  
     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  
     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  
   - **建议*"[truncated 568 chars]; line: 3, column: 32]
2025-09-23 14:42:47.780 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告

#### 1. **项目可行性评估**
   - **技术可行性**  
     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**
   - **资源可行性**  
     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**
   - **时间可行性**  
     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**

#### 2. **风险评估和建议**
   - **主要风险**  
     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  
     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  
     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  
   - **建议**  
     - 明确项目核心目标（如测试的具体对象、成功标准）。  
     - 补充成员角色分工、预算分配及时间计划。  
     - 设定止损条件（如超时、超预算或测试失败阈值）。

#### 3. **项目优化建议**
   - **短期行动**  
     - 与发起方沟通，澄清项目背景、范围及预期价值。  
     - 制定最小可行计划（MVP），例如先定义测试范围并分配基础资源。  
   - **长期优化**  
     - 建立项目章程，包含目标、里程碑、责任矩阵（RACI）。  
     - 引入敏捷管理方法，通过迭代测试快速验证方向。

#### 4. **总体评价**  
   - **结论：不通过**  
   - **理由**：当前项目信息严重不足，缺乏可行性分析的基本要素（目标、资源、时间），若强行启动可能导致完全失控。建议重新规划并补充关键信息后再评估。

---
**注**：本分析基于有限信息，若补充细节（如测试类型、业务背景等），可进一步调整评估结论。
2025-09-23 14:42:47.780 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:42:47.780 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 28576ms
2025-09-23 14:42:47.780 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: 8b510b42-e412-4f13-b8e7-0d5f6cb9f6ed, Time: 33540ms
2025-09-23 14:42:47.781 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 33540ms
2025-09-23 14:42:47.781 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: 8b510b42-e412-4f13-b8e7-0d5f6cb9f6ed
2025-09-23 14:42:47.781 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: 8b510b42-e412-4f13-b8e7-0d5f6cb9f6ed, Provider: DeepSeek AI Service
2025-09-23 14:42:47.781 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 11
2025-09-23 14:42:47.781 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 11
分析ID: 8b510b42-e412-4f13-b8e7-0d5f6cb9f6ed
提供商: DeepSeek AI Service
结果长度: 919 字符
2025-09-23 14:42:47.781 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告

#### 1. **项目可行性评估**
   - **技术可行性**  
     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**
   - **资源可行性**  
     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**
   - **时间可行性**  
     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**

#### 2. **风险评估和建议**
   - **主要风险**  
     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  
     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  
     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  
   - **建议**  
     - 明确项目核心目标（如测试的具体对象、成功标准）。  
     - 补充成员角色分工、预算分配及时间计划。  
     - 设定止损条件（如超时、超预算或测试失败阈值）。

#### 3. **项目优化建议**
   - **短期行动**  
     - 与发起方沟通，澄清项目背景、范围及预期价值。  
     - 制定最小可行计划（MVP），例如先定义测试范围并分配基础资源。  
   - **长期优化**  
     - 建立项目章程，包含目标、里程碑、责任矩阵（RACI）。  
     - 引入敏捷管理方法，通过迭代测试快速验证方向。

#### 4. **总体评价**  
   - **结论：不通过**  
   - **理由**：当前项目信息严重不足，缺乏可行性分析的基本要素（目标、资源、时间），若强行启动可能导致完全失控。建议重新规划并补充关键信息后再评估。

---
**注**：本分析基于有限信息，若补充细节（如测试类型、业务背景等），可进一步调整评估结论。
2025-09-23 14:42:47.781 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 11
2025-09-23 14:42:47.781 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 11，结果: 8b510b42-e412-4f13-b8e7-0d5f6cb9f6ed
2025-09-23 14:42:47.781 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:42:47.782 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(20335068<open>)] for JPA transaction
2025-09-23 14:42:47.782 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4f645de2]
2025-09-23 14:42:47.782 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 11
2025-09-23 14:42:47.782 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告

#### 1. **项目可行性评估**
   - **技术可行性**  
     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**
   - **资源可行性**  
     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**
   - **时间可行性**  
     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**

#### 2. **风险评估和建议**
   - **主要风险**  
     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  
     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  
     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  
   - **建议**  
     - 明确项目核心目标（如测试的具体对象、成功标准）。  
     - 补充成员角色分工、预算分配及时间计划。  
     - 设定止损条件（如超时、超预算或测试失败阈值）。

#### 3. **项目优化建议**
   - **短期行动**  
     - 与发起方沟通，澄清项目背景、范围及预期价值。  
     - 制定最小可行计划（MVP），例如先定义测试范围并分配基础资源。  
   - **长期优化**  
     - 建立项目章程，包含目标、里程碑、责任矩阵（RACI）。  
     - 引入敏捷管理方法，通过迭代测试快速验证方向。

#### 4. **总体评价**  
   - **结论：不通过**  
   - **理由**：当前项目信息严重不足，缺乏可行性分析的基本要素（目标、资源、时间），若强行启动可能导致完全失控。建议重新规划并补充关键信息后再评估。

---
**注**：本分析基于有限信息，若补充细节（如测试类型、业务背景等），可进一步调整评估结论。
2025-09-23 14:42:47.782 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: false
明确拒绝: true
积极指标: true
消极指标: true
置信度: 0.3
通过判断: 拒绝
2025-09-23 14:42:47.782 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 11, 置信度: 0.3
2025-09-23 14:42:47.782 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(20335068<open>)] for JPA transaction
2025-09-23 14:42:47.782 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:42:47.784 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:47.788 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:42:47.788 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:42:47.782646]
2025-09-23 14:42:47.788 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.3]
2025-09-23 14:42:47.788 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:42:47.784171]
2025-09-23 14:42:47.788 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:42:47.788 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:42:47.789 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:47.789 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:42:47.789 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:42:47.789 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:42:47.789 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [11]
2025-09-23 14:42:47.789 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告

#### 1. **项目可行性评估**
   - **技术可行性**  
     项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于信息缺失，无法评估技术难度或技术风险。**结论：信息不足，无法评估。**
   - **资源可行性**  
     项目成员、预算、设备等资源均未指定，无法判断是否具备执行条件。**结论：资源需求未定义，存在严重缺口。**
   - **时间可行性**  
     时间线和里程碑未设定，无法评估进度安排的合理性。**结论：缺乏时间框架，进度风险极高。**

#### 2. **风险评估和建议**
   - **主要风险**  
     - **目标模糊风险**：预期结果未定义，项目可能缺乏明确方向，导致资源浪费或成果不达预期。  
     - **资源不足风险**：成员、预算等关键信息缺失，执行阶段易出现中断或冲突。  
     - **失控风险**：无止损点和阶段性检查机制，项目可能陷入无限期投入。  
   - **建议**  
     - 明确项目核心目标（如测试的具体对象、成功标准）。  
     - 补充成员角色分工、预算分配及时间计划。  
     - 设定止损条件（如超时、超预算或测试失败阈值）。

#### 3. **项目优化建议**
   - **短期行动**  
     - 与发起方沟通，澄清项目背景、范围及预期价值。  
     - 制定最小可行计划（MVP），例如先定义测试范围并分配基础资源。  
   - **长期优化**  
     - 建立项目章程，包含目标、里程碑、责任矩阵（RACI）。  
     - 引入敏捷管理方法，通过迭代测试快速验证方向。

#### 4. **总体评价**  
   - **结论：不通过**  
   - **理由**：当前项目信息严重不足，缺乏可行性分析的基本要素（目标、资源、时间），若强行启动可能导致完全失控。建议重新规划并补充关键信息后再评估。

---
**注**：本分析基于有限信息，若补充细节（如测试类型、业务背景等），可进一步调整评估结论。]
2025-09-23 14:42:47.789 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:42:47.789 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:42:47.784217]
2025-09-23 14:42:47.794 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [14]
2025-09-23 14:42:47.795 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 14, 项目ID: 11, 置信度: 0.3
2025-09-23 14:42:47.795 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 11
置信度: 0.3
是否通过: false
新状态: AI_REJECTED
2025-09-23 14:42:47.795 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 11, 状态: AI_REJECTED
2025-09-23 14:42:47.795 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(20335068<open>)] for JPA transaction
2025-09-23 14:42:47.795 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:42:47.795 [ai-task-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:42:47.795 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [11]
2025-09-23 14:42:47.797 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:42:47.797 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:42:47.797 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:42:09]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [9]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试项目]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [null]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试空字符串]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [null]
2025-09-23 14:42:47.798 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:42:09]
2025-09-23 14:42:47.798 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI回调更新状态：项目ID: 11, 从 AI_ANALYZING 更新为 AI_REJECTED
2025-09-23 14:42:47.798 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 关联AI分析结果ID: 14 到项目: 11
2025-09-23 14:42:47.798 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(20335068<open>)] for JPA transaction
2025-09-23 14:42:47.798 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:42:47.798 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 项目状态已更新，ID: 11, 状态: AI_REJECTED
2025-09-23 14:42:47.798 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 11
最终状态: AI_REJECTED
AI结果ID: 14
2025-09-23 14:42:47.798 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:47.798 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(20335068<open>)]
2025-09-23 14:42:47.799 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [14]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_REJECTED]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [9]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [测试项目]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [测试空字符串]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [null]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:42:47.798999]
2025-09-23 14:42:47.799 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [11]
2025-09-23 14:42:47.809 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(20335068<open>)] after transaction
2025-09-23 14:42:47.809 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Starting async AI analysis for type: PROJECT_EVALUATION
2025-09-23 14:42:47.809 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting AI analysis - Type: PROJECT_EVALUATION, Provider: DeepSeek AI Service
2025-09-23 14:42:47.809 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:47.809 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-23 14:42:47.810 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:47.810 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:47.810 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@749bfd2a] as "application/json"
2025-09-23 14:42:48.392 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:51.471 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:42:51.472 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:42:51.472 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"87400be3-aef4-4eda-a14d-1467f8097f85","object":"chat.completion","created":1758609768,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! 👋 How are you doing today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":10,"total_tokens":15,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:42:51.472 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Starting DeepSeek analysis for type: PROJECT_EVALUATION
2025-09-23 14:42:51.472 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-23 14:42:51.473 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"你是一位资深的项目管理专家，请分析以下项目的可行性：\n\n项目基本信息：\n- 项目名称：测试null值\n- 项目内容：测试项目\n- 项目成员：未指定\n- 预期结果：未指定\n- 时间线：未指定\n- 止损点：未指定\n\n请从以下维度进行分析并给出建议：\n1. 项目可行性评估（技术、资源、时间）\n2. 风险评估和建议\n3. 项目优化建议\n4. 总体评价（通过/不通过）\n\n请以结构化的形式返回分析结果。\n"}],"temperature":0.7,"stream":false,"max_tokens":2000}
2025-09-23 14:42:51.473 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-23 14:42:51.473 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-23 14:42:51.474 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@31997ddd] as "application/json"
2025-09-23 14:42:52.049 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-23 14:42:55.389 [ForkJoinPool.commonPool-worker-5] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:42:55.629 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:42:55.630 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"a287dfa4-01f6-4438-b0b3-220dd757a3d1","object":"chat.completion","created":1758609734,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告\n\n**项目名称**：测试缺失字段  \n**分析日期**：2023年10月（假设当前时间）  \n**分析依据**：提供的项目基本信息（关键字段严重缺失）  \n\n---\n\n#### 1. **项目可行性评估**\n   - **技术可行性**：  \n     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  \n     **结论**：技术维度风险极高，需补充技术细节。  \n\n   - **资源可行性**：  \n     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  \n     **结论**：资源维度不可行，需明确成员角色和资源分配。  \n\n   - **时间可行性**：  \n     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  \n     **结论**：时间维度不可行，需制定详细时间计划。  \n\n   **总体可行性**：**严重不足**。核心要素缺失导致项目无法启动。\n\n---\n\n#### 2. **风险评估与建议**\n   - **主要风险**：  \n     1. **目标模糊风险**：预期结果未定义，项目可能偏离方向或无法验收。  \n     2. **资源黑洞风险**：未指定成员可能导致职责混乱、效率低下或任务搁置。  \n     3. **进度失控风险**：无时间线和止损点，易陷入无限期投入或无法及时终止失败项目。  \n     4. **沟通与协作风险**：关键信息缺失会引发团队内外部沟通障碍。  \n\n   - **风险应对建议**：  \n     1. **明确项目目标**：与利益相关者协商，定义可衡量的预期结果（如交付物、KPIs）。  \n     2. **组建核心团队**：指定项目经理及关键成员，明确分工与责任矩阵（如 RACI）。  \n     3. **制定时间计划**：采用敏捷或瀑布模型规划时间线，设置里程碑和阶段性评审点。  \n     4. **设定止损机制**：明确预算上限、时间上限或关键失败指标（如“若3个月内未达成X则终止”）。  \n\n---\n\n#### 3. **项目优化建议**\n   - **立即行动项**：  \n     - 补充**项目章程**（包括目标、范围、主要干系人）。  \n     - 定义**SMART原则**的预期结果（具体、可衡量、可实现、相关、有时限）。  \n     - 制定**初步资源计划**（至少明确项目经理、技术负责人）。  \n   - **中长期建议**：  \n     - 采用**迭代开发模式**，先以小规模试点验证可行性。  \n     - 引入**项目管理工具**（如 Jira、Notion）跟踪进度和风险。  \n     - 定期召开**风险评估会议**，动态调整计划。  \n\n---\n\n#### 4. **总体评价**  \n   - **结论**：**不通过**。  \n   - **理由**：  \n     当前项目信息严重不足，缺乏启动的基本条件（目标、资源、时间、风险控制）。若强行推进，极可能导致资源浪费、目标失败或团队冲突。  \n   - **后续步骤**：  \n     建议暂停项目，优先完成**需求梳理与规划阶段**，待补充完整信息后重新评审。  \n\n---\n\n**注**：本分析基于有限信息，若补充细节（如技术场景、业务背景等），可进一步调整评估结果。"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":124,"completion_tokens":764,"total_tokens":888,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":124},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:42:55.630 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:42:55.630 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告

**项目名称**：测试缺失字段  
**分析日期**：2023年10月（假设当前时间）  
**分析依据**：提供的项目基本信息（关键字段严重缺失）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  
     **结论**：技术维度风险极高，需补充技术细节。  

   - **资源可行性**：  
     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  
     **结论**：资源维度不可行，需明确成员角色和资源分配。  

   - **时间可行性**：  
     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  
     **结论**：时间维度不可行，需制定详细时间计划。  

   **总体可行性**：**严重不足**。核心要素缺失导致项目无法启动。

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **目标模糊风险**：预期结果未定义，项目可能偏离方向或无法验收。  
     2. **资源黑洞风险**：未指定成员可能导致职责混乱、效率低下或任务搁置。  
     3. **进度失控风险**：无时间线和止损点，易陷入无限期投入或无法及时终止失败项目。  
     4. **沟通与协作风险**：关键信息缺失会引发团队内外部沟通障碍。  

   - **风险应对建议**：  
     1. **明确项目目标**：与利益相关者协商，定义可衡量的预期结果（如交付物、KPIs）。  
     2. **组建核心团队**：指定项目经理及关键成员，明确分工与责任矩阵（如 RACI）。  
     3. **制定时间计划**：采用敏捷或瀑布模型规划时间线，设置里程碑和阶段性评审点。  
     4. **设定止损机制**：明确预算上限、时间上限或关键失败指标（如“若3个月内未达成X则终止”）。  

---

#### 3. **项目优化建议**
   - **立即行动项**：  
     - 补充**项目章程**（包括目标、范围、主要干系人）。  
     - 定义**SMART原则**的预期结果（具体、可衡量、可实现、相关、有时限）。  
     - 制定**初步资源计划**（至少明确项目经理、技术负责人）。  
   - **中长期建议**：  
     - 采用**迭代开发模式**，先以小规模试点验证可行性。  
     - 引入**项目管理工具**（如 Jira、Notion）跟踪进度和风险。  
     - 定期召开**风险评估会议**，动态调整计划。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**。  
   - **理由**：  
     当前项目信息严重不足，缺乏启动的基本条件（目标、资源、时间、风险控制）。若强行推进，极可能导致资源浪费、目标失败或团队冲突。  
   - **后续步骤**：  
     建议暂停项目，优先完成**需求梳理与规划阶段**，待补充完整信息后重新评审。  

---

**注**：本分析基于有限信息，若补充细节（如技术场景、业务背景等），可进一步调整评估结果。
2025-09-23 14:42:55.630 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告

**项目名称**：测试缺失字段  
**分析日期**：2023年10月（假设当前时间）  
**分析依据**：提供的项目基本信息（关键字段严重缺失）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  
     **结论**：技术维度风险极高，需补充技术细节。  

   - **资源可行性**：  
     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  
     **结论**：资源维度不可行，需明确成员角色和资源分配。  

   - **时间可行性**：  
     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  
     **结论**：时间维度不可行，需制定详细时间计划。  

   **总体可行性**：**严重不足**。核心要素缺失导致项目无法启动。

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **目标模糊风险**：预期结果未定义，项目可能偏离方向或无法验收。  
     2. **资源黑洞风险**：未指定成员可能导致职责混乱、效率低下或任务搁置。  
     3. **进度失控风险**：无时间线和止损点，易陷入无限期投入或无法及时终止失败项目。  
     4. **沟通与协作风险**：关键信息缺失会引发团队内外部沟通障碍。  

   - **风险应对建议**：  
     1. **明确项目目标**：与利益相关者协商，定义可衡量的预期结果（如交付物、KPIs）。  
     2. **组建核心团队**：指定项目经理及关键成员，明确分工与责任矩阵（如 RACI）。  
     3. **制定时间计划**：采用敏捷或瀑布模型规划时间线，设置里程碑和阶段性评审点。  
     4. **设定止损机制**：明确预算上限、时间上限或关键失败指标（如“若3个月内未达成X则终止”）。  

---

#### 3. **项目优化建议**
   - **立即行动项**：  
     - 补充**项目章程**（包括目标、范围、主要干系人）。  
     - 定义**SMART原则**的预期结果（具体、可衡量、可实现、相关、有时限）。  
     - 制定**初步资源计划**（至少明确项目经理、技术负责人）。  
   - **中长期建议**：  
     - 采用**迭代开发模式**，先以小规模试点验证可行性。  
     - 引入**项目管理工具**（如 Jira、Notion）跟踪进度和风险。  
     - 定期召开**风险评估会议**，动态调整计划。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**。  
   - **理由**：  
     当前项目信息严重不足，缺乏启动的基本条件（目标、资源、时间、风险控制）。若强行推进，极可能导致资源浪费、目标失败或团队冲突。  
   - **后续步骤**：  
     建议暂停项目，优先完成**需求梳理与规划阶段**，待补充完整信息后重新评审。  

---

**注**：本分析基于有限信息，若补充细节（如技术场景、业务背景等），可进一步调整评估结果。
2025-09-23 14:42:55.631 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告

**项目名称**：测试缺失字段  
**分析日期**：2023年10月（假设当前时间）  
**分析依据**：提供的项目基本信息（关键字段严重缺失）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  
     **结论**：技术维度风险极高，需补充技术细节。  

   - **资源可行性**：  
     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  
     **结论**：资源维度不可行，需明确成员角色和资源分配。  

   - **时间可行性**：  
     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  
     **结论**：时间维度不可行，需制定详细时间计划。  

   **总体可行性**：**严重不足**。核心要素缺失导致项目无法启动。

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **目标模糊风险**：预期结果未定义，项目可能偏离方向或无法验收。  
     2. **资源黑洞风险**：未指定成员可能导致职责混乱、效率低下或任务搁置。  
     3. **进度失控风险**：无时间线和止损点，易陷入无限期投入或无法及时终止失败项目。  
     4. **沟通与协作风险**：关键信息缺失会引发团队内外部沟通障碍。  

   - **风险应对建议**：  
     1. **明确项目目标**：与利益相关者协商，定义可衡量的预期结果（如交付物、KPIs）。  
     2. **组建核心团队**：指定项目经理及关键成员，明确分工与责任矩阵（如 RACI）。  
     3. **制定时间计划**：采用敏捷或瀑布模型规划时间线，设置里程碑和阶段性评审点。  
     4. **设定止损机制**：明确预算上限、时间上限或关键失败指标（如“若3个月内未达成X则终止”）。  

---

#### 3. **项目优化建议**
   - **立即行动项**：  
     - 补充**项目章程**（包括目标、范围、主要干系人）。  
     - 定义**SMART原则**的预期结果（具体、可衡量、可实现、相关、有时限）。  
     - 制定**初步资源计划**（至少明确项目经理、技术负责人）。  
   - **中长期建议**：  
     - 采用**迭代开发模式**，先以小规模试点验证可行性。  
     - 引入**项目管理工具**（如 Jira、Notion）跟踪进度和风险。  
     - 定期召开**风险评估会议**，动态调整计划。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**。  
   - **理由**：  
     当前项目信息严重不足，缺乏启动的基本条件（目标、资源、时间、风险控制）。若强行推进，极可能导致资源浪费、目标失败或团队冲突。  
   - **后续步骤**：  
     建议暂停项目，优先完成**需求梳理与规划阶段**，待补充完整信息后重新评审。  

---

**注**：本分析基于有限信息，若补充细节（如技术场景、业务背景等），可进一步调整评估结果。",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:42:55.632 [ForkJoinPool.commonPool-worker-5] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告

**项目名称**：测试缺失字段  
**分析日期**：2023年10月（假设当前时间）  
**分析依据**：提供的项目基本信息（关键字段严重缺失）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  
     **结论**：技术维度风险极高，需补充技术细节。  

   - **资源可行性**：  
     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  
     **结论**：资源维度不可行，需明确成员角色和资源分配。  

   - **时间可行性**：  
     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  
     **结论**：时间维度不可行，需制定详细时间计划。  
"[truncated 1153 chars]; line: 3, column: 32]
2025-09-23 14:42:55.632 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告

**项目名称**：测试缺失字段  
**分析日期**：2023年10月（假设当前时间）  
**分析依据**：提供的项目基本信息（关键字段严重缺失）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  
     **结论**：技术维度风险极高，需补充技术细节。  

   - **资源可行性**：  
     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  
     **结论**：资源维度不可行，需明确成员角色和资源分配。  

   - **时间可行性**：  
     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  
     **结论**：时间维度不可行，需制定详细时间计划。  

   **总体可行性**：**严重不足**。核心要素缺失导致项目无法启动。

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **目标模糊风险**：预期结果未定义，项目可能偏离方向或无法验收。  
     2. **资源黑洞风险**：未指定成员可能导致职责混乱、效率低下或任务搁置。  
     3. **进度失控风险**：无时间线和止损点，易陷入无限期投入或无法及时终止失败项目。  
     4. **沟通与协作风险**：关键信息缺失会引发团队内外部沟通障碍。  

   - **风险应对建议**：  
     1. **明确项目目标**：与利益相关者协商，定义可衡量的预期结果（如交付物、KPIs）。  
     2. **组建核心团队**：指定项目经理及关键成员，明确分工与责任矩阵（如 RACI）。  
     3. **制定时间计划**：采用敏捷或瀑布模型规划时间线，设置里程碑和阶段性评审点。  
     4. **设定止损机制**：明确预算上限、时间上限或关键失败指标（如“若3个月内未达成X则终止”）。  

---

#### 3. **项目优化建议**
   - **立即行动项**：  
     - 补充**项目章程**（包括目标、范围、主要干系人）。  
     - 定义**SMART原则**的预期结果（具体、可衡量、可实现、相关、有时限）。  
     - 制定**初步资源计划**（至少明确项目经理、技术负责人）。  
   - **中长期建议**：  
     - 采用**迭代开发模式**，先以小规模试点验证可行性。  
     - 引入**项目管理工具**（如 Jira、Notion）跟踪进度和风险。  
     - 定期召开**风险评估会议**，动态调整计划。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**。  
   - **理由**：  
     当前项目信息严重不足，缺乏启动的基本条件（目标、资源、时间、风险控制）。若强行推进，极可能导致资源浪费、目标失败或团队冲突。  
   - **后续步骤**：  
     建议暂停项目，优先完成**需求梳理与规划阶段**，待补充完整信息后重新评审。  

---

**注**：本分析基于有限信息，若补充细节（如技术场景、业务背景等），可进一步调整评估结果。
2025-09-23 14:42:55.633 [ForkJoinPool.commonPool-worker-5] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:42:55.633 [ForkJoinPool.commonPool-worker-5] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 42059ms
2025-09-23 14:42:55.633 [ForkJoinPool.commonPool-worker-5] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: 11fd2a28-dad9-4e28-b57f-88bd4b4f479d, Time: 46357ms
2025-09-23 14:42:55.633 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 46357ms
2025-09-23 14:42:55.633 [ForkJoinPool.commonPool-worker-5] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: 11fd2a28-dad9-4e28-b57f-88bd4b4f479d
2025-09-23 14:42:55.634 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: 11fd2a28-dad9-4e28-b57f-88bd4b4f479d, Provider: DeepSeek AI Service
2025-09-23 14:42:55.634 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 10
2025-09-23 14:42:55.634 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 10
分析ID: 11fd2a28-dad9-4e28-b57f-88bd4b4f479d
提供商: DeepSeek AI Service
结果长度: 1504 字符
2025-09-23 14:42:55.634 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告

**项目名称**：测试缺失字段  
**分析日期**：2023年10月（假设当前时间）  
**分析依据**：提供的项目基本信息（关键字段严重缺失）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  
     **结论**：技术维度风险极高，需补充技术细节。  

   - **资源可行性**：  
     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  
     **结论**：资源维度不可行，需明确成员角色和资源分配。  

   - **时间可行性**：  
     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  
     **结论**：时间维度不可行，需制定详细时间计划。  

   **总体可行性**：**严重不足**。核心要素缺失导致项目无法启动。

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **目标模糊风险**：预期结果未定义，项目可能偏离方向或无法验收。  
     2. **资源黑洞风险**：未指定成员可能导致职责混乱、效率低下或任务搁置。  
     3. **进度失控风险**：无时间线和止损点，易陷入无限期投入或无法及时终止失败项目。  
     4. **沟通与协作风险**：关键信息缺失会引发团队内外部沟通障碍。  

   - **风险应对建议**：  
     1. **明确项目目标**：与利益相关者协商，定义可衡量的预期结果（如交付物、KPIs）。  
     2. **组建核心团队**：指定项目经理及关键成员，明确分工与责任矩阵（如 RACI）。  
     3. **制定时间计划**：采用敏捷或瀑布模型规划时间线，设置里程碑和阶段性评审点。  
     4. **设定止损机制**：明确预算上限、时间上限或关键失败指标（如“若3个月内未达成X则终止”）。  

---

#### 3. **项目优化建议**
   - **立即行动项**：  
     - 补充**项目章程**（包括目标、范围、主要干系人）。  
     - 定义**SMART原则**的预期结果（具体、可衡量、可实现、相关、有时限）。  
     - 制定**初步资源计划**（至少明确项目经理、技术负责人）。  
   - **中长期建议**：  
     - 采用**迭代开发模式**，先以小规模试点验证可行性。  
     - 引入**项目管理工具**（如 Jira、Notion）跟踪进度和风险。  
     - 定期召开**风险评估会议**，动态调整计划。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**。  
   - **理由**：  
     当前项目信息严重不足，缺乏启动的基本条件（目标、资源、时间、风险控制）。若强行推进，极可能导致资源浪费、目标失败或团队冲突。  
   - **后续步骤**：  
     建议暂停项目，优先完成**需求梳理与规划阶段**，待补充完整信息后重新评审。  

---

**注**：本分析基于有限信息，若补充细节（如技术场景、业务背景等），可进一步调整评估结果。
2025-09-23 14:42:55.634 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 10
2025-09-23 14:42:55.634 [ai-task-1] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 10，结果: 11fd2a28-dad9-4e28-b57f-88bd4b4f479d
2025-09-23 14:42:55.635 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:42:55.635 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(133398845<open>)] for JPA transaction
2025-09-23 14:42:55.636 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@67d63f9a]
2025-09-23 14:42:55.636 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 10
2025-09-23 14:42:55.636 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告

**项目名称**：测试缺失字段  
**分析日期**：2023年10月（假设当前时间）  
**分析依据**：提供的项目基本信息（关键字段严重缺失）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  
     **结论**：技术维度风险极高，需补充技术细节。  

   - **资源可行性**：  
     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  
     **结论**：资源维度不可行，需明确成员角色和资源分配。  

   - **时间可行性**：  
     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  
     **结论**：时间维度不可行，需制定详细时间计划。  

   **总体可行性**：**严重不足**。核心要素缺失导致项目无法启动。

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **目标模糊风险**：预期结果未定义，项目可能偏离方向或无法验收。  
     2. **资源黑洞风险**：未指定成员可能导致职责混乱、效率低下或任务搁置。  
     3. **进度失控风险**：无时间线和止损点，易陷入无限期投入或无法及时终止失败项目。  
     4. **沟通与协作风险**：关键信息缺失会引发团队内外部沟通障碍。  

   - **风险应对建议**：  
     1. **明确项目目标**：与利益相关者协商，定义可衡量的预期结果（如交付物、KPIs）。  
     2. **组建核心团队**：指定项目经理及关键成员，明确分工与责任矩阵（如 RACI）。  
     3. **制定时间计划**：采用敏捷或瀑布模型规划时间线，设置里程碑和阶段性评审点。  
     4. **设定止损机制**：明确预算上限、时间上限或关键失败指标（如“若3个月内未达成X则终止”）。  

---

#### 3. **项目优化建议**
   - **立即行动项**：  
     - 补充**项目章程**（包括目标、范围、主要干系人）。  
     - 定义**SMART原则**的预期结果（具体、可衡量、可实现、相关、有时限）。  
     - 制定**初步资源计划**（至少明确项目经理、技术负责人）。  
   - **中长期建议**：  
     - 采用**迭代开发模式**，先以小规模试点验证可行性。  
     - 引入**项目管理工具**（如 Jira、Notion）跟踪进度和风险。  
     - 定期召开**风险评估会议**，动态调整计划。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**。  
   - **理由**：  
     当前项目信息严重不足，缺乏启动的基本条件（目标、资源、时间、风险控制）。若强行推进，极可能导致资源浪费、目标失败或团队冲突。  
   - **后续步骤**：  
     建议暂停项目，优先完成**需求梳理与规划阶段**，待补充完整信息后重新评审。  

---

**注**：本分析基于有限信息，若补充细节（如技术场景、业务背景等），可进一步调整评估结果。
2025-09-23 14:42:55.636 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: false
明确拒绝: true
积极指标: true
消极指标: true
置信度: 0.3
通过判断: 拒绝
2025-09-23 14:42:55.636 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 10, 置信度: 0.3
2025-09-23 14:42:55.637 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(133398845<open>)] for JPA transaction
2025-09-23 14:42:55.637 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:42:55.642 [ai-task-1] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:42:55.636902]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.3]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:42:55.641618]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:42:55.649 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [10]
2025-09-23 14:42:55.650 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告

**项目名称**：测试缺失字段  
**分析日期**：2023年10月（假设当前时间）  
**分析依据**：提供的项目基本信息（关键字段严重缺失）  

---

#### 1. **项目可行性评估**
   - **技术可行性**：  
     项目内容仅描述为“测试项目”，无具体技术需求、目标或范围说明。**无法评估技术可行性**，因缺乏技术架构、工具依赖、复杂度等关键信息。  
     **结论**：技术维度风险极高，需补充技术细节。  

   - **资源可行性**：  
     项目成员未指定，无法判断团队能力、人力配备或成本预算。资源需求（如设备、资金、外部支持）完全未知。  
     **结论**：资源维度不可行，需明确成员角色和资源分配。  

   - **时间可行性**：  
     时间线未指定，无起止日期、里程碑或交付节点。无法评估进度合理性与 Deadline 匹配度。  
     **结论**：时间维度不可行，需制定详细时间计划。  

   **总体可行性**：**严重不足**。核心要素缺失导致项目无法启动。

---

#### 2. **风险评估与建议**
   - **主要风险**：  
     1. **目标模糊风险**：预期结果未定义，项目可能偏离方向或无法验收。  
     2. **资源黑洞风险**：未指定成员可能导致职责混乱、效率低下或任务搁置。  
     3. **进度失控风险**：无时间线和止损点，易陷入无限期投入或无法及时终止失败项目。  
     4. **沟通与协作风险**：关键信息缺失会引发团队内外部沟通障碍。  

   - **风险应对建议**：  
     1. **明确项目目标**：与利益相关者协商，定义可衡量的预期结果（如交付物、KPIs）。  
     2. **组建核心团队**：指定项目经理及关键成员，明确分工与责任矩阵（如 RACI）。  
     3. **制定时间计划**：采用敏捷或瀑布模型规划时间线，设置里程碑和阶段性评审点。  
     4. **设定止损机制**：明确预算上限、时间上限或关键失败指标（如“若3个月内未达成X则终止”）。  

---

#### 3. **项目优化建议**
   - **立即行动项**：  
     - 补充**项目章程**（包括目标、范围、主要干系人）。  
     - 定义**SMART原则**的预期结果（具体、可衡量、可实现、相关、有时限）。  
     - 制定**初步资源计划**（至少明确项目经理、技术负责人）。  
   - **中长期建议**：  
     - 采用**迭代开发模式**，先以小规模试点验证可行性。  
     - 引入**项目管理工具**（如 Jira、Notion）跟踪进度和风险。  
     - 定期召开**风险评估会议**，动态调整计划。  

---

#### 4. **总体评价**  
   - **结论**：**不通过**。  
   - **理由**：  
     当前项目信息严重不足，缺乏启动的基本条件（目标、资源、时间、风险控制）。若强行推进，极可能导致资源浪费、目标失败或团队冲突。  
   - **后续步骤**：  
     建议暂停项目，优先完成**需求梳理与规划阶段**，待补充完整信息后重新评审。  

---

**注**：本分析基于有限信息，若补充细节（如技术场景、业务背景等），可进一步调整评估结果。]
2025-09-23 14:42:55.650 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:42:55.650 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:42:55.641726]
2025-09-23 14:42:55.660 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [15]
2025-09-23 14:42:55.661 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 15, 项目ID: 10, 置信度: 0.3
2025-09-23 14:42:55.661 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 10
置信度: 0.3
是否通过: false
新状态: AI_REJECTED
2025-09-23 14:42:55.661 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 10, 状态: AI_REJECTED
2025-09-23 14:42:55.661 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(133398845<open>)] for JPA transaction
2025-09-23 14:42:55.661 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:42:55.662 [ai-task-1] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:42:55.662 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:42:05]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [9]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试项目]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [null]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试缺失字段]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [null]
2025-09-23 14:42:55.666 [ai-task-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:42:05]
2025-09-23 14:42:55.666 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - AI回调更新状态：项目ID: 10, 从 AI_ANALYZING 更新为 AI_REJECTED
2025-09-23 14:42:55.666 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 关联AI分析结果ID: 15 到项目: 10
2025-09-23 14:42:55.667 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(133398845<open>)] for JPA transaction
2025-09-23 14:42:55.667 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:42:55.667 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - 项目状态已更新，ID: 10, 状态: AI_REJECTED
2025-09-23 14:42:55.667 [ai-task-1] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 10
最终状态: AI_REJECTED
AI结果ID: 15
2025-09-23 14:42:55.667 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:42:55.667 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(133398845<open>)]
2025-09-23 14:42:55.668 [ai-task-1] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [15]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_REJECTED]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [9]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [测试项目]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [测试缺失字段]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [null]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:42:55.667713]
2025-09-23 14:42:55.668 [ai-task-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [10]
2025-09-23 14:42:55.673 [ai-task-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(133398845<open>)] after transaction
2025-09-23 14:42:58.805 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:42:58.805 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:42:58.805 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-23 14:43:21.129 [ForkJoinPool.commonPool-worker-6] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-23 14:43:21.131 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-23 14:43:21.131 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"e77b3df2-767b-4bf7-a429-428900747967","object":"chat.completion","created":1758609771,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"### 项目可行性分析报告\n\n#### 1. 项目可行性评估\n- **技术可行性**：  \n  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  \n  **结论**：信息不足，无法评估。\n\n- **资源可行性**：  \n  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  \n  **结论**：信息不足，无法评估。\n\n- **时间可行性**：  \n  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  \n  **结论**：信息不足，无法评估。\n\n---\n\n#### 2. 风险评估和建议\n- **主要风险**：  \n  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  \n  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  \n  - **进度失控风险**：无时间线约束，易导致延期或优先级冲突。  \n\n- **建议**：  \n  - 明确项目核心目标（如测试的具体功能、验收标准）。  \n  - 组建最小可行团队（如项目经理、测试工程师），设定止损点（如预算上限或时间阈值）。  \n  - 制定敏捷迭代计划，优先完成关键任务验证可行性。  \n\n---\n\n#### 3. 项目优化建议\n- **短期行动**：  \n  - 召开项目启动会，定义可衡量的预期结果（如“完成XX系统兼容性测试，覆盖率≥90%”）。  \n  - 制定WBS（工作分解结构）和RACI矩阵，明确分工。  \n- **长期优化**：  \n  - 引入项目管理工具（如Jira）跟踪进度，建立定期评审机制。  \n  - 设置阶段性验收节点，及时调整策略。  \n\n---\n\n#### 4. 总体评价：**不通过**  \n**理由**：  \n当前项目信息严重缺失，关键要素（目标、资源、时间）均未定义，不符合项目管理基本规范。建议重新规划并提交详细方案后再评估。  \n\n---\n\n**附件**：需补充的材料清单  \n- 项目范围说明书  \n- 团队成员角色及技能匹配表  \n- 时间线甘特图  \n- 风险评估矩阵（含应对措施）"},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":124,"completion_tokens":525,"total_tokens":649,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":124},"system_fingerprint":"fp_f253fc19d1_prod0820_fp8_kvcache"}
2025-09-23 14:43:21.134 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Converting DeepSeek response to standard response
2025-09-23 14:43:21.134 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek AI generated content: ### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  
  **结论**：信息不足，无法评估。

- **资源可行性**：  
  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  
  **结论**：信息不足，无法评估。

- **时间可行性**：  
  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  
  **结论**：信息不足，无法评估。

---

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  
  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  
  - **进度失控风险**：无时间线约束，易导致延期或优先级冲突。  

- **建议**：  
  - 明确项目核心目标（如测试的具体功能、验收标准）。  
  - 组建最小可行团队（如项目经理、测试工程师），设定止损点（如预算上限或时间阈值）。  
  - 制定敏捷迭代计划，优先完成关键任务验证可行性。  

---

#### 3. 项目优化建议
- **短期行动**：  
  - 召开项目启动会，定义可衡量的预期结果（如“完成XX系统兼容性测试，覆盖率≥90%”）。  
  - 制定WBS（工作分解结构）和RACI矩阵，明确分工。  
- **长期优化**：  
  - 引入项目管理工具（如Jira）跟踪进度，建立定期评审机制。  
  - 设置阶段性验收节点，及时调整策略。  

---

#### 4. 总体评价：**不通过**  
**理由**：  
当前项目信息严重缺失，关键要素（目标、资源、时间）均未定义，不符合项目管理基本规范。建议重新规划并提交详细方案后再评估。  

---

**附件**：需补充的材料清单  
- 项目范围说明书  
- 团队成员角色及技能匹配表  
- 时间线甘特图  
- 风险评估矩阵（含应对措施）
2025-09-23 14:43:21.134 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Parsing structured response content: ### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  
  **结论**：信息不足，无法评估。

- **资源可行性**：  
  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  
  **结论**：信息不足，无法评估。

- **时间可行性**：  
  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  
  **结论**：信息不足，无法评估。

---

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  
  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  
  - **进度失控风险**：无时间线约束，易导致延期或优先级冲突。  

- **建议**：  
  - 明确项目核心目标（如测试的具体功能、验收标准）。  
  - 组建最小可行团队（如项目经理、测试工程师），设定止损点（如预算上限或时间阈值）。  
  - 制定敏捷迭代计划，优先完成关键任务验证可行性。  

---

#### 3. 项目优化建议
- **短期行动**：  
  - 召开项目启动会，定义可衡量的预期结果（如“完成XX系统兼容性测试，覆盖率≥90%”）。  
  - 制定WBS（工作分解结构）和RACI矩阵，明确分工。  
- **长期优化**：  
  - 引入项目管理工具（如Jira）跟踪进度，建立定期评审机制。  
  - 设置阶段性验收节点，及时调整策略。  

---

#### 4. 总体评价：**不通过**  
**理由**：  
当前项目信息严重缺失，关键要素（目标、资源、时间）均未定义，不符合项目管理基本规范。建议重新规划并提交详细方案后再评估。  

---

**附件**：需补充的材料清单  
- 项目范围说明书  
- 团队成员角色及技能匹配表  
- 时间线甘特图  
- 风险评估矩阵（含应对措施）
2025-09-23 14:43:21.134 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Extracted JSON content: {
    "isPass": true,
    "proposal": "### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  
  **结论**：信息不足，无法评估。

- **资源可行性**：  
  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  
  **结论**：信息不足，无法评估。

- **时间可行性**：  
  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  
  **结论**：信息不足，无法评估。

---

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  
  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  
  - **进度失控风险**：无时间线约束，易导致延期或优先级冲突。  

- **建议**：  
  - 明确项目核心目标（如测试的具体功能、验收标准）。  
  - 组建最小可行团队（如项目经理、测试工程师），设定止损点（如预算上限或时间阈值）。  
  - 制定敏捷迭代计划，优先完成关键任务验证可行性。  

---

#### 3. 项目优化建议
- **短期行动**：  
  - 召开项目启动会，定义可衡量的预期结果（如“完成XX系统兼容性测试，覆盖率≥90%”）。  
  - 制定WBS（工作分解结构）和RACI矩阵，明确分工。  
- **长期优化**：  
  - 引入项目管理工具（如Jira）跟踪进度，建立定期评审机制。  
  - 设置阶段性验收节点，及时调整策略。  

---

#### 4. 总体评价：**不通过**  
**理由**：  
当前项目信息严重缺失，关键要素（目标、资源、时间）均未定义，不符合项目管理基本规范。建议重新规划并提交详细方案后再评估。  

---

**附件**：需补充的材料清单  
- 项目范围说明书  
- 团队成员角色及技能匹配表  
- 时间线甘特图  
- 风险评估矩阵（含应对措施）",
    "qualityScore": 0.8,
    "riskLevel": "LOW",
    "keyIssues": [],
    "recommendations": ["建议进一步完善"]
}

2025-09-23 14:43:21.134 [ForkJoinPool.commonPool-worker-6] WARN  c.w.service.ai.deepseek.DeepSeekAIService - Failed to parse structured response, using fallback: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value
 at [Source: (String)"{
    "isPass": true,
    "proposal": "### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  
  **结论**：信息不足，无法评估。

- **资源可行性**：  
  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  
  **结论**：信息不足，无法评估。

- **时间可行性**：  
  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  
  **结论**：信息不足，无法评估。

---

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  
  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  
  - **进度失控风险**：无"[truncated 625 chars]; line: 3, column: 32]
2025-09-23 14:43:21.134 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Failed content was: ### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  
  **结论**：信息不足，无法评估。

- **资源可行性**：  
  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  
  **结论**：信息不足，无法评估。

- **时间可行性**：  
  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  
  **结论**：信息不足，无法评估。

---

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  
  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  
  - **进度失控风险**：无时间线约束，易导致延期或优先级冲突。  

- **建议**：  
  - 明确项目核心目标（如测试的具体功能、验收标准）。  
  - 组建最小可行团队（如项目经理、测试工程师），设定止损点（如预算上限或时间阈值）。  
  - 制定敏捷迭代计划，优先完成关键任务验证可行性。  

---

#### 3. 项目优化建议
- **短期行动**：  
  - 召开项目启动会，定义可衡量的预期结果（如“完成XX系统兼容性测试，覆盖率≥90%”）。  
  - 制定WBS（工作分解结构）和RACI矩阵，明确分工。  
- **长期优化**：  
  - 引入项目管理工具（如Jira）跟踪进度，建立定期评审机制。  
  - 设置阶段性验收节点，及时调整策略。  

---

#### 4. 总体评价：**不通过**  
**理由**：  
当前项目信息严重缺失，关键要素（目标、资源、时间）均未定义，不符合项目管理基本规范。建议重新规划并提交详细方案后再评估。  

---

**附件**：需补充的材料清单  
- 项目范围说明书  
- 团队成员角色及技能匹配表  
- 时间线甘特图  
- 风险评估矩阵（含应对措施）
2025-09-23 14:43:21.135 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - Successfully converted DeepSeek response - Pass: true, Confidence: 0.5
2025-09-23 14:43:21.135 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek analysis completed successfully in 29663ms
2025-09-23 14:43:21.135 [ForkJoinPool.commonPool-worker-6] INFO  c.w.service.ai.deepseek.DeepSeekAIService - AI analysis completed - ID: c09b1689-017f-49c2-8350-1d6110755133, Time: 33326ms
2025-09-23 14:43:21.135 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.monitoring.AIMetricsService - Recorded successful AI analysis - Provider: DEEPSEEK, Type: PROJECT_EVALUATION, Time: 33326ms
2025-09-23 14:43:21.135 [ForkJoinPool.commonPool-worker-6] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Completed async AI analysis with ID: c09b1689-017f-49c2-8350-1d6110755133
2025-09-23 14:43:21.135 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - Async AI analysis completed - ID: c09b1689-017f-49c2-8350-1d6110755133, Provider: DeepSeek AI Service
2025-09-23 14:43:21.135 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析回调被触发 ===
项目ID: 12
2025-09-23 14:43:21.135 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析成功 ===
项目ID: 12
分析ID: c09b1689-017f-49c2-8350-1d6110755133
提供商: DeepSeek AI Service
结果长度: 976 字符
2025-09-23 14:43:21.136 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - === AI分析结果内容 ===
### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  
  **结论**：信息不足，无法评估。

- **资源可行性**：  
  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  
  **结论**：信息不足，无法评估。

- **时间可行性**：  
  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  
  **结论**：信息不足，无法评估。

---

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  
  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  
  - **进度失控风险**：无时间线约束，易导致延期或优先级冲突。  

- **建议**：  
  - 明确项目核心目标（如测试的具体功能、验收标准）。  
  - 组建最小可行团队（如项目经理、测试工程师），设定止损点（如预算上限或时间阈值）。  
  - 制定敏捷迭代计划，优先完成关键任务验证可行性。  

---

#### 3. 项目优化建议
- **短期行动**：  
  - 召开项目启动会，定义可衡量的预期结果（如“完成XX系统兼容性测试，覆盖率≥90%”）。  
  - 制定WBS（工作分解结构）和RACI矩阵，明确分工。  
- **长期优化**：  
  - 引入项目管理工具（如Jira）跟踪进度，建立定期评审机制。  
  - 设置阶段性验收节点，及时调整策略。  

---

#### 4. 总体评价：**不通过**  
**理由**：  
当前项目信息严重缺失，关键要素（目标、资源、时间）均未定义，不符合项目管理基本规范。建议重新规划并提交详细方案后再评估。  

---

**附件**：需补充的材料清单  
- 项目范围说明书  
- 团队成员角色及技能匹配表  
- 时间线甘特图  
- 风险评估矩阵（含应对措施）
2025-09-23 14:43:21.136 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - 开始处理AI分析结果，项目ID: 12
2025-09-23 14:43:21.136 [ai-task-2] INFO  com.weeklyreport.service.ai.AIAnalysisService - AI分析完成，项目ID: 12，结果: c09b1689-017f-49c2-8350-1d6110755133
2025-09-23 14:43:21.136 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.ai.AICallbackTransactionService.processAIAnalysisSuccess]: PROPAGATION_REQUIRES_NEW,ISOLATION_DEFAULT
2025-09-23 14:43:21.137 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(4349487<open>)] for JPA transaction
2025-09-23 14:43:21.138 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@781e1757]
2025-09-23 14:43:21.138 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始在新事务中处理AI分析成功结果，项目ID: 12
2025-09-23 14:43:21.138 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 置信度计算 ===
原始结果: ### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  
  **结论**：信息不足，无法评估。

- **资源可行性**：  
  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  
  **结论**：信息不足，无法评估。

- **时间可行性**：  
  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  
  **结论**：信息不足，无法评估。

---

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  
  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  
  - **进度失控风险**：无时间线约束，易导致延期或优先级冲突。  

- **建议**：  
  - 明确项目核心目标（如测试的具体功能、验收标准）。  
  - 组建最小可行团队（如项目经理、测试工程师），设定止损点（如预算上限或时间阈值）。  
  - 制定敏捷迭代计划，优先完成关键任务验证可行性。  

---

#### 3. 项目优化建议
- **短期行动**：  
  - 召开项目启动会，定义可衡量的预期结果（如“完成XX系统兼容性测试，覆盖率≥90%”）。  
  - 制定WBS（工作分解结构）和RACI矩阵，明确分工。  
- **长期优化**：  
  - 引入项目管理工具（如Jira）跟踪进度，建立定期评审机制。  
  - 设置阶段性验收节点，及时调整策略。  

---

#### 4. 总体评价：**不通过**  
**理由**：  
当前项目信息严重缺失，关键要素（目标、资源、时间）均未定义，不符合项目管理基本规范。建议重新规划并提交详细方案后再评估。  

---

**附件**：需补充的材料清单  
- 项目范围说明书  
- 团队成员角色及技能匹配表  
- 时间线甘特图  
- 风险评估矩阵（含应对措施）
2025-09-23 14:43:21.138 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === 关键词分析置信度 ===
明确通过: false
明确拒绝: true
积极指标: true
消极指标: true
置信度: 0.3
通过判断: 拒绝
2025-09-23 14:43:21.138 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始保存AI分析结果，项目ID: 12, 置信度: 0.3
2025-09-23 14:43:21.139 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(4349487<open>)] for JPA transaction
2025-09-23 14:43:21.139 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:43:21.147 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.weeklyreport.entity.AIAnalysisResult */insert 
    into
        ai_analysis_results (analysis_type, completed_at, confidence, created_at, entity_type, error_message, metadata, model_version, parameters, processing_time_ms, report_id, result, status, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-09-23 14:43:21.151 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [RISK_ASSESSMENT]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:TIMESTAMP) <- [2025-09-23T14:43:21.138885]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:DOUBLE) <- [0.3]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:TIMESTAMP) <- [2025-09-23T14:43:21.145562]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:ENUM) <- [PROJECT]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [DeepSeek AI Service]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:BIGINT) <- [null]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [12]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [### 项目可行性分析报告

#### 1. 项目可行性评估
- **技术可行性**：  
  项目内容仅描述为“测试项目”，未明确技术需求、工具或方法。由于缺乏具体技术细节，无法评估技术实现的可行性。建议补充技术方案或原型设计。  
  **结论**：信息不足，无法评估。

- **资源可行性**：  
  项目成员、预算、设备等资源均未指定，无法判断资源是否充足或匹配项目需求。需明确核心团队成员角色及资源分配计划。  
  **结论**：信息不足，无法评估。

- **时间可行性**：  
  时间线和里程碑未定义，无法评估进度安排的合理性。需制定分阶段时间表并与任务复杂度匹配。  
  **结论**：信息不足，无法评估。

---

#### 2. 风险评估和建议
- **主要风险**：  
  - **需求模糊风险**：项目目标、预期结果未明确，可能导致范围蔓延或成果不达预期。  
  - **资源缺失风险**：未指定成员和止损点，存在责任不清、成本失控的可能性。  
  - **进度失控风险**：无时间线约束，易导致延期或优先级冲突。  

- **建议**：  
  - 明确项目核心目标（如测试的具体功能、验收标准）。  
  - 组建最小可行团队（如项目经理、测试工程师），设定止损点（如预算上限或时间阈值）。  
  - 制定敏捷迭代计划，优先完成关键任务验证可行性。  

---

#### 3. 项目优化建议
- **短期行动**：  
  - 召开项目启动会，定义可衡量的预期结果（如“完成XX系统兼容性测试，覆盖率≥90%”）。  
  - 制定WBS（工作分解结构）和RACI矩阵，明确分工。  
- **长期优化**：  
  - 引入项目管理工具（如Jira）跟踪进度，建立定期评审机制。  
  - 设置阶段性验收节点，及时调整策略。  

---

#### 4. 总体评价：**不通过**  
**理由**：  
当前项目信息严重缺失，关键要素（目标、资源、时间）均未定义，不符合项目管理基本规范。建议重新规划并提交详细方案后再评估。  

---

**附件**：需补充的材料清单  
- 项目范围说明书  
- 团队成员角色及技能匹配表  
- 时间线甘特图  
- 风险评估矩阵（含应对措施）]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:ENUM) <- [COMPLETED]
2025-09-23 14:43:21.152 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:TIMESTAMP) <- [2025-09-23T14:43:21.146466]
2025-09-23 14:43:21.157 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [16]
2025-09-23 14:43:21.157 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI分析结果已保存，ID: 16, 项目ID: 12, 置信度: 0.3
2025-09-23 14:43:21.158 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI结果判断 ===
项目ID: 12
置信度: 0.3
是否通过: false
新状态: AI_REJECTED
2025-09-23 14:43:21.158 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 开始更新项目AI分析状态，项目ID: 12, 状态: AI_REJECTED
2025-09-23 14:43:21.158 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(4349487<open>)] for JPA transaction
2025-09-23 14:43:21.158 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:43:21.158 [ai-task-2] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.id=?
2025-09-23 14:43:21.158 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [12]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [null]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_ANALYZING]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-23T14:42:14]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [9]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [测试项目]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [null]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试null值]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [null]
2025-09-23 14:43:21.161 [ai-task-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-23T14:42:14]
2025-09-23 14:43:21.162 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - AI回调更新状态：项目ID: 12, 从 AI_ANALYZING 更新为 AI_REJECTED
2025-09-23 14:43:21.162 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 关联AI分析结果ID: 16 到项目: 12
2025-09-23 14:43:21.162 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(4349487<open>)] for JPA transaction
2025-09-23 14:43:21.162 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-09-23 14:43:21.162 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - 项目状态已更新，ID: 12, 状态: AI_REJECTED
2025-09-23 14:43:21.162 [ai-task-2] INFO  c.w.service.ai.AICallbackTransactionService - === AI分析成功处理完成 ===
项目ID: 12
最终状态: AI_REJECTED
AI结果ID: 16
2025-09-23 14:43:21.162 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-23 14:43:21.162 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(4349487<open>)]
2025-09-23 14:43:21.163 [ai-task-2] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.Project */update projects 
    set
        admin_reviewer_id=?,
        ai_analysis_id=?,
        approval_status=?,
        created_by=?,
        description=?,
        expected_results=?,
        members=?,
        name=?,
        rejection_reason=?,
        stop_loss=?,
        super_admin_reviewer_id=?,
        timeline=?,
        updated_at=? 
    where
        id=?
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [null]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:BIGINT) <- [16]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [AI_REJECTED]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:BIGINT) <- [9]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:VARCHAR) <- [测试项目]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [null]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:VARCHAR) <- [null]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (8:VARCHAR) <- [测试null值]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (9:VARCHAR) <- [null]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (10:VARCHAR) <- [null]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (11:BIGINT) <- [null]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (12:VARCHAR) <- [null]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (13:TIMESTAMP) <- [2025-09-23T14:43:21.163011]
2025-09-23 14:43:21.163 [ai-task-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (14:BIGINT) <- [12]
2025-09-23 14:43:21.168 [ai-task-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(4349487<open>)] after transaction
2025-09-23 14:43:21.173 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-23 14:43:21.184 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - WeeklyReportHikariCP-Dev - Shutdown initiated...
2025-09-23 14:43:21.184 [SpringApplicationShutdownHook] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before shutdown stats (total=3, active=0, idle=3, waiting=0)
2025-09-23 14:43:21.185 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@499afc65: (connection evicted)
2025-09-23 14:43:21.186 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@70134b8c: (connection evicted)
2025-09-23 14:43:21.187 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@381161b8: (connection evicted)
2025-09-23 14:43:21.188 [SpringApplicationShutdownHook] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After shutdown stats (total=0, active=0, idle=0, waiting=0)
2025-09-23 14:43:21.188 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - WeeklyReportHikariCP-Dev - Shutdown completed.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  29:35 min
[INFO] Finished at: 2025-09-23T14:43:21+08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.2.0:run (default-cli) on project weekly-report-backend: Process terminated with exit code: 143 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
