
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
[32m :: Spring Boot :: [39m              [2m (v3.2.0)[0;39m

2025-09-22 16:32:51.007 [main] INFO  com.weeklyreport.WeeklyReportApplication - Starting WeeklyReportApplication v0.0.1-SNAPSHOT using Java 23.0.2 with PID 32773 (/Volumes/project/my-project/backend/target/weekly-report-backend-0.0.1-SNAPSHOT.jar started by zhangxiaoyu in /Volumes/project/my-project/backend)
2025-09-22 16:32:51.007 [main] DEBUG com.weeklyreport.WeeklyReportApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-22 16:32:51.008 [main] INFO  com.weeklyreport.WeeklyReportApplication - The following 1 profile is active: "dev"
2025-09-22 16:32:51.832 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-22 16:32:51.886 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 14 JPA repository interfaces.
2025-09-22 16:32:52.468 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-09-22 16:32:52.473 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-09-22 16:32:52.474 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-22 16:32:52.497 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-22 16:32:52.497 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1440 ms
2025-09-22 16:32:52.665 [main] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-22 16:32:52.666 [main] DEBUG o.s.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-22 16:32:52.684 [main] DEBUG com.zaxxer.hikari.HikariConfig - Driver class com.mysql.cj.jdbc.Driver found in Thread context class loader org.springframework.boot.loader.launch.LaunchedClassLoader@568db2f2
2025-09-22 16:32:52.773 [main] DEBUG o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-09-22 16:32:52.782 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-22 16:32:52.816 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2025-09-22 16:32:52.836 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-22 16:32:52.952 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-22 16:32:52.966 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-22 16:32:52.967 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-09-22 16:32:53.621 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-22 16:32:53.623 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-22 16:32:53.707 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:53.728 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:53.765 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:53.844 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-22 16:32:53.982 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.273 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.275 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.277 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.299 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.306 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.325 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.326 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.327 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.329 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.337 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.372 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.376 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.385 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.386 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.387 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.387 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.388 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.388 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.389 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.389 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.389 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.390 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.391 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:32:54.552 [main] INFO  com.weeklyreport.service.ai.AIMonitoringService - AI Monitoring Service initialized
2025-09-22 16:32:54.557 [main] INFO  com.weeklyreport.service.ai.AIServiceFactory - Initializing AI service providers...
2025-09-22 16:32:54.643 [main] INFO  com.weeklyreport.service.ai.AIServiceFactory - Registered AI provider: Mock AI Service for Testing - Status: CONFIGURED
2025-09-22 16:32:54.643 [main] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Calling DeepSeek API with URL: https://api.deepseek.com/chat/completions
2025-09-22 16:32:54.674 [main] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - Request payload: {"model":"deepseek-chat","messages":[{"role":"user","content":"hello"}],"temperature":0.1,"stream":false,"max_tokens":10}
2025-09-22 16:32:54.683 [main] DEBUG org.springframework.web.client.RestTemplate - HTTP POST https://api.deepseek.com/chat/completions
2025-09-22 16:32:54.686 [main] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-09-22 16:32:54.687 [main] DEBUG org.springframework.web.client.RestTemplate - Writing [com.weeklyreport.service.ai.deepseek.dto.DeepSeekRequest@1a0108a5] as "application/json"
2025-09-22 16:32:56.907 [main] DEBUG org.springframework.web.client.RestTemplate - Response 200 OK
2025-09-22 16:33:00.127 [main] DEBUG org.springframework.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-09-22 16:33:00.131 [main] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response status: 200 OK
2025-09-22 16:33:00.131 [main] DEBUG c.w.service.ai.deepseek.DeepSeekAIService - DeepSeek API response body: {"id":"58adfa87-3f3f-4102-8308-1216445d23db","object":"chat.completion","created":1758529977,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Hello! How can I help you today?"},"logprobs":null,"finish_reason":"length"}],"usage":{"prompt_tokens":5,"completion_tokens":9,"total_tokens":14,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":5},"system_fingerprint":"fp_08f168e49b_prod0820_fp8_kvcache"}
2025-09-22 16:33:00.173 [main] INFO  com.weeklyreport.service.ai.AIServiceFactory - Registered AI provider: DeepSeek AI Service - Status: Configured and healthy
2025-09-22 16:33:00.174 [main] INFO  com.weeklyreport.service.ai.AIServiceFactory - Initialized 2 AI service providers
2025-09-22 16:33:00.191 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.209 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.237 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.248 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.274 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.276 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.278 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.281 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.282 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.283 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.284 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.285 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.286 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.287 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.288 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.289 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.293 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.308 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.311 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.312 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.314 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.324 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.326 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.329 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.330 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.332 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.333 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.334 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.335 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.337 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.339 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.340 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.342 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.344 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.345 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.345 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.346 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.347 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.354 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.354 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.376 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.380 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.413 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.414 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.415 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.416 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.417 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.417 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.418 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.419 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.420 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.427 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.444 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.447 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.447 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.448 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.453 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.454 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.455 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.457 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.458 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.459 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.460 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.461 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.462 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.462 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.463 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.463 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.464 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.464 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.466 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.467 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.468 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.468 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.468 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.469 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.470 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.470 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.471 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.472 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.472 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.473 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.473 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.474 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.476 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.476 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.497 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.497 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.529 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.529 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.530 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.530 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.531 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.532 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.540 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.541 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.542 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.543 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.549 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.551 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.551 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.557 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.567 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.568 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.568 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.569 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.570 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.573 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.574 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.575 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.577 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.579 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.581 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.583 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.583 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.585 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.588 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.590 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.591 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.592 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.594 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.595 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.596 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.596 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.597 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.599 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.600 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.601 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.601 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.602 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.602 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.603 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.603 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.604 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.645 [main] INFO  com.weeklyreport.controller.SimpleController - SimpleController initialized successfully!
2025-09-22 16:33:00.655 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.655 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.662 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.664 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.667 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.669 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.670 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.671 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.673 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.710 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.711 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.718 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.722 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.723 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.724 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.729 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.730 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.742 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.742 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.750 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.751 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.751 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.752 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.753 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.754 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.755 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.755 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.757 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.758 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.759 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.774 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.775 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.783 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.784 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.785 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.785 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.786 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.793 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.793 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.794 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.795 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.796 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.837 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.840 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.868 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.872 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.883 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.885 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.888 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.901 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.905 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.906 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.907 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.907 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.908 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.908 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.909 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.914 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.939 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.940 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.940 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.941 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.941 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.942 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.943 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:00.983 [main] INFO  com.weeklyreport.config.AsyncConfig - 创建异步线程池执行器
2025-09-22 16:33:00.984 [main] INFO  com.weeklyreport.config.AsyncConfig - 异步线程池配置完成 - 核心线程数: 5, 最大线程数: 10, 队列容量: 100
2025-09-22 16:33:00.994 [main] INFO  com.weeklyreport.config.AsyncConfig - 创建AI分析专用线程池
2025-09-22 16:33:00.994 [main] INFO  com.weeklyreport.config.AsyncConfig - AI分析线程池配置完成 - 核心线程数: 3, 最大线程数: 6
2025-09-22 16:33:01.197 [main] INFO  com.weeklyreport.config.WebMvcConfig - 路径匹配配置：API路径优先于静态资源处理
2025-09-22 16:33:01.260 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 96 mappings in 'requestMappingHandlerMapping'
2025-09-22 16:33:01.302 [main] INFO  com.weeklyreport.config.WebMvcConfig - 配置静态资源处理器，明确排除API路径（包括/ai/**）
2025-09-22 16:33:01.302 [main] INFO  com.weeklyreport.config.WebMvcConfig - 静态资源处理器配置完成，API控制器路径（/ai/**等）已明确排除
2025-09-22 16:33:01.302 [main] DEBUG o.s.web.servlet.config.annotation.WebMvcConfigurer - Default resource handling disabled
2025-09-22 16:33:01.306 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/static/**, /public/**, /css/**, /js/**, /images/**, /webjars/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-09-22 16:33:01.397 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-09-22 16:33:01.449 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b5ca7d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40c5e78a, org.springframework.security.web.context.SecurityContextHolderFilter@409eca36, org.springframework.security.web.header.HeaderWriterFilter@3348cc8b, org.springframework.web.filter.CorsFilter@58288d3, org.springframework.security.web.authentication.logout.LogoutFilter@7c0c380f, com.weeklyreport.security.JwtAuthenticationFilter@2ce47652, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7aa4db5e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f3f5da7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7331a320, org.springframework.security.web.session.SessionManagementFilter@68a482f4, org.springframework.security.web.access.ExceptionTranslationFilter@4f8efd72, org.springframework.security.web.access.intercept.AuthorizationFilter@300e9a59]
2025-09-22 16:33:01.523 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-22 16:33:01.559 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-22 16:33:01.753 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.757 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.797 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.798 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.800 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.800 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.803 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.804 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.806 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.807 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.808 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.815 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.818 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.821 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.822 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.823 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.823 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.824 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.825 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.828 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.829 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.829 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.830 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.834 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.841 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.841 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.842 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.843 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.843 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.844 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.845 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.846 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.846 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.847 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.848 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.849 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.851 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.851 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.852 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.852 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.853 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.855 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.864 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.865 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.865 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.865 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.866 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.866 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.867 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.867 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.867 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.868 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.869 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.869 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.870 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.870 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.871 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.880 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.885 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.892 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.893 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.894 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.895 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.896 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.897 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.897 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.898 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.899 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.904 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.905 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.912 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.913 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.913 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.913 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.914 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.915 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.915 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.920 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.923 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.937 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.938 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.947 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.960 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.961 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.962 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.962 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.963 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.963 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.964 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.964 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.965 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.965 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.966 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.966 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.966 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.967 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.967 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.968 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.969 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.974 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.975 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.975 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.976 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.977 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.977 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.977 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.978 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.978 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.986 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:01.988 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.000 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.001 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.002 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.002 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.003 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.003 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.004 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.004 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.006 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.007 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.008 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.008 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.009 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.010 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.010 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.011 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.011 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.012 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.012 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.013 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.013 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.014 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.014 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.014 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.015 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.015 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.016 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.068 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-09-22 16:33:02.077 [main] INFO  com.weeklyreport.WeeklyReportApplication - Started WeeklyReportApplication in 11.364 seconds (process running for 11.69)
=== SIMPLE COMMENTS TABLE FIX ===
2025-09-22 16:33:02.132 [main] DEBUG com.zaxxer.hikari.HikariConfig - WeeklyReportHikariCP-Dev - configuration:
2025-09-22 16:33:02.132 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false
2025-09-22 16:33:02.132 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................false
2025-09-22 16:33:02.132 [main] DEBUG com.zaxxer.hikari.HikariConfig - catalog.........................none
2025-09-22 16:33:02.132 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none
2025-09-22 16:33:02.132 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery............."SELECT 1 FROM DUAL"
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............15000
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............{maintainTimeStats=false, password=<masked>, prepStmtCacheSqlLimit=2048, rewriteBatchedStatements=true, elideSetAutoCommits=true, cacheResultSetMetadata=true, cachePrepStmts=true, prepStmtCacheSize=250, useServerPrepStmts=true, useLocalSessionState=true, cacheServerConfiguration=true}
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName................."com.mysql.cj.jdbc.Driver"
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - exceptionOverrideClassName......none
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........{}
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................180000
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......1
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - jdbcUrl.........................jdbc:mysql://localhost:3307/qr_auth_dev?useUnicode=true&characterEncoding=UTF-8&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&createDatabaseIfNotExist=true
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - keepaliveTime...................0
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - leakDetectionThreshold..........30000
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - maxLifetime.....................900000
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................12
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricRegistry..................none
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricsTrackerFactory...........com.zaxxer.hikari.metrics.micrometer.MicrometerMetricsTrackerFactory@128955d4
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - minimumIdle.....................3
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - password........................<masked>
2025-09-22 16:33:02.133 [main] DEBUG com.zaxxer.hikari.HikariConfig - poolName........................"WeeklyReportHikariCP-Dev"
2025-09-22 16:33:02.134 [main] DEBUG com.zaxxer.hikari.HikariConfig - readOnly........................false
2025-09-22 16:33:02.134 [main] DEBUG com.zaxxer.hikari.HikariConfig - registerMbeans..................false
2025-09-22 16:33:02.134 [main] DEBUG com.zaxxer.hikari.HikariConfig - scheduledExecutor...............none
2025-09-22 16:33:02.134 [main] DEBUG com.zaxxer.hikari.HikariConfig - schema..........................none
2025-09-22 16:33:02.134 [main] DEBUG com.zaxxer.hikari.HikariConfig - threadFactory...................internal
2025-09-22 16:33:02.134 [main] DEBUG com.zaxxer.hikari.HikariConfig - transactionIsolation............default
2025-09-22 16:33:02.134 [main] DEBUG com.zaxxer.hikari.HikariConfig - username........................"root"
2025-09-22 16:33:02.134 [main] DEBUG com.zaxxer.hikari.HikariConfig - validationTimeout...............8000
2025-09-22 16:33:02.134 [main] INFO  com.zaxxer.hikari.HikariDataSource - WeeklyReportHikariCP-Dev - Starting...
2025-09-22 16:33:02.252 [main] INFO  com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0
2025-09-22 16:33:02.257 [main] INFO  com.zaxxer.hikari.HikariDataSource - WeeklyReportHikariCP-Dev - Start completed.
2025-09-22 16:33:02.287 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
Simple comments table fix failed: StatementCallback; bad SQL grammar [ALTER TABLE comments ADD COLUMN IF NOT EXISTS attachments JSON]
=== SIMPLE COMMENTS TABLE FIX COMPLETE ===
2025-09-22 16:33:02.288 [main] INFO  com.weeklyreport.config.DataInitializer - === 开始修复现有用户密码编码 ===
2025-09-22 16:33:02.291 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:33:02.291 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1107472217<open>)] for JPA transaction
2025-09-22 16:33:02.294 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e645b]
2025-09-22 16:33:02.328 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0
2025-09-22 16:33:02.347 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-22 16:33:02.348 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.348 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin@company.com]
2025-09-22 16:33:02.348 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CScx2WSSsTaHuiaB7iIN5uYfzpXauwr5YSfu4Ur39KgeVCJorfiPW]
2025-09-22 16:33:02.348 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:33:02.348 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.348 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T06:48:53]
2025-09-22 16:33:02.348 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10000]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$YFIoTopLYqWUd6wTech/PObUqpnpVEER/tsCtZFxkoVZJic3Oz6OC]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:28:31]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10001]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.351 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [zhangxiaoyu@weeklyreport.com]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$3GXObwtjWxtUNd.UJYY.Demprkwm05PEp/RAjRDtf9/klAx1FUsli]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [zhangxiaoyu]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10002]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$vYpNcWkOMOVUAmAzGbznn.2/11bRBg5ISD/g1ilExHe.p/085vFLu]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$vocPfCnaTvdySDrQYwKdOuyW/L8KBMySDFAapz6VB1EDyoUPyEmju]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:28:31]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10012]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:48:04]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758361683269@example.com]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$EveCKqttc4tylukGB5U0w.x2Ny20Dk6K0CE/qngtg6FDYnyF5oalO]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.352 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T17:48:04]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758361683269]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10013]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:48:05]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [newuser1758361684997@example.com]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$0GHRM83baYfhQcPibBJ1zeVL.rYDMdmXRHMZ4TLOHnywEG5KNHvY.]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T17:48:05]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [newuser1758361684997]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10014]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:58:55]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758362334422@example.com]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$w.O4TaclWZ.PFe2goifEleEaFwc8VVK5GR2a3iHKCH21ZQ02GVJ9q]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T17:58:55]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758362334422]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10015]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:58:56]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [newuser1758362336111@example.com]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$KIsG5dPLqjIIKCHv3zbXwuLXe.FlCsRYiqPbNgrczyYYR6dY/CtBS]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T17:58:56]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [newuser1758362336111]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10016]
2025-09-22 16:33:02.353 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T18:06:54]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758362813469@example.com]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$dUgH/LMais7C3bECpweUueUSQBoEQQ2wNgYPX/YuY3k.I8Fzq9Yeu]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T18:06:54]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758362813469]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10017]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T18:06:56]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [newuser1758362815145@example.com]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$GMcpdp2IwhZ1XljV0pVW/OdDEmxKccZl1nyjvGmwPHJchKx6xlbOC]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T18:06:56]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [newuser1758362815145]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10018]
2025-09-22 16:33:02.354 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T20:55:43]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test124@test.com]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$fRGb5UuA3L4hLopivPZyge3gzdqUMWhxUAi1NNeRIISodcO8YsPaO]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T20:55:43]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser124]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10019]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T21:00:29]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758373228427@example.com]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$JyGiAq00YtRTKuqFMSfzGeBQvObCNaIMU7js8roMASwo5pYcU0Tgq]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T21:00:29]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758373228427]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10020]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T21:01:33]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758373292752@example.com]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$MnVJNhlNZ9sZZY6td7q4dOHS1y.l9Axuq/iaTpTM57VsCMgf5Xzii]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T21:01:33]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758373292752]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10021]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T21:02:55]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758373374849@example.com]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$DvZu1P8XAsJz4z116h1Ncu.HnskjZ91meyXJpwx2QMn4Xp8p6NgZq]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T21:02:55]
2025-09-22 16:33:02.355 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758373374849]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10022]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T21:05:45]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758373544759@example.com]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$S2//wKwUBUI6d1KEt56H3eJKKZBTTmoSRYroCOGQBbeC30yD8Lxp.]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T21:05:45]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758373544759]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10023]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T21:38:03]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758375482168@example.com]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$cS/XxHIHT.jYjcpZW78QzOA7eZMbhE4JCkehrDzPft2TE1XvY9WDO]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T21:38:03]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758375482168]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10024]
2025-09-22 16:33:02.356 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T21:45]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758375899989@example.com]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$yvvxixwFt/YaUqcjVTL3quPBI2B.JgC7tG.rgTVg1b4k3j2ZoSyXm]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T21:45]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758375899989]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10025]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T21:47:09]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758376028984@example.com]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$ArEfu/QfqKHscQwIwSI1Ceaf4wrhRb7ZwN5ZWAauQSyfxLRa8fv9O]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T21:47:09]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758376028984]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10026]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T21:52:39]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758376359004@example.com]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$N8h74T663NdfijNvGFF.6.HyvOL2wjJ/kfI4B/eZQP7Q9PArRWUee]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T21:52:39]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758376359004]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10027]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T22:03:12]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758376991795@example.com]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$19UznGW1lzKoIbkeU1zSTOl8dO6bUZ1EDH/86IYVYzZ0n3iE4327y]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.357 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T22:03:12]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758376991795]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10028]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T22:03:14]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [newuser1758376993425@example.com]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$9PEUve7q32fuvE7o0fVK/e50bCUcE7L6xSca3TR9S/24oOmOob3g6]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T22:03:14]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [newuser1758376993425]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10029]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T22:31:16]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758378675912@example.com]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$XtAAjVMh/Oiz.JjbkT8z6uEgMg0yWeTGwNe/hMaPY8i4ROZ54Kw66]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T22:31:16]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758378675912]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10030]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T22:39:07]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test1758379146672@example.com]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$SJA1EO5QO.IggjYus5HKbeYnsH6hjgpnvTY0r0FxZkZGT5v8B1s7q]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T22:39:07]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser1758379146672]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10031]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T23:21:45]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test_1758381704653@example.com]
2025-09-22 16:33:02.358 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$gEkYpW8oc9DM1s5kA2HMVe5Q0iRo9I6kPV8cIs2e3EOUL9bLDBwyi]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-20T23:21:45]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testuser_1758381704653]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10032]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-21T00:50:24]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test@test.com]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$zzwGd.LQLjrrm6lQBHxsnO9I/.jqAQ2hqasMHsU7zsjkXoX3gitEm]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-21T14:28:40]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [testmanager]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10033]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-21T02:48:46]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [projecttester@example.com]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$QkSwUmU/KJ4E/9FO0dahLOpy8ATfkoMJn4mgCdXVw9/7brmjm0D7C]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-21T02:48:46]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [projecttester]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10034]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T06:54:23]
2025-09-22 16:33:02.359 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=1, active=1, idle=0, waiting=0)
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager_1758495262760@example.com]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$VR6/g8etFkmtIaSRueAYBuBiHsN9vLzJssa84vdUwc0RCl6ruXvO.]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T06:54:26]
2025-09-22 16:33:02.359 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager_1758495262760]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10035]
2025-09-22 16:33:02.360 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=1, active=1, idle=0, waiting=0)
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T06:58:36]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [debug_1758495515645@example.com]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$uM3TlBYX/gRhS6PLQ08zKe2McS6qMKXFQ5fx6517trUJVvVdbB47u]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T06:58:38]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [debug_1758495515645]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10036]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:05:33]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test_1758495932563@example.com]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$nud2kHTELalsxjK90BbiR.p6DeCY3q1LK/T2d6uzyJTUGIlfKFPbq]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:05:33]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [test_1758495932563]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10037]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:06:16]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test_1758495975567@example.com]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$xANcrOwAs4DxBPlkh5yWeuoxKutAg9kTeruPsNaJj6iuOTKl/iFU.]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:06:16]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [test_1758495975567]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10038]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:08:07]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [new_debug_1758496086578@test.com]
2025-09-22 16:33:02.360 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$dxkZlSZk6FfRjUluPVLHqO2rbS80xkshWTtUjwajNp91tlcHS4aL2]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:08:08]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [new_debug_1758496086578]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10039]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:09:19]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [updated_final_1758496158177@test.com]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$gBCxnYcF2lMeXbIyJOoQ9eWsgqaY1/rpZzhTkaXQhSyJh6xK6t6gO]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:09:19]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [updated_final_1758496158177]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10040]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:13:35]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [updated_final_1758496414290@test.com]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$FoZ9CrhNsWm4Z..1aOS81.RIx9fY.a3AAfxyp5yOz2xCjiCibXVMW]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:13:35]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [updated_final_1758496414290]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10041]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:15:09]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [updated_verify_1758496508246@test.com]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$JQ5c8CdEBh6uS7IoA.pf5.1dXMY4IHrdQZ.Eq8XGSI6MZUQb4VIem]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:15:09]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [updated_verify_1758496508246]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10042]
2025-09-22 16:33:02.361 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:18:28]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [jwt_test_1758496707433@test.com]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$taZQqmJfOxIDaeZQ5kLqlOWaEWc.rarAWcXyZYMShZ1YSwxnzzwSi]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:18:28]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [jwt_test_1758496707433]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10043]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:19:10]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [jwt_test_1758496749461@test.com]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$ei1b8YHSlTP81xoIspFX7OEzDAu2sJXjD/0h65jDDksE3mjckmjL6]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:19:10]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [jwt_test_1758496749461]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10044]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:24:28]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [updated_jwt_test_1758497067681@test.com]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$v/8t2LQqOTUr8jX49j4tQuwz4GWHu9zmWJKa8sWmZP9P766K0Cofe]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:24:29]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [updated_jwt_test_1758497067681]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10046]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T07:35:08]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [test_nextweek@test.com]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$ggcVoRHOlDXBzEYTaQLykOYu5mYfnYHzgFjXCJ/fKrnGJHd.84jVq]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T07:35:08]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [test_nextweek]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:33:02.362 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:33:02.363 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:33:02.363 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:33:02.363 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:33:02.363 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.363 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:33:02.363 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:33:02.365 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61
2025-09-22 16:33:02.366 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:33:02.367 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1107472217<open>)]
2025-09-22 16:33:02.369 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1107472217<open>)] after transaction
2025-09-22 16:33:02.369 [main] INFO  com.weeklyreport.config.DataInitializer - 检查 40 个用户的密码编码
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 admin 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 superadmin 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 zhangxiaoyu 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 admin1 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 manager1 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758361683269 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 newuser1758361684997 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758362334422 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 newuser1758362336111 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758362813469 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 newuser1758362815145 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser124 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758373228427 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758373292752 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758373374849 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758373544759 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758375482168 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758375899989 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758376028984 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758376359004 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758376991795 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 newuser1758376993425 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758378675912 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser1758379146672 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testuser_1758381704653 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 testmanager 的密码已经加密，跳过
2025-09-22 16:33:02.369 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 projecttester 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 manager_1758495262760 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 debug_1758495515645 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 test_1758495932563 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 test_1758495975567 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 new_debug_1758496086578 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 updated_final_1758496158177 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 updated_final_1758496414290 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 updated_verify_1758496508246 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 jwt_test_1758496707433 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 jwt_test_1758496749461 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 updated_jwt_test_1758497067681 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 test_nextweek 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] DEBUG com.weeklyreport.config.DataInitializer - 用户 admin2 的密码已经加密，跳过
2025-09-22 16:33:02.370 [main] INFO  com.weeklyreport.config.DataInitializer - === 所有用户密码都已正确编码 ===
2025-09-22 16:33:02.371 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.384 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@7117645a
2025-09-22 16:33:02.396 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After adding stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:33:02.405 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:33:02.407 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin]
2025-09-22 16:33:02.409 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10000]
2025-09-22 16:33:02.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-22 16:33:02.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$YFIoTopLYqWUd6wTech/PObUqpnpVEER/tsCtZFxkoVZJic3Oz6OC]
2025-09-22 16:33:02.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:33:02.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:28:31]
2025-09-22 16:33:02.410 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-22 16:33:02.411 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:33:02.411 [main] INFO  com.weeklyreport.config.DataInitializer - Super admin user already exists: superadmin
2025-09-22 16:33:02.411 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.412 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:33:02.412 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [zhangxiaoyu]
2025-09-22 16:33:02.414 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10001]
2025-09-22 16:33:02.414 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.414 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [zhangxiaoyu@weeklyreport.com]
2025-09-22 16:33:02.414 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$3GXObwtjWxtUNd.UJYY.Demprkwm05PEp/RAjRDtf9/klAx1FUsli]
2025-09-22 16:33:02.414 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:33:02.414 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.414 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.414 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [zhangxiaoyu]
2025-09-22 16:33:02.415 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:33:02.415 [main] INFO  com.weeklyreport.config.DataInitializer - Super admin user already exists: zhangxiaoyu
2025-09-22 16:33:02.415 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.415 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:33:02.415 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin]
2025-09-22 16:33:02.417 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [1]
2025-09-22 16:33:02.417 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.417 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin@company.com]
2025-09-22 16:33:02.417 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$CScx2WSSsTaHuiaB7iIN5uYfzpXauwr5YSfu4Ur39KgeVCJorfiPW]
2025-09-22 16:33:02.417 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:33:02.417 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.417 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T06:48:53]
2025-09-22 16:33:02.417 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin]
2025-09-22 16:33:02.418 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:33:02.418 [main] INFO  com.weeklyreport.config.DataInitializer - Admin user already exists: admin
2025-09-22 16:33:02.418 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.419 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:33:02.419 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin1]
2025-09-22 16:33:02.420 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10002]
2025-09-22 16:33:02.420 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.420 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin1@weeklyreport.com]
2025-09-22 16:33:02.420 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$vYpNcWkOMOVUAmAzGbznn.2/11bRBg5ISD/g1ilExHe.p/085vFLu]
2025-09-22 16:33:02.420 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:33:02.420 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.421 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.421 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin1]
2025-09-22 16:33:02.421 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:33:02.421 [main] INFO  com.weeklyreport.config.DataInitializer - Admin user already exists: admin1
2025-09-22 16:33:02.422 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.422 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:33:02.422 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:33:02.424 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:33:02.424 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:33:02.424 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:33:02.424 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:33:02.424 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:33:02.424 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.424 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:33:02.424 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:33:02.425 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:33:02.425 [main] INFO  com.weeklyreport.config.DataInitializer - Admin user already exists: admin2
2025-09-22 16:33:02.425 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.425 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:33:02.425 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:33:02.427 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:33:02.427 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.427 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:33:02.427 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$vocPfCnaTvdySDrQYwKdOuyW/L8KBMySDFAapz6VB1EDyoUPyEmju]
2025-09-22 16:33:02.427 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.427 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.427 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:28:31]
2025-09-22 16:33:02.427 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:33:02.428 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:33:02.428 [main] INFO  com.weeklyreport.config.DataInitializer - Manager user already exists: manager1
2025-09-22 16:33:02.428 [main] INFO  com.weeklyreport.config.DataInitializer - === 强制重置测试用户密码 ===
2025-09-22 16:33:02.428 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.429 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:33:02.429 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin]
2025-09-22 16:33:02.431 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10000]
2025-09-22 16:33:02.431 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.431 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-22 16:33:02.431 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$YFIoTopLYqWUd6wTech/PObUqpnpVEER/tsCtZFxkoVZJic3Oz6OC]
2025-09-22 16:33:02.431 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:33:02.431 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.431 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:28:31]
2025-09-22 16:33:02.431 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-22 16:33:02.432 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:33:02.759 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:33:02.760 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(499462613<open>)] for JPA transaction
2025-09-22 16:33:02.760 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@29835b68]
2025-09-22 16:33:02.765 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-09-22 16:33:02.767 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10000]
2025-09-22 16:33:02.769 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.769 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-22 16:33:02.769 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$YFIoTopLYqWUd6wTech/PObUqpnpVEER/tsCtZFxkoVZJic3Oz6OC]
2025-09-22 16:33:02.769 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:33:02.769 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.769 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:28:31]
2025-09-22 16:33:02.769 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-22 16:33:02.771 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:33:02.771 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(499462613<open>)]
2025-09-22 16:33:02.786 [main] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.User */update users 
    set
        email=?,
        password=?,
        role=?,
        status=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.User */update users 
    set
        email=?,
        password=?,
        role=?,
        status=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-09-22 16:33:02.786 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin@weeklyreport.com]
2025-09-22 16:33:02.786 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:VARCHAR) <- [$2a$12$Dj5IyhwQXfYIcm4.aOcMu.bPnD5hAPh1QbvVBF0r6fqPoItbDVjze]
2025-09-22 16:33:02.786 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [SUPER_ADMIN]
2025-09-22 16:33:02.786 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:ENUM) <- [ACTIVE]
2025-09-22 16:33:02.786 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:TIMESTAMP) <- [2025-09-22T16:33:02.780398]
2025-09-22 16:33:02.786 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [superadmin]
2025-09-22 16:33:02.786 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:BIGINT) <- [10000]
2025-09-22 16:33:02.799 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(499462613<open>)] after transaction
2025-09-22 16:33:02.799 [main] INFO  com.weeklyreport.config.DataInitializer - ✅ 重置superadmin密码成功
2025-09-22 16:33:02.799 [main] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:33:02.800 [main] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:33:02.800 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:33:02.801 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:33:02.801 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:02.801 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:33:02.801 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$vocPfCnaTvdySDrQYwKdOuyW/L8KBMySDFAapz6VB1EDyoUPyEmju]
2025-09-22 16:33:02.801 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:02.801 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:02.801 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:28:31]
2025-09-22 16:33:02.801 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:33:02.802 [main] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:33:03.107 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:33:03.107 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(118241504<open>)] for JPA transaction
2025-09-22 16:33:03.107 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@106e5abe]
2025-09-22 16:33:03.107 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
Hibernate: 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-09-22 16:33:03.108 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:33:03.110 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:33:03.110 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:33:03.110 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$vocPfCnaTvdySDrQYwKdOuyW/L8KBMySDFAapz6VB1EDyoUPyEmju]
2025-09-22 16:33:03.110 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:33:03.110 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:33:03.110 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:28:31]
2025-09-22 16:33:03.110 [main] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:33:03.110 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:33:03.110 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(118241504<open>)]
2025-09-22 16:33:03.111 [main] DEBUG org.hibernate.SQL - 
    /* update
        for com.weeklyreport.entity.User */update users 
    set
        email=?,
        password=?,
        role=?,
        status=?,
        updated_at=?,
        username=? 
    where
        id=?
Hibernate: 
    /* update
        for com.weeklyreport.entity.User */update users 
    set
        email=?,
        password=?,
        role=?,
        status=?,
        updated_at=?,
        username=? 
    where
        id=?
2025-09-22 16:33:03.111 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1@weeklyreport.com]
2025-09-22 16:33:03.111 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:VARCHAR) <- [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:33:03.111 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:ENUM) <- [MANAGER]
2025-09-22 16:33:03.111 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (4:ENUM) <- [ACTIVE]
2025-09-22 16:33:03.111 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (5:TIMESTAMP) <- [2025-09-22T16:33:03.111206]
2025-09-22 16:33:03.111 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (6:VARCHAR) <- [manager1]
2025-09-22 16:33:03.111 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter (7:BIGINT) <- [10004]
2025-09-22 16:33:03.117 [main] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(118241504<open>)] after transaction
2025-09-22 16:33:03.117 [main] INFO  com.weeklyreport.config.DataInitializer - ✅ 重置manager1密码成功
2025-09-22 16:33:03.117 [main] INFO  com.weeklyreport.config.DataInitializer - === 强制重置测试用户密码完成 ===
2025-09-22 16:33:32.363 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:33:32.364 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:33:32.364 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:34:02.366 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:34:02.367 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:34:02.367 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:34:03.361 [http-nio-8081-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-22 16:34:03.361 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-22 16:34:03.364 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-22 16:34:03.364 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-22 16:34:03.364 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-22 16:34:03.374 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@50334476
2025-09-22 16:34:03.374 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@72ef2add
2025-09-22 16:34:03.374 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-22 16:34:03.374 [http-nio-8081-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 12 ms
2025-09-22 16:34:03.387 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:34:03.396 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:34:03.396 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:34:03.427 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:34:03.429 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:34:03.430 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:34:03.432 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:34:03.433 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:34:03.433 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:34:03.435 [http-nio-8081-exec-1] WARN  o.s.web.servlet.handler.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/projects/my' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-09-22 16:34:03.450 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:34:03.451 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:34:03.452 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:34:03.459 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:34:03.466 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:34:03.467 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:34:03.467 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(293185771<open>)] for JPA transaction
2025-09-22 16:34:03.467 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9039b71]
2025-09-22 16:34:03.467 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:34:03.472 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:34:03.476 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:34:03.479 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:34:03.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:34:03.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:34:03.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:34:03.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:34:03.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:34:03.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:34:03.480 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:34:03.480 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:34:03.481 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(293185771<open>)]
2025-09-22 16:34:03.482 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(293185771<open>)] after transaction
2025-09-22 16:34:03.483 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:34:03.485 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:34:03.487 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:03.492 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:34:03.492 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:34:03.492 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:34:03.492 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:34:03.492 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:34:03.492 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:34:03.492 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:34:03.493 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:34:03.494 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:34:03.495 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:34:03.497 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:34:03.499 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:34:03.506 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:34:03.509 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:34:03.511 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:34:03.511 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:34:03.511 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:34:03.511 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.511 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.512 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:34:03.512 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:34:03.512 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.512 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:34:03.513 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:34:03.515 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:34:03.516 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:34:03.516 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.518 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:34:03.519 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:34:03.519 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:34:03.520 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:34:03.520 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:34:03.521 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:34:03.521 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:34:03.521 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:34:03.522 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.522 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.522 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:34:03.522 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:34:03.522 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.522 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:34:03.523 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:34:03.523 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:34:03.523 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:34:03.524 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.525 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.526 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:34:03.527 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:34:03.527 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:34:03.528 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:34:03.528 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.530 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:34:03.531 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:34:03.531 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:34:03.532 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:34:03.532 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:34:03.533 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:34:03.534 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:34:03.534 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.534 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.534 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:34:03.534 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:34:03.534 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.534 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:34:03.534 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:34:03.535 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:34:03.535 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:34:03.535 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:34:03.537 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:34:03.538 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:34:03.538 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:34:03.538 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:34:03.538 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:34:03.538 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:34:03.538 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:34:03.538 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:34:03.545 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:34:03.546 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@444e4723]
2025-09-22 16:34:03.557 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:34:05.885 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:34:05.886 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:34:05.886 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:34:05.887 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:34:05.889 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:34:05.891 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:34:05.893 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:34:05.893 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:34:05.893 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:34:05.900 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:34:05.900 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:34:05.900 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:34:05.900 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:34:05.900 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:34:05.900 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(960302154<open>)] for JPA transaction
2025-09-22 16:34:05.900 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@325c838c]
2025-09-22 16:34:05.900 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:34:05.901 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:34:05.903 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:34:05.904 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:34:05.904 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:34:05.904 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:34:05.904 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:34:05.904 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:34:05.904 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:34:05.904 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:34:05.904 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:34:05.905 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:34:05.905 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(960302154<open>)]
2025-09-22 16:34:05.905 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(960302154<open>)] after transaction
2025-09-22 16:34:05.905 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:34:05.905 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:34:05.905 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(520047469<open>)] for JPA transaction
2025-09-22 16:34:05.906 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@184b73fc]
2025-09-22 16:34:05.906 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:34:05.908 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:34:05.910 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:05.911 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:34:05.916 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:34:05.916 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:34:05.916 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:34:05.916 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:34:05.916 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:34:05.917 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:34:05.917 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:34:05.917 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:34:05.917 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:34:05.917 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:34:05.917 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:34:05.917 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:34:05.923 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:34:05.924 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:05.925 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:34:05.925 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:34:05.925 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:34:05.925 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:34:05.926 [http-nio-8081-exec-2] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:34:05.929 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:34:05.929 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(520047469<open>)]
2025-09-22 16:34:05.932 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(520047469<open>)] after transaction
2025-09-22 16:34:05.932 [http-nio-8081-exec-2] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:34:05.934 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:34:05.934 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@158c8eb4]
2025-09-22 16:34:05.935 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:34:07.645 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:34:07.646 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:34:07.646 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:34:07.648 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:34:07.652 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:34:07.654 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:34:07.658 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:34:07.658 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:34:07.658 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:34:07.664 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:34:07.664 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:34:07.664 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:34:07.664 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:34:07.664 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:34:07.665 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1283827642<open>)] for JPA transaction
2025-09-22 16:34:07.665 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@14edfb45]
2025-09-22 16:34:07.665 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:34:07.666 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:34:07.668 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:34:07.669 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:34:07.670 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1283827642<open>)]
2025-09-22 16:34:07.671 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1283827642<open>)] after transaction
2025-09-22 16:34:07.671 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:34:07.671 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:34:07.671 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(182623310<open>)] for JPA transaction
2025-09-22 16:34:07.672 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e5b36f3]
2025-09-22 16:34:07.672 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:34:07.673 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:34:07.673 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:07.675 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:34:07.675 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:34:07.676 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:34:07.678 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:34:07.678 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:07.680 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:34:07.680 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:34:07.681 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:34:07.681 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:34:07.681 [http-nio-8081-exec-3] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:34:07.682 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:34:07.682 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(182623310<open>)]
2025-09-22 16:34:07.684 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(182623310<open>)] after transaction
2025-09-22 16:34:07.684 [http-nio-8081-exec-3] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:34:07.685 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:34:07.685 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@dd89a84]
2025-09-22 16:34:07.686 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:34:10.159 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:34:10.159 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:34:10.159 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/weekly-reports/my
2025-09-22 16:34:10.159 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: null
2025-09-22 16:34:10.160 [http-nio-8081-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:34:10.165 [http-nio-8081-exec-4] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/weekly-reports/my from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-22 16:34:27.580 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:34:27.581 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:34:27.581 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 319
2025-09-22 16:34:27.583 [http-nio-8081-exec-6] ERROR com.weeklyreport.security.JwtTokenProvider - Expired JWT token: JWT expired at 2025-09-22T08:06:58Z. Current time: 2025-09-22T08:34:27Z, a difference of 1649582 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-09-22 16:34:27.583 [http-nio-8081-exec-6] WARN  com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation failed for request: /api/weekly-reports/my
2025-09-22 16:34:27.583 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Invalid token details: prefix=eyJhbGciOi, length=319
2025-09-22 16:34:27.584 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:34:27.586 [http-nio-8081-exec-6] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/weekly-reports/my from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-22 16:34:30.201 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:34:30.201 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:34:30.201 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:34:30.205 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:34:30.273 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:34:30.318 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:34:30.329 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:34:30.329 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:34:30.329 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:34:30.386 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:34:30.386 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:34:30.388 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:34:30.388 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:34:30.397 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:34:30.400 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(869211630<open>)] for JPA transaction
2025-09-22 16:34:30.438 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3b60ac9d]
2025-09-22 16:34:30.438 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:34:30.464 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:34:30.474 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:34:30.481 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:34:30.482 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:34:30.482 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:34:30.483 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:34:30.483 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:34:30.483 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:34:30.483 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:34:30.483 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:34:30.484 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:34:30.485 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(869211630<open>)]
2025-09-22 16:34:30.488 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(869211630<open>)] after transaction
2025-09-22 16:34:30.488 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:34:30.489 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:34:30.489 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1992183945<open>)] for JPA transaction
2025-09-22 16:34:30.491 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e2493dc]
2025-09-22 16:34:30.491 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:34:30.494 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:34:30.495 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:30.499 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:34:30.500 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:34:30.501 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:34:30.506 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:34:30.507 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:30.512 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:34:30.512 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:34:30.512 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:34:30.512 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:34:30.513 [http-nio-8081-exec-8] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:34:30.516 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:34:30.516 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1992183945<open>)]
2025-09-22 16:34:30.517 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1992183945<open>)] after transaction
2025-09-22 16:34:30.517 [http-nio-8081-exec-8] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:34:30.520 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:34:30.520 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@73e65ef1]
2025-09-22 16:34:30.522 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:34:32.369 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:34:32.369 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:34:32.369 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:34:40.336 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-22 16:34:40.337 [http-nio-8081-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:34:40.344 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-22 16:34:40.344 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-22 16:34:40.345 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-22 16:34:40.362 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='null', password='[PROTECTED]', rememberMe=false}]
2025-09-22 16:34:40.383 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.weeklyreport.controller.AuthController#handleException(Exception)
2025-09-22 16:34:40.383 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:34:40.384 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@47d4f1a0]
2025-09-22 16:34:40.384 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.weeklyreport.dto.ApiResponse<com.weeklyreport.dto.auth.AuthResponse>> com.weeklyreport.controller.AuthController.login(com.weeklyreport.dto.auth.LoginRequest): [Field error in object 'loginRequest' on field 'usernameOrEmail': rejected value [null]; codes [NotBlank.loginRequest.usernameOrEmail,NotBlank.usernameOrEmail,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.usernameOrEmail,usernameOrEmail]; arguments []; default message [usernameOrEmail]]; default message [Username or email is required]] ]
2025-09-22 16:34:40.384 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:34:48.268 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:34:48.269 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:34:48.269 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:34:48.271 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:34:48.273 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:34:48.275 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:34:48.277 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:34:48.277 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:34:48.277 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:34:48.280 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:34:48.280 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:34:48.280 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:34:48.280 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:34:48.280 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:34:48.280 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1001248000<open>)] for JPA transaction
2025-09-22 16:34:48.280 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@37bcad1e]
2025-09-22 16:34:48.281 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:34:48.283 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:34:48.285 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:34:48.286 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:34:48.287 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1001248000<open>)]
2025-09-22 16:34:48.288 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1001248000<open>)] after transaction
2025-09-22 16:34:48.288 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:34:48.288 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:34:48.288 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(909579663<open>)] for JPA transaction
2025-09-22 16:34:48.289 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5605461a]
2025-09-22 16:34:48.289 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:34:48.290 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:34:48.290 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:34:48.292 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:34:48.295 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:34:48.295 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:34:48.299 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:34:48.299 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:34:48.299 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:34:48.299 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:34:48.299 [http-nio-8081-exec-10] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:34:48.302 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:34:48.302 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(909579663<open>)]
2025-09-22 16:34:48.304 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(909579663<open>)] after transaction
2025-09-22 16:34:48.304 [http-nio-8081-exec-10] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:34:48.306 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:34:48.306 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@522f5af5]
2025-09-22 16:34:48.306 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:34:48.381 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-22 16:34:48.381 [http-nio-8081-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:34:48.381 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-22 16:34:48.381 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-22 16:34:48.381 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-22 16:34:48.382 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='superadmin', password='[PROTECTED]', rememberMe=false}]
2025-09-22 16:34:48.383 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: superadmin
2025-09-22 16:34:48.384 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:34:48.384 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(383528732<open>)] for JPA transaction
2025-09-22 16:34:48.384 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@18fb58d9]
2025-09-22 16:34:48.384 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.AuthService - Attempting login for user: superadmin
2025-09-22 16:34:48.386 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:34:48.386 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin]
2025-09-22 16:34:48.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10000]
2025-09-22 16:34:48.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:34:48.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-22 16:34:48.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$Dj5IyhwQXfYIcm4.aOcMu.bPnD5hAPh1QbvVBF0r6fqPoItbDVjze]
2025-09-22 16:34:48.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:34:48.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:34:48.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:34:48.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-22 16:34:48.726 [http-nio-8081-exec-1] WARN  com.weeklyreport.service.AuthService - Invalid password attempt for user: superadmin
2025-09-22 16:34:48.727 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:34:48.727 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(383528732<open>)]
2025-09-22 16:34:48.728 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(383528732<open>)] after transaction
2025-09-22 16:34:48.728 [http-nio-8081-exec-1] WARN  com.weeklyreport.controller.AuthController - Login failed for user: superadmin - Invalid username/email or password
2025-09-22 16:34:48.729 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:34:48.729 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@22f9aa2]
2025-09-22 16:34:48.729 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED
2025-09-22 16:35:02.373 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:35:02.374 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:35:02.374 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:35:31.383 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:35:31.385 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:35:31.385 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:35:31.394 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:35:31.400 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:35:31.403 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:35:31.407 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:35:31.407 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:35:31.407 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:35:31.425 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:35:31.425 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:35:31.425 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:35:31.426 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:35:31.427 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:35:31.428 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:35:31.428 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1773160426<open>)] for JPA transaction
2025-09-22 16:35:31.429 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@18da4822]
2025-09-22 16:35:31.429 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:35:31.436 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:35:31.447 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:35:31.451 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:35:31.451 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:35:31.451 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:35:31.452 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:35:31.452 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:35:31.452 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:35:31.452 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:35:31.452 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:35:31.452 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:35:31.452 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1773160426<open>)]
2025-09-22 16:35:31.454 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1773160426<open>)] after transaction
2025-09-22 16:35:31.454 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:35:31.456 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:35:31.456 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:35:31.460 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:35:31.461 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:35:31.462 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:35:31.463 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:35:31.464 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:35:31.465 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:35:31.466 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:35:31.478 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:35:31.478 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:35:31.479 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:35:31.482 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:35:31.482 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:35:31.482 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:35:31.482 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.482 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.483 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:35:31.483 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:35:31.483 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.483 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:35:31.484 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:35:31.485 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:35:31.485 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:35:31.485 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:35:31.489 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:35:31.489 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:35:31.489 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.490 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:35:31.492 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:35:31.493 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:35:31.494 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:35:31.494 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.498 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:35:31.500 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:35:31.501 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:35:31.501 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:35:31.502 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.505 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:35:31.507 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:35:31.507 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:35:31.508 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:35:31.508 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.511 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:35:31.512 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:35:31.513 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:35:31.513 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:35:31.513 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:35:31.515 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:35:31.515 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:35:31.516 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:35:31.516 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.516 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.516 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:35:31.516 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:35:31.516 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.516 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.517 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:35:31.518 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:35:31.519 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:35:31.520 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:35:31.520 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:35:31.523 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:35:31.525 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:35:31.527 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:35:31.527 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@227c62fb]
2025-09-22 16:35:31.530 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:35:32.377 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:35:32.378 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:35:32.378 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:35:32.719 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:35:32.720 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:35:32.720 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:35:32.721 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:35:32.726 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:35:32.730 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:35:32.737 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:35:32.737 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:35:32.737 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:35:32.741 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:35:32.741 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:35:32.742 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:35:32.742 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:35:32.742 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:35:32.742 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(296682942<open>)] for JPA transaction
2025-09-22 16:35:32.742 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ef04874]
2025-09-22 16:35:32.742 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:35:32.743 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:35:32.746 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:35:32.748 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(296682942<open>)]
2025-09-22 16:35:32.750 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(296682942<open>)] after transaction
2025-09-22 16:35:32.750 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:35:32.750 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:35:32.750 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(514844214<open>)] for JPA transaction
2025-09-22 16:35:32.751 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3bb80a75]
2025-09-22 16:35:32.751 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:35:32.753 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:35:32.754 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:35:32.760 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:35:32.761 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:35:32.761 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:35:32.762 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:35:32.762 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:35:32.762 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:35:32.763 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:35:32.763 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:35:32.763 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:35:32.763 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:35:32.764 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:35:32.764 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:35:32.764 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:35:32.765 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:35:32.766 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:35:32.771 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:35:32.771 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:35:32.771 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:35:32.772 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:35:32.772 [http-nio-8081-exec-4] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:35:32.775 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:35:32.776 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(514844214<open>)]
2025-09-22 16:35:32.778 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(514844214<open>)] after transaction
2025-09-22 16:35:32.778 [http-nio-8081-exec-4] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:35:32.780 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:35:32.780 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5c5a649f]
2025-09-22 16:35:32.781 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:35:34.011 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:35:34.012 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:35:34.012 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:35:34.013 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:35:34.014 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:35:34.017 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:35:34.021 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:35:34.021 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:35:34.021 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:35:34.023 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:35:34.023 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:35:34.023 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:35:34.023 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:35:34.023 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:35:34.023 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(293794320<open>)] for JPA transaction
2025-09-22 16:35:34.023 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3e67b9aa]
2025-09-22 16:35:34.023 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:35:34.024 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:35:34.026 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:35:34.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:35:34.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:35:34.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:35:34.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:35:34.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:35:34.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:35:34.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:35:34.028 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:35:34.029 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:35:34.029 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(293794320<open>)]
2025-09-22 16:35:34.030 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(293794320<open>)] after transaction
2025-09-22 16:35:34.030 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:35:34.030 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:35:34.031 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1161837431<open>)] for JPA transaction
2025-09-22 16:35:34.032 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6f89e32a]
2025-09-22 16:35:34.032 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:35:34.033 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:35:34.033 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:35:34.036 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:35:34.037 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:35:34.037 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:35:34.037 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:35:34.041 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:35:34.041 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:35:34.041 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:35:34.041 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:35:34.041 [http-nio-8081-exec-5] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:35:34.042 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:35:34.042 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1161837431<open>)]
2025-09-22 16:35:34.044 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1161837431<open>)] after transaction
2025-09-22 16:35:34.045 [http-nio-8081-exec-5] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:35:34.046 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:35:34.046 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3d3c8758]
2025-09-22 16:35:34.046 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:02.378 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:36:02.379 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:36:02.379 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:36:03.511 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:03.512 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:03.513 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:03.517 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:03.519 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:03.520 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:03.523 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:03.523 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:03.523 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:03.527 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:03.527 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:03.527 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:03.528 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:03.528 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:03.529 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(851557799<open>)] for JPA transaction
2025-09-22 16:36:03.529 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1a952835]
2025-09-22 16:36:03.529 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:03.534 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:03.539 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:03.543 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:03.543 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:03.543 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:03.543 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:03.543 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:03.543 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:03.543 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:03.543 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:03.544 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:03.544 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(851557799<open>)]
2025-09-22 16:36:03.545 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(851557799<open>)] after transaction
2025-09-22 16:36:03.545 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:03.545 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:03.545 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(860620627<open>)] for JPA transaction
2025-09-22 16:36:03.546 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2ad96225]
2025-09-22 16:36:03.546 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:03.548 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:03.548 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:03.551 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:03.552 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:03.554 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:03.555 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:03.558 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:03.558 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:03.558 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:03.558 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:03.558 [http-nio-8081-exec-6] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:03.561 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:03.561 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(860620627<open>)]
2025-09-22 16:36:03.563 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(860620627<open>)] after transaction
2025-09-22 16:36:03.563 [http-nio-8081-exec-6] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:03.564 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:03.565 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@37d755ee]
2025-09-22 16:36:03.566 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:04.352 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:04.352 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:04.352 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:04.353 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:04.355 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:04.356 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:04.357 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:04.357 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:04.357 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:04.359 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:04.359 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:04.359 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:04.359 [http-nio-8081-exec-7] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:04.359 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:04.359 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1153499250<open>)] for JPA transaction
2025-09-22 16:36:04.359 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21c32b19]
2025-09-22 16:36:04.359 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:04.360 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:04.361 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:04.363 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1153499250<open>)]
2025-09-22 16:36:04.364 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1153499250<open>)] after transaction
2025-09-22 16:36:04.364 [http-nio-8081-exec-7] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:04.364 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:04.364 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1539412704<open>)] for JPA transaction
2025-09-22 16:36:04.364 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@27cfb762]
2025-09-22 16:36:04.364 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:04.365 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:04.365 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:04.367 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:04.368 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:04.368 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:04.370 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:04.370 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:04.370 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:04.370 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:04.370 [http-nio-8081-exec-7] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:04.371 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:04.371 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1539412704<open>)]
2025-09-22 16:36:04.372 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1539412704<open>)] after transaction
2025-09-22 16:36:04.372 [http-nio-8081-exec-7] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:04.373 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:04.373 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6abb1ae1]
2025-09-22 16:36:04.373 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:04.768 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-22 16:36:04.768 [http-nio-8081-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:36:04.769 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-22 16:36:04.769 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-22 16:36:04.769 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-22 16:36:04.770 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='superadmin', password='[PROTECTED]', rememberMe=false}]
2025-09-22 16:36:04.770 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: superadmin
2025-09-22 16:36:04.770 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:04.770 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(345004815<open>)] for JPA transaction
2025-09-22 16:36:04.770 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@70364d9a]
2025-09-22 16:36:04.770 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.AuthService - Attempting login for user: superadmin
2025-09-22 16:36:04.771 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:04.771 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin]
2025-09-22 16:36:04.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10000]
2025-09-22 16:36:04.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:04.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-22 16:36:04.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$Dj5IyhwQXfYIcm4.aOcMu.bPnD5hAPh1QbvVBF0r6fqPoItbDVjze]
2025-09-22 16:36:04.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:36:04.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:04.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:04.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-22 16:36:05.115 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.AuthService - User superadmin logged in successfully
2025-09-22 16:36:05.115 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:05.115 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(345004815<open>)]
2025-09-22 16:36:05.116 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(345004815<open>)] after transaction
2025-09-22 16:36:05.117 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.AuthController - Login successful for user: superadmin
2025-09-22 16:36:05.117 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:05.117 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2b4ffd8a]
2025-09-22 16:36:05.121 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:36:06.198 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:36:06.198 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:36:06.198 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:36:06.199 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:36:06.201 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:36:06.202 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:06.205 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:06.205 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:36:06.205 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:06.206 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:36:06.206 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:36:06.207 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:36:06.207 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:36:06.207 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:36:06.207 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:06.207 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(698014658<open>)] for JPA transaction
2025-09-22 16:36:06.207 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@78a87351]
2025-09-22 16:36:06.207 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:06.208 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:06.209 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:06.211 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(698014658<open>)]
2025-09-22 16:36:06.212 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(698014658<open>)] after transaction
2025-09-22 16:36:06.212 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:06.213 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:36:06.213 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:36:06.216 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:36:06.217 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:36:06.218 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:36:06.219 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:36:06.220 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:06.221 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:06.221 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:06.222 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.224 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:36:06.225 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:06.225 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:06.226 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:06.226 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:36:06.227 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:36:06.227 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.228 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:36:06.229 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:06.230 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:06.230 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:06.230 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:36:06.231 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:06.232 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:06.233 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:06.233 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.234 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:36:06.235 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:06.236 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:06.236 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:06.236 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.238 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:36:06.239 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:06.240 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:06.241 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:06.241 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:36:06.243 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:36:06.244 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:36:06.244 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.244 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.244 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:36:06.244 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:36:06.244 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.244 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:36:06.244 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:06.245 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:06.245 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:06.245 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:36:06.246 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:36:06.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:36:06.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:36:06.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:06.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:06.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:36:06.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:36:06.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:06.247 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:36:06.248 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:06.248 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:06.248 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@59483a56]
2025-09-22 16:36:06.249 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:36:08.193 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-22 16:36:08.194 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-22 16:36:08.194 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 306
2025-09-22 16:36:08.195 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-22 16:36:08.195 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-22 16:36:08.195 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 306
2025-09-22 16:36:08.196 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-22 16:36:08.197 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-22 16:36:08.198 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-22 16:36:08.199 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-22 16:36:08.200 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:08.201 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:08.206 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:08.206 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/health/authenticated
2025-09-22 16:36:08.206 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:08.207 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:08.207 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/health/authenticated
2025-09-22 16:36:08.207 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:08.211 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-22 16:36:08.211 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-22 16:36:08.211 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-22 16:36:08.212 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-22 16:36:08.212 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-22 16:36:08.213 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-22 16:36:08.215 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:36:08.215 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:36:08.217 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:36:08.217 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:36:08.219 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:08.219 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@39e96b51]
2025-09-22 16:36:08.219 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:08.220 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@33449e7d]
2025-09-22 16:36:08.222 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:36:08.222 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:36:08.248 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:36:08.249 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:36:08.249 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:36:08.252 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:36:08.254 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:36:08.256 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:08.260 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:08.260 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:36:08.260 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:08.262 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:36:08.263 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:36:08.263 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:36:08.264 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:36:08.264 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:36:08.264 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:08.264 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1288882946<open>)] for JPA transaction
2025-09-22 16:36:08.265 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4ca22dfa]
2025-09-22 16:36:08.265 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:08.266 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:08.270 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:08.276 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:08.277 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:08.277 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:08.277 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:08.277 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:08.277 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:08.277 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:08.278 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:08.279 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:08.279 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1288882946<open>)]
2025-09-22 16:36:08.281 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1288882946<open>)] after transaction
2025-09-22 16:36:08.281 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:08.284 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:36:08.285 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:08.288 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:36:08.288 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:36:08.288 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:36:08.288 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:36:08.289 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:36:08.290 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:36:08.290 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:36:08.290 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:08.290 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:36:08.290 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:36:08.290 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:36:08.291 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:36:08.292 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:36:08.293 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:36:08.294 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:36:08.295 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:36:08.297 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:08.298 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:08.299 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:08.300 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.302 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:36:08.304 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:08.304 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:08.305 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:08.305 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.309 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.310 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:36:08.311 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:08.314 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:08.315 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:08.315 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.317 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:36:08.318 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:08.319 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:08.319 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:08.319 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.322 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:36:08.323 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:08.324 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:08.328 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:08.329 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.333 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:36:08.335 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:08.336 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:08.336 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:08.337 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:36:08.339 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:36:08.339 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:36:08.341 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:08.342 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:36:08.342 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:36:08.343 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:36:08.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:36:08.348 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:36:08.349 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:08.350 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@36b80133]
2025-09-22 16:36:08.351 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:36:11.009 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:11.009 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:11.009 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:11.011 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:11.012 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:11.013 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:11.015 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:11.015 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:11.015 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:11.018 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:11.018 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:11.018 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:11.019 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:11.019 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:11.019 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1323707066<open>)] for JPA transaction
2025-09-22 16:36:11.019 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4810049]
2025-09-22 16:36:11.019 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:11.020 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:11.021 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:11.023 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1323707066<open>)]
2025-09-22 16:36:11.024 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1323707066<open>)] after transaction
2025-09-22 16:36:11.024 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:11.024 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:11.024 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(742033618<open>)] for JPA transaction
2025-09-22 16:36:11.025 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@c61eb97]
2025-09-22 16:36:11.025 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:11.026 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:11.026 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:11.028 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:11.028 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:11.028 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:11.028 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:11.028 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:11.029 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:11.029 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:11.029 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:11.029 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:11.029 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:11.029 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:11.029 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:11.029 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:11.030 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:11.030 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:11.032 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:11.032 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:11.032 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:11.032 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:11.032 [http-nio-8081-exec-4] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:11.033 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:11.033 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(742033618<open>)]
2025-09-22 16:36:11.034 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(742033618<open>)] after transaction
2025-09-22 16:36:11.034 [http-nio-8081-exec-4] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:11.036 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:11.036 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6bfe2bb]
2025-09-22 16:36:11.036 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:12.065 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:12.066 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:12.066 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:12.067 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:12.069 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:12.071 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:12.073 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:12.073 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:12.073 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:12.075 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:12.075 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:12.075 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:12.075 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:12.075 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:12.075 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(366108929<open>)] for JPA transaction
2025-09-22 16:36:12.075 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@a6178a1]
2025-09-22 16:36:12.075 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:12.076 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:12.078 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:12.079 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(366108929<open>)]
2025-09-22 16:36:12.080 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(366108929<open>)] after transaction
2025-09-22 16:36:12.080 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:12.080 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:12.080 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2124611079<open>)] for JPA transaction
2025-09-22 16:36:12.081 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2090bbf6]
2025-09-22 16:36:12.081 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:12.081 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:12.081 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:12.083 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:12.084 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:12.084 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:12.085 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:12.085 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:12.085 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:12.085 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:12.085 [http-nio-8081-exec-5] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:12.086 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:12.086 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(2124611079<open>)]
2025-09-22 16:36:12.087 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2124611079<open>)] after transaction
2025-09-22 16:36:12.087 [http-nio-8081-exec-5] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:12.088 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:12.088 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2a3cbd49]
2025-09-22 16:36:12.088 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:13.020 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:13.020 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:13.020 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:13.021 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:13.022 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:13.023 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:13.024 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:13.024 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:13.024 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:13.026 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:13.026 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:13.026 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:13.026 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:13.026 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:13.026 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(467468728<open>)] for JPA transaction
2025-09-22 16:36:13.026 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6f7f41a2]
2025-09-22 16:36:13.026 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:13.027 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:13.028 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:13.029 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:13.029 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:13.029 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:13.029 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:13.029 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:13.029 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:13.029 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:13.029 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:13.030 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:13.030 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(467468728<open>)]
2025-09-22 16:36:13.030 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(467468728<open>)] after transaction
2025-09-22 16:36:13.030 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:13.030 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:13.030 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1972996849<open>)] for JPA transaction
2025-09-22 16:36:13.031 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@421cf9c1]
2025-09-22 16:36:13.031 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:13.032 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:13.032 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:13.033 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:13.034 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:13.034 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:13.034 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:13.036 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:13.036 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:13.036 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:13.036 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:13.036 [http-nio-8081-exec-6] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:13.037 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:13.037 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1972996849<open>)]
2025-09-22 16:36:13.038 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1972996849<open>)] after transaction
2025-09-22 16:36:13.039 [http-nio-8081-exec-6] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:13.040 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:13.040 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@14605c24]
2025-09-22 16:36:13.040 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:13.417 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:13.417 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:13.417 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:13.418 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:13.419 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:13.420 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:13.421 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:13.421 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:13.421 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:13.422 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:13.423 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:13.423 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:13.423 [http-nio-8081-exec-7] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:13.423 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:13.423 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1383534104<open>)] for JPA transaction
2025-09-22 16:36:13.423 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@206f3757]
2025-09-22 16:36:13.423 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:13.424 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:13.424 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:13.426 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1383534104<open>)]
2025-09-22 16:36:13.427 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1383534104<open>)] after transaction
2025-09-22 16:36:13.427 [http-nio-8081-exec-7] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:13.427 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:13.427 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1007150512<open>)] for JPA transaction
2025-09-22 16:36:13.428 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4d6b7a6e]
2025-09-22 16:36:13.428 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:13.429 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:13.429 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:13.430 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:13.431 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:13.431 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:13.431 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:13.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:13.433 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:13.433 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:13.433 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:13.433 [http-nio-8081-exec-7] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:13.434 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:13.434 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1007150512<open>)]
2025-09-22 16:36:13.435 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1007150512<open>)] after transaction
2025-09-22 16:36:13.435 [http-nio-8081-exec-7] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:13.436 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:13.436 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@62206397]
2025-09-22 16:36:13.436 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:13.665 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:13.666 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:13.666 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:13.666 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:13.667 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:13.668 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:13.670 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:13.670 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:13.670 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:13.671 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:13.671 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:13.672 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:13.672 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:13.672 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:13.672 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1433353008<open>)] for JPA transaction
2025-09-22 16:36:13.672 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@745e66d6]
2025-09-22 16:36:13.672 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:13.673 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:13.674 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:13.676 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:13.676 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:13.676 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:13.676 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:13.676 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:13.676 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:13.676 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:13.676 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:13.677 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:13.677 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1433353008<open>)]
2025-09-22 16:36:13.678 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1433353008<open>)] after transaction
2025-09-22 16:36:13.678 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:13.678 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:13.678 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1426182469<open>)] for JPA transaction
2025-09-22 16:36:13.678 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4caa6213]
2025-09-22 16:36:13.678 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:13.679 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:13.679 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:13.681 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:13.682 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:13.682 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:13.684 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:13.684 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:13.684 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:13.684 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:13.684 [http-nio-8081-exec-8] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:13.685 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:13.685 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1426182469<open>)]
2025-09-22 16:36:13.686 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1426182469<open>)] after transaction
2025-09-22 16:36:13.686 [http-nio-8081-exec-8] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:13.687 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:13.687 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5da0fd1]
2025-09-22 16:36:13.687 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:15.560 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:15.560 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:15.560 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 319
2025-09-22 16:36:15.561 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:15.562 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:15.563 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:36:15.564 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:36:15.564 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/weekly-reports/my
2025-09-22 16:36:15.564 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:36:15.565 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:15.565 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:15.566 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:15.566 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:15.566 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:15.566 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1234935644<open>)] for JPA transaction
2025-09-22 16:36:15.566 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33650b63]
2025-09-22 16:36:15.566 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: superadmin
2025-09-22 16:36:15.566 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:15.568 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10000]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$Dj5IyhwQXfYIcm4.aOcMu.bPnD5hAPh1QbvVBF0r6fqPoItbDVjze]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:15.569 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1234935644<open>)]
2025-09-22 16:36:15.570 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1234935644<open>)] after transaction
2025-09-22 16:36:15.570 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10000, 用户名: superadmin, 角色: SUPER_ADMIN
2025-09-22 16:36:15.570 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:15.570 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2008297284<open>)] for JPA transaction
2025-09-22 16:36:15.571 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7a78ba23]
2025-09-22 16:36:15.571 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10000
2025-09-22 16:36:15.571 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:15.571 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10000]
2025-09-22 16:36:15.572 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 0
2025-09-22 16:36:15.573 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:15.573 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10000]
2025-09-22 16:36:15.575 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 0
2025-09-22 16:36:15.575 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:15.575 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:15.575 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2008297284<open>)]
2025-09-22 16:36:15.576 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2008297284<open>)] after transaction
2025-09-22 16:36:15.576 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 从数据库获取到的周报数量: 0
2025-09-22 16:36:15.577 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报列表：
2025-09-22 16:36:15.577 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-09-22 16:36:15.577 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1e4eb862]
2025-09-22 16:36:15.577 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:36:22.080 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=APPROVED
2025-09-22 16:36:22.080 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:36:22.080 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/weekly-reports
2025-09-22 16:36:22.080 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: Bearer
2025-09-22 16:36:22.080 [http-nio-8081-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:36:22.082 [http-nio-8081-exec-2] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/weekly-reports from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-22 16:36:27.611 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports
2025-09-22 16:36:27.611 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:36:27.612 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - No JWT token found in request: /api/weekly-reports
2025-09-22 16:36:27.612 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Authorization header: Bearer
2025-09-22 16:36:27.612 [http-nio-8081-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:36:27.613 [http-nio-8081-exec-3] ERROR c.w.security.JwtAuthenticationEntryPoint - Unauthorized access attempt to: /api/weekly-reports from IP: 0:0:0:0:0:0:0:1. Error: Full authentication is required to access this resource
2025-09-22 16:36:32.382 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:36:32.382 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:36:32.383 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:36:48.602 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:48.603 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:48.603 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:48.604 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:48.605 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:48.606 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:48.608 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:48.608 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:48.608 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:48.609 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:48.610 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:48.610 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:48.610 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:48.610 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:48.610 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1738333340<open>)] for JPA transaction
2025-09-22 16:36:48.610 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6ec195d8]
2025-09-22 16:36:48.610 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:48.612 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:48.614 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:48.616 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1738333340<open>)]
2025-09-22 16:36:48.617 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1738333340<open>)] after transaction
2025-09-22 16:36:48.617 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:48.617 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:48.617 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(981798835<open>)] for JPA transaction
2025-09-22 16:36:48.618 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@676ac51d]
2025-09-22 16:36:48.618 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:48.619 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:48.619 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:48.620 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:48.620 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:48.620 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:48.621 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:48.622 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:48.622 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:48.623 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:48.623 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:48.623 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:48.624 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:48.624 [http-nio-8081-exec-5] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:48.625 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:48.625 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(981798835<open>)]
2025-09-22 16:36:48.626 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(981798835<open>)] after transaction
2025-09-22 16:36:48.626 [http-nio-8081-exec-5] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:48.627 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:48.627 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@62759394]
2025-09-22 16:36:48.627 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:36:49.168 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:36:49.168 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:36:49.168 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:36:49.169 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:36:49.170 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:36:49.171 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:36:49.173 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:36:49.173 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:36:49.173 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:36:49.174 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:36:49.174 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:36:49.174 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:36:49.174 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:36:49.175 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:36:49.175 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(579105226<open>)] for JPA transaction
2025-09-22 16:36:49.175 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@10f43f92]
2025-09-22 16:36:49.175 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:36:49.176 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:36:49.177 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:36:49.178 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(579105226<open>)]
2025-09-22 16:36:49.179 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(579105226<open>)] after transaction
2025-09-22 16:36:49.179 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:36:49.179 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:36:49.179 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(507543807<open>)] for JPA transaction
2025-09-22 16:36:49.179 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e6929a3]
2025-09-22 16:36:49.179 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:36:49.180 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:36:49.180 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:36:49.182 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:36:49.183 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:36:49.183 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:36:49.183 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:36:49.185 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:36:49.185 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:36:49.185 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:36:49.185 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:36:49.185 [http-nio-8081-exec-6] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:49.186 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:36:49.186 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(507543807<open>)]
2025-09-22 16:36:49.187 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(507543807<open>)] after transaction
2025-09-22 16:36:49.187 [http-nio-8081-exec-6] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:36:49.188 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:36:49.188 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5bd04581]
2025-09-22 16:36:49.189 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:02.386 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:37:02.387 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:37:02.388 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:37:08.269 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:37:08.270 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:37:08.270 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:37:08.273 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:37:08.274 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:37:08.276 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:08.280 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:08.280 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:37:08.280 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:08.283 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:37:08.283 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:37:08.284 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:37:08.284 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:37:08.285 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:37:08.285 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:08.285 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2135861621<open>)] for JPA transaction
2025-09-22 16:37:08.285 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@523450eb]
2025-09-22 16:37:08.285 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:08.287 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:08.289 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:08.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:08.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:08.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:08.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:08.292 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:08.293 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:08.293 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:08.293 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:08.293 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:08.293 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2135861621<open>)]
2025-09-22 16:37:08.294 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2135861621<open>)] after transaction
2025-09-22 16:37:08.295 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:37:08.297 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:37:08.298 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:08.302 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:37:08.302 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:37:08.303 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:37:08.304 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:37:08.305 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:37:08.306 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:37:08.307 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:37:08.308 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:37:08.309 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:37:08.310 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:37:08.310 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:37:08.313 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:37:08.314 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:37:08.314 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:37:08.314 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.314 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.314 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:37:08.314 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:37:08.314 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.314 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:37:08.315 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:37:08.315 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:37:08.316 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:37:08.316 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.320 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:37:08.321 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:37:08.322 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:37:08.322 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:37:08.322 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:37:08.324 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:37:08.325 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:37:08.325 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:37:08.325 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.325 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.325 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:37:08.325 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:37:08.325 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.325 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:37:08.326 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:37:08.327 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:37:08.328 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:37:08.328 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:37:08.331 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.332 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:37:08.334 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:37:08.334 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:37:08.335 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:37:08.335 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:37:08.337 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:37:08.338 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:37:08.338 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:37:08.338 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.338 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.338 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:37:08.338 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:37:08.338 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.338 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:37:08.339 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:37:08.340 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:37:08.340 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:37:08.340 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.345 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.346 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:37:08.347 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:37:08.348 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:37:08.348 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:37:08.348 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.351 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:37:08.352 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:37:08.354 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:37:08.354 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:08.355 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@63565652]
2025-09-22 16:37:08.356 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:37:08.867 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:08.867 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:08.868 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:08.869 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:08.871 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:08.873 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:08.875 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:08.875 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:08.875 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:08.877 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:08.877 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:08.877 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:08.877 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:08.877 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:08.877 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(550212872<open>)] for JPA transaction
2025-09-22 16:37:08.877 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@180781a9]
2025-09-22 16:37:08.877 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:08.879 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:08.880 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:08.882 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:08.883 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(550212872<open>)]
2025-09-22 16:37:08.884 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(550212872<open>)] after transaction
2025-09-22 16:37:08.884 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:08.884 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:08.884 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(243175238<open>)] for JPA transaction
2025-09-22 16:37:08.885 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6beff0b1]
2025-09-22 16:37:08.885 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:08.886 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:08.886 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:08.888 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:08.889 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:08.890 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:08.891 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:08.893 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:08.893 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:08.893 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:08.893 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:08.893 [http-nio-8081-exec-8] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:08.894 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:08.894 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(243175238<open>)]
2025-09-22 16:37:08.895 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(243175238<open>)] after transaction
2025-09-22 16:37:08.895 [http-nio-8081-exec-8] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:08.896 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:08.896 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6ca77205]
2025-09-22 16:37:08.897 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:09.835 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:09.835 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:09.835 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:09.836 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:09.837 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:09.838 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:09.840 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:09.840 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:09.840 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:09.841 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:09.841 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:09.841 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:09.841 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:09.841 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:09.841 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1872972347<open>)] for JPA transaction
2025-09-22 16:37:09.841 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@74a216d8]
2025-09-22 16:37:09.842 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:09.842 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:09.844 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:09.845 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:09.846 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1872972347<open>)]
2025-09-22 16:37:09.847 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1872972347<open>)] after transaction
2025-09-22 16:37:09.847 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:09.847 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:09.847 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(329315594<open>)] for JPA transaction
2025-09-22 16:37:09.848 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7051b1bc]
2025-09-22 16:37:09.848 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:09.848 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:09.848 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:09.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:09.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:09.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:09.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:09.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:09.851 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:09.851 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:09.851 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:09.851 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:09.851 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:09.851 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:09.851 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:09.851 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:09.852 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:09.852 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:09.853 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:09.853 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:09.853 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:09.853 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:09.853 [http-nio-8081-exec-9] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:09.854 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:09.854 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(329315594<open>)]
2025-09-22 16:37:09.856 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(329315594<open>)] after transaction
2025-09-22 16:37:09.856 [http-nio-8081-exec-9] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:09.856 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:09.856 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7e8709bf]
2025-09-22 16:37:09.857 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:10.106 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:10.106 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:10.107 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:10.108 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:10.109 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:10.110 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:10.111 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:10.111 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:10.111 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:10.112 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:10.113 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:10.113 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:10.113 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:10.113 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:10.113 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(86339091<open>)] for JPA transaction
2025-09-22 16:37:10.113 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@160860bd]
2025-09-22 16:37:10.113 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:10.114 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:10.114 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:10.116 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(86339091<open>)]
2025-09-22 16:37:10.117 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(86339091<open>)] after transaction
2025-09-22 16:37:10.117 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:10.117 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:10.117 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(717950113<open>)] for JPA transaction
2025-09-22 16:37:10.118 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@f4469d4]
2025-09-22 16:37:10.118 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:10.119 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:10.119 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:10.121 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:10.122 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:10.122 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:10.124 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:10.124 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:10.124 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:10.124 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:10.124 [http-nio-8081-exec-10] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:10.125 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:10.125 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(717950113<open>)]
2025-09-22 16:37:10.128 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(717950113<open>)] after transaction
2025-09-22 16:37:10.128 [http-nio-8081-exec-10] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:10.129 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:10.129 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@193ef263]
2025-09-22 16:37:10.129 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:10.315 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:10.316 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:10.316 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:10.317 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:10.320 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:10.321 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:10.323 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:10.323 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:10.323 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:10.324 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:10.325 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:10.325 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:10.325 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:10.325 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:10.325 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1536278535<open>)] for JPA transaction
2025-09-22 16:37:10.325 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1017a123]
2025-09-22 16:37:10.325 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:10.326 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:10.326 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:10.328 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:10.328 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:10.328 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:10.328 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:10.328 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:10.328 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:10.328 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:10.328 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:10.329 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:10.329 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1536278535<open>)]
2025-09-22 16:37:10.330 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1536278535<open>)] after transaction
2025-09-22 16:37:10.330 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:10.330 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:10.330 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1609885426<open>)] for JPA transaction
2025-09-22 16:37:10.331 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@388674de]
2025-09-22 16:37:10.331 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:10.332 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:10.332 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:10.334 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:10.335 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:10.335 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:10.335 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:10.337 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:10.337 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:10.337 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:10.337 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:10.338 [http-nio-8081-exec-2] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:10.339 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:10.339 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1609885426<open>)]
2025-09-22 16:37:10.340 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1609885426<open>)] after transaction
2025-09-22 16:37:10.340 [http-nio-8081-exec-2] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:10.342 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:10.342 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4526e6f9]
2025-09-22 16:37:10.342 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:15.352 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:15.353 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:15.353 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:15.354 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:15.357 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:15.361 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:15.364 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:15.364 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:15.364 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:15.366 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:15.366 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:15.366 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:15.366 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:15.367 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:15.367 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1410135351<open>)] for JPA transaction
2025-09-22 16:37:15.367 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7cbabe43]
2025-09-22 16:37:15.367 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:15.368 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:15.370 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:15.373 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:15.373 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:15.373 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:15.374 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:15.374 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:15.374 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:15.374 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:15.374 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:15.375 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:15.375 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1410135351<open>)]
2025-09-22 16:37:15.378 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1410135351<open>)] after transaction
2025-09-22 16:37:15.378 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:15.378 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:15.378 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(573812394<open>)] for JPA transaction
2025-09-22 16:37:15.380 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12973dfb]
2025-09-22 16:37:15.380 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:15.381 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:15.381 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:15.383 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:15.383 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:15.383 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:15.383 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:15.383 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:15.383 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:15.383 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:15.383 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:15.384 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:15.384 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:15.384 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:15.384 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:15.384 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:15.385 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:15.386 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:15.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:15.387 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:15.388 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:15.388 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:15.388 [http-nio-8081-exec-1] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:15.389 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:15.389 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(573812394<open>)]
2025-09-22 16:37:15.391 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(573812394<open>)] after transaction
2025-09-22 16:37:15.391 [http-nio-8081-exec-1] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:15.392 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:15.392 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4ac4674e]
2025-09-22 16:37:15.393 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:32.391 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:37:32.395 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:37:32.395 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:37:40.811 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:40.813 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:40.813 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:40.816 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:40.819 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:40.820 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:40.821 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:40.821 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:40.821 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:40.826 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:40.826 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:40.826 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:40.826 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:40.827 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:40.827 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(608274496<open>)] for JPA transaction
2025-09-22 16:37:40.827 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@13334023]
2025-09-22 16:37:40.827 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:40.835 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:40.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:40.845 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:40.845 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:40.845 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:40.845 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:40.845 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:40.845 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:40.846 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:40.846 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:40.846 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:40.846 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(608274496<open>)]
2025-09-22 16:37:40.848 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(608274496<open>)] after transaction
2025-09-22 16:37:40.848 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:40.848 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:40.848 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1118535428<open>)] for JPA transaction
2025-09-22 16:37:40.849 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@12753e33]
2025-09-22 16:37:40.849 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:40.850 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:40.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:40.855 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:40.855 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:40.855 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:40.855 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:40.855 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:40.855 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:40.855 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:40.855 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:40.856 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:40.856 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:40.856 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:40.856 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:40.856 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:40.860 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:40.860 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:40.864 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:40.864 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:40.865 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:40.865 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:40.865 [http-nio-8081-exec-3] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:40.870 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:40.871 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1118535428<open>)]
2025-09-22 16:37:40.873 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1118535428<open>)] after transaction
2025-09-22 16:37:40.873 [http-nio-8081-exec-3] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:40.874 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:40.875 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@106ef640]
2025-09-22 16:37:40.875 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:41.317 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:41.317 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:41.317 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:41.318 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:41.319 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:41.320 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:41.321 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:41.321 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:41.321 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:41.322 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:41.322 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:41.323 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:41.323 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:41.323 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:41.323 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1383076212<open>)] for JPA transaction
2025-09-22 16:37:41.323 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75dca076]
2025-09-22 16:37:41.323 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:41.324 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:41.324 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:41.326 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:41.326 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:41.326 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:41.326 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:41.326 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:41.326 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:41.326 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:41.326 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:41.327 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:41.327 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1383076212<open>)]
2025-09-22 16:37:41.327 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1383076212<open>)] after transaction
2025-09-22 16:37:41.327 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:41.327 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:41.327 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(57536405<open>)] for JPA transaction
2025-09-22 16:37:41.328 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17b591f1]
2025-09-22 16:37:41.328 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:41.329 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:41.329 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:41.330 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:41.331 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:41.332 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:41.333 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:41.333 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:41.333 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:41.333 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:41.333 [http-nio-8081-exec-4] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:41.334 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:41.334 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(57536405<open>)]
2025-09-22 16:37:41.335 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(57536405<open>)] after transaction
2025-09-22 16:37:41.335 [http-nio-8081-exec-4] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:41.336 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:41.337 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7a41c9b8]
2025-09-22 16:37:41.337 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:41.541 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:41.541 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:41.541 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:41.542 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:41.543 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:41.545 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:41.546 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:41.546 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:41.546 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:41.548 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:41.548 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:41.548 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:41.548 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:41.548 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:41.548 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1370287901<open>)] for JPA transaction
2025-09-22 16:37:41.548 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2c149235]
2025-09-22 16:37:41.548 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:41.550 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:41.550 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:41.552 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:41.552 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:41.552 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:41.552 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:41.552 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:41.552 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:41.552 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:41.552 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:41.553 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:41.553 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1370287901<open>)]
2025-09-22 16:37:41.553 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1370287901<open>)] after transaction
2025-09-22 16:37:41.553 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:41.553 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:41.553 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(872783721<open>)] for JPA transaction
2025-09-22 16:37:41.554 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@77a62b6b]
2025-09-22 16:37:41.554 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:41.555 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:41.555 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:41.556 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:41.557 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:41.557 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:41.558 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:41.559 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:41.559 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:41.559 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:41.559 [http-nio-8081-exec-5] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:41.559 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:41.559 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(872783721<open>)]
2025-09-22 16:37:41.561 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(872783721<open>)] after transaction
2025-09-22 16:37:41.561 [http-nio-8081-exec-5] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:41.562 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:41.562 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@66f6735d]
2025-09-22 16:37:41.563 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:37:41.743 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:37:41.744 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:37:41.744 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:37:41.744 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:37:41.745 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:37:41.746 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:37:41.748 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:37:41.748 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:37:41.748 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:37:41.748 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:37:41.749 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:37:41.749 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:37:41.749 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:37:41.749 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:37:41.749 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(32872008<open>)] for JPA transaction
2025-09-22 16:37:41.749 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@61abd666]
2025-09-22 16:37:41.749 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:37:41.750 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:37:41.750 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:37:41.752 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:37:41.752 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:37:41.752 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:37:41.752 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:37:41.752 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:37:41.753 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:37:41.753 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:37:41.753 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:37:41.753 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:37:41.753 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(32872008<open>)]
2025-09-22 16:37:41.754 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(32872008<open>)] after transaction
2025-09-22 16:37:41.754 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:37:41.754 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:37:41.754 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1083218331<open>)] for JPA transaction
2025-09-22 16:37:41.755 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@435f58c1]
2025-09-22 16:37:41.755 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:37:41.755 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:37:41.755 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:37:41.757 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:37:41.758 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:37:41.758 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:37:41.759 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:37:41.759 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:37:41.759 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:37:41.759 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:37:41.759 [http-nio-8081-exec-6] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:41.760 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:37:41.760 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1083218331<open>)]
2025-09-22 16:37:41.761 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1083218331<open>)] after transaction
2025-09-22 16:37:41.761 [http-nio-8081-exec-6] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:37:41.762 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:37:41.762 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@38ef5da4]
2025-09-22 16:37:41.762 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:38:02.394 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:38:02.395 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:38:02.395 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:38:32.397 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:38:32.399 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:38:32.399 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:38:33.612 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:38:33.612 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:38:33.612 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:38:33.618 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:38:33.620 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:38:33.622 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:38:33.626 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:38:33.626 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:38:33.626 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:38:33.634 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:38:33.634 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:38:33.635 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:38:33.635 [http-nio-8081-exec-7] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:38:33.635 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:38:33.635 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1655564854<open>)] for JPA transaction
2025-09-22 16:38:33.635 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21836105]
2025-09-22 16:38:33.635 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:38:33.638 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:38:33.641 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:38:33.643 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:38:33.644 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:38:33.644 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:38:33.644 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:38:33.644 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:38:33.644 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:38:33.644 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:38:33.644 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:38:33.645 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:38:33.645 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1655564854<open>)]
2025-09-22 16:38:33.646 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1655564854<open>)] after transaction
2025-09-22 16:38:33.646 [http-nio-8081-exec-7] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:38:33.646 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:38:33.646 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(798160193<open>)] for JPA transaction
2025-09-22 16:38:33.646 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@675ec4ca]
2025-09-22 16:38:33.647 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:38:33.647 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:38:33.648 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:38:33.649 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:38:33.649 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:38:33.649 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:38:33.649 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:38:33.649 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:38:33.650 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:38:33.650 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:38:33.650 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:38:33.650 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:38:33.650 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:38:33.650 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:38:33.650 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:38:33.650 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:38:33.651 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:38:33.651 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:38:33.653 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:38:33.653 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:38:33.653 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:38:33.653 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:38:33.653 [http-nio-8081-exec-7] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:38:33.655 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:38:33.655 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(798160193<open>)]
2025-09-22 16:38:33.656 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(798160193<open>)] after transaction
2025-09-22 16:38:33.656 [http-nio-8081-exec-7] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:38:33.657 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:38:33.658 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7c09c53]
2025-09-22 16:38:33.659 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:38:54.170 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:38:54.171 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:38:54.171 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:38:54.172 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:38:54.174 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:38:54.181 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:38:54.183 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:38:54.183 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:38:54.183 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:38:54.184 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:38:54.184 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:38:54.185 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:38:54.185 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:38:54.185 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:38:54.185 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:38:54.185 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1072934368<open>)] for JPA transaction
2025-09-22 16:38:54.186 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6040f661]
2025-09-22 16:38:54.186 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:38:54.188 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:38:54.192 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:38:54.194 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:38:54.195 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1072934368<open>)]
2025-09-22 16:38:54.196 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1072934368<open>)] after transaction
2025-09-22 16:38:54.196 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:38:54.197 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:38:54.198 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:38:54.201 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:38:54.202 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:38:54.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:38:54.205 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:38:54.206 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:38:54.206 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:38:54.206 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.209 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:38:54.210 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:38:54.210 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:38:54.211 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:38:54.211 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:38:54.212 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.213 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:38:54.214 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:38:54.215 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:38:54.216 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:38:54.216 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.218 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:38:54.219 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:38:54.220 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:38:54.220 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:38:54.220 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.223 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:38:54.224 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:38:54.224 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:38:54.225 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:38:54.225 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:38:54.227 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:38:54.227 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:38:54.227 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:38:54.227 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.227 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.227 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:38:54.227 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:38:54.228 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.228 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:38:54.229 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:38:54.230 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:38:54.230 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:38:54.230 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:38:54.232 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.233 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:38:54.234 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:38:54.235 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:38:54.235 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:38:54.235 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:38:54.238 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:38:54.239 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:38:54.239 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:38:54.239 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6f0d934e]
2025-09-22 16:38:54.240 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:00.472 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /tasks?page=0&size=10&sortBy=createdAt&sortDir=desc
2025-09-22 16:39:00.472 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /tasks/my
2025-09-22 16:39:00.472 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/tasks
2025-09-22 16:39:00.473 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/tasks, length: 306
2025-09-22 16:39:00.473 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/tasks/my
2025-09-22 16:39:00.473 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/tasks/my, length: 306
2025-09-22 16:39:00.475 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/tasks/my
2025-09-22 16:39:00.475 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/tasks
2025-09-22 16:39:00.479 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/tasks
2025-09-22 16:39:00.480 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/tasks/my
2025-09-22 16:39:00.492 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:39:00.492 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:39:00.493 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:39:00.493 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/tasks
2025-09-22 16:39:00.493 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:39:00.493 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:39:00.493 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/tasks/my
2025-09-22 16:39:00.493 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:39:00.494 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /tasks/my
2025-09-22 16:39:00.494 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /tasks?page=0&size=10&sortBy=createdAt&sortDir=desc
2025-09-22 16:39:00.494 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/tasks/my", parameters={}
2025-09-22 16:39:00.494 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.TaskController#getMyTasks()
2025-09-22 16:39:00.496 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.TaskController.getMyTasks(); target is of class [com.weeklyreport.controller.TaskController]
2025-09-22 16:39:00.496 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/tasks?page=0&size=10&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-09-22 16:39:00.497 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.TaskController#getAllTasks(int, int, String, String)
2025-09-22 16:39:00.498 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.TaskController.getMyTasks(); target is of class [com.weeklyreport.controller.TaskController]
2025-09-22 16:39:00.498 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:00.498 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(330685488<open>)] for JPA transaction
2025-09-22 16:39:00.498 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@691f352e]
2025-09-22 16:39:00.498 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:39:00.499 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:00.501 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:39:00.504 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:39:00.506 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:39:00.506 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:39:00.506 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:39:00.507 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:39:00.508 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:00.509 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:39:00.509 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:39:00.510 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:00.510 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(330685488<open>)]
2025-09-22 16:39:00.512 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(330685488<open>)] after transaction
2025-09-22 16:39:00.513 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:00.515 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.expected_results,
        t1_0.personnel_assignment,
        t1_0.quantitative_metrics,
        t1_0.task_name,
        t1_0.timeline,
        t1_0.updated_at 
    from
        tasks t1_0 
    where
        t1_0.created_by=? 
    order by
        t1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.expected_results,
        t1_0.personnel_assignment,
        t1_0.quantitative_metrics,
        t1_0.task_name,
        t1_0.timeline,
        t1_0.updated_at 
    from
        tasks t1_0 
    where
        t1_0.created_by=? 
    order by
        t1_0.created_at desc
2025-09-22 16:39:00.517 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.TaskController.getAllTasks(int,int,java.lang.String,java.lang.String); target is of class [com.weeklyreport.controller.TaskController]
2025-09-22 16:39:00.517 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:39:00.518 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.TaskController.getAllTasks(int,int,java.lang.String,java.lang.String); target is of class [com.weeklyreport.controller.TaskController]
2025-09-22 16:39:00.518 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:00.518 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1581010607<open>)] for JPA transaction
2025-09-22 16:39:00.518 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3125d439]
2025-09-22 16:39:00.518 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:39:00.519 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [25]
2025-09-22 16:39:00.520 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:00.520 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:48:06]
2025-09-22 16:39:00.520 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:00.520 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:00.520 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:00.520 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:00.520 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:00.520 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:00.520 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:48:06]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [24]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:38:56]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:38:56]
2025-09-22 16:39:00.521 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [23]
2025-09-22 16:39:00.522 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:37:42]
2025-09-22 16:39:00.522 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:00.522 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:00.522 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:00.522 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:00.522 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:00.522 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:00.523 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:37:42]
2025-09-22 16:39:00.525 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:00.525 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:39:00.529 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:39:00.529 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:39:00.530 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:39:00.530 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:39:00.530 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:39:00.530 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:00.531 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:39:00.531 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:39:00.531 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:00.531 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1581010607<open>)]
2025-09-22 16:39:00.533 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:00.533 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6bf78456]
2025-09-22 16:39:00.533 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1581010607<open>)] after transaction
2025-09-22 16:39:00.538 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:00.540 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:00.542 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.expected_results,
        t1_0.personnel_assignment,
        t1_0.quantitative_metrics,
        t1_0.task_name,
        t1_0.timeline,
        t1_0.updated_at 
    from
        tasks t1_0 
    where
        t1_0.created_by=? 
    order by
        t1_0.created_at desc 
    limit
        ?, ?
Hibernate: 
    /* <criteria> */ select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.expected_results,
        t1_0.personnel_assignment,
        t1_0.quantitative_metrics,
        t1_0.task_name,
        t1_0.timeline,
        t1_0.updated_at 
    from
        tasks t1_0 
    where
        t1_0.created_by=? 
    order by
        t1_0.created_at desc 
    limit
        ?, ?
2025-09-22 16:39:00.545 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:39:00.545 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [0]
2025-09-22 16:39:00.545 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [10]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [25]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:48:06]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:00.547 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:48:06]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [24]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:38:56]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:38:56]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [23]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:37:42]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:00.548 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:37:42]
2025-09-22 16:39:00.550 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:39:00.554 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:00.554 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@46580818]
2025-09-22 16:39:00.565 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:01.751 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /tasks?page=0&size=10&sortBy=createdAt&sortDir=desc
2025-09-22 16:39:01.751 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /tasks/my
2025-09-22 16:39:01.752 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/tasks
2025-09-22 16:39:01.752 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/tasks, length: 306
2025-09-22 16:39:01.752 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/tasks/my
2025-09-22 16:39:01.752 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/tasks/my, length: 306
2025-09-22 16:39:01.754 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/tasks
2025-09-22 16:39:01.754 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/tasks/my
2025-09-22 16:39:01.772 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/tasks/my
2025-09-22 16:39:01.772 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/tasks
2025-09-22 16:39:01.778 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:39:01.778 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:39:01.782 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:39:01.782 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/tasks
2025-09-22 16:39:01.782 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:39:01.782 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:39:01.782 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/tasks/my
2025-09-22 16:39:01.782 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:39:01.783 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /tasks?page=0&size=10&sortBy=createdAt&sortDir=desc
2025-09-22 16:39:01.784 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /tasks/my
2025-09-22 16:39:01.784 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/tasks?page=0&size=10&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-09-22 16:39:01.784 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/tasks/my", parameters={}
2025-09-22 16:39:01.784 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.TaskController#getAllTasks(int, int, String, String)
2025-09-22 16:39:01.784 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.TaskController#getMyTasks()
2025-09-22 16:39:01.784 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.TaskController.getMyTasks(); target is of class [com.weeklyreport.controller.TaskController]
2025-09-22 16:39:01.784 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.TaskController.getMyTasks(); target is of class [com.weeklyreport.controller.TaskController]
2025-09-22 16:39:01.784 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.TaskController.getAllTasks(int,int,java.lang.String,java.lang.String); target is of class [com.weeklyreport.controller.TaskController]
2025-09-22 16:39:01.784 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:01.784 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(708764949<open>)] for JPA transaction
2025-09-22 16:39:01.785 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@51b811f7]
2025-09-22 16:39:01.785 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:39:01.785 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.TaskController.getAllTasks(int,int,java.lang.String,java.lang.String); target is of class [com.weeklyreport.controller.TaskController]
2025-09-22 16:39:01.785 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:01.785 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1525934647<open>)] for JPA transaction
2025-09-22 16:39:01.785 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@39858ac7]
2025-09-22 16:39:01.785 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:39:01.786 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:01.786 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:01.787 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:39:01.788 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:39:01.790 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:39:01.790 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:39:01.790 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:39:01.790 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:39:01.790 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:39:01.790 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:39:01.790 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:39:01.790 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:39:01.790 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$d2lKBDbiws0cAr.81QM8.eK9VhLcOMSnZ7FyMb18oj2bnxJluE5xC]
2025-09-22 16:39:01.790 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:01.790 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:39:01.790 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:39:01.790 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:39:01.790 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:01.790 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:39:01.790 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:39:01.791 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:01.791 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:01.791 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(708764949<open>)]
2025-09-22 16:39:01.791 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1525934647<open>)]
2025-09-22 16:39:01.792 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1525934647<open>)] after transaction
2025-09-22 16:39:01.792 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(708764949<open>)] after transaction
2025-09-22 16:39:01.792 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:01.792 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:01.794 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.expected_results,
        t1_0.personnel_assignment,
        t1_0.quantitative_metrics,
        t1_0.task_name,
        t1_0.timeline,
        t1_0.updated_at 
    from
        tasks t1_0 
    where
        t1_0.created_by=? 
    order by
        t1_0.created_at desc 
    limit
        ?, ?
Hibernate: 
    /* <criteria> */ select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.expected_results,
        t1_0.personnel_assignment,
        t1_0.quantitative_metrics,
        t1_0.task_name,
        t1_0.timeline,
        t1_0.updated_at 
    from
        tasks t1_0 
    where
        t1_0.created_by=? 
    order by
        t1_0.created_at desc 
    limit
        ?, ?
2025-09-22 16:39:01.794 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.expected_results,
        t1_0.personnel_assignment,
        t1_0.quantitative_metrics,
        t1_0.task_name,
        t1_0.timeline,
        t1_0.updated_at 
    from
        tasks t1_0 
    where
        t1_0.created_by=? 
    order by
        t1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        t1_0.id,
        t1_0.created_at,
        t1_0.created_by,
        t1_0.expected_results,
        t1_0.personnel_assignment,
        t1_0.quantitative_metrics,
        t1_0.task_name,
        t1_0.timeline,
        t1_0.updated_at 
    from
        tasks t1_0 
    where
        t1_0.created_by=? 
    order by
        t1_0.created_at desc
2025-09-22 16:39:01.794 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:39:01.794 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:39:01.794 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (2:INTEGER) <- [0]
2025-09-22 16:39:01.794 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (3:INTEGER) <- [10]
2025-09-22 16:39:01.796 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [25]
2025-09-22 16:39:01.796 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [25]
2025-09-22 16:39:01.796 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:48:06]
2025-09-22 16:39:01.796 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:01.796 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:48:06]
2025-09-22 16:39:01.796 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:01.796 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:01.796 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:01.796 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:01.796 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:48:06]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [24]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:48:06]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [24]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:38:56]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:38:56]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:38:56]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:38:56]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [23]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [23]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:37:42]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-20T17:37:42]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10004]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [Task successfully completed]
2025-09-22 16:39:01.797 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:01.797 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [manager1]
2025-09-22 16:39:01.798 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:01.798 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:01.798 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [Complete task 100%]
2025-09-22 16:39:01.798 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:01.798 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [Test Task]
2025-09-22 16:39:01.798 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:37:42]
2025-09-22 16:39:01.798 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1 week]
2025-09-22 16:39:01.798 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-20T17:37:42]
2025-09-22 16:39:01.799 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:01.799 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:39:01.799 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:01.799 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:01.799 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3d5d6ee2]
2025-09-22 16:39:01.799 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6f0e2b9f]
2025-09-22 16:39:01.800 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:01.800 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:02.402 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:39:02.402 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:39:02.402 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:39:10.900 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/logout
2025-09-22 16:39:10.903 [http-nio-8081-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:39:10.904 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/logout
2025-09-22 16:39:10.904 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-09-22 16:39:10.904 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#logout(HttpServletRequest)
2025-09-22 16:39:10.904 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.AuthController - Logout attempt
2025-09-22 16:39:10.904 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.logout]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:10.904 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(53284984<open>)] for JPA transaction
2025-09-22 16:39:10.904 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b4857f4]
2025-09-22 16:39:10.904 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.AuthService - Attempting logout
2025-09-22 16:39:10.905 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.AuthService - User logged out successfully
2025-09-22 16:39:10.905 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:10.905 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(53284984<open>)]
2025-09-22 16:39:10.907 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(53284984<open>)] after transaction
2025-09-22 16:39:10.907 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.AuthController - Logout successful
2025-09-22 16:39:10.907 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:10.908 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@351f1a24]
2025-09-22 16:39:10.908 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:15.456 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-22 16:39:15.457 [http-nio-8081-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:39:15.458 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-22 16:39:15.458 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-22 16:39:15.458 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-22 16:39:15.459 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='admin2', password='[PROTECTED]', rememberMe=false}]
2025-09-22 16:39:15.459 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: admin2
2025-09-22 16:39:15.459 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:15.459 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1596409535<open>)] for JPA transaction
2025-09-22 16:39:15.460 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@70a6c980]
2025-09-22 16:39:15.460 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.AuthService - Attempting login for user: admin2
2025-09-22 16:39:15.461 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:15.463 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:39:15.464 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:39:15.465 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:15.465 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:39:15.465 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:39:15.465 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:39:15.465 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:15.465 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:15.465 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:39:15.805 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.AuthService - User admin2 logged in successfully
2025-09-22 16:39:15.806 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:15.806 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1596409535<open>)]
2025-09-22 16:39:15.806 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1596409535<open>)] after transaction
2025-09-22 16:39:15.807 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.AuthController - Login successful for user: admin2
2025-09-22 16:39:15.807 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:15.807 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4da4ad04]
2025-09-22 16:39:15.807 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:15.971 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:39:15.972 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:39:15.972 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 295
2025-09-22 16:39:15.974 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:39:15.975 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:39:15.976 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:15.977 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:15.977 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports/my
2025-09-22 16:39:15.977 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:15.979 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:39:15.979 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:39:15.979 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:39:15.979 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:39:15.980 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:15.980 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(578725700<open>)] for JPA transaction
2025-09-22 16:39:15.980 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@687279e2]
2025-09-22 16:39:15.980 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:39:15.981 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:15.981 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:39:15.983 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:39:15.983 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:15.983 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:39:15.983 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:39:15.983 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:39:15.983 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:15.983 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:15.983 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:39:15.984 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:15.984 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(578725700<open>)]
2025-09-22 16:39:15.985 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(578725700<open>)] after transaction
2025-09-22 16:39:15.985 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN
2025-09-22 16:39:15.985 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:39:15.985 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(495774810<open>)] for JPA transaction
2025-09-22 16:39:15.985 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6b00f1de]
2025-09-22 16:39:15.986 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10047
2025-09-22 16:39:15.987 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:39:15.987 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10047]
2025-09-22 16:39:15.991 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 0
2025-09-22 16:39:15.992 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:39:15.992 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10047]
2025-09-22 16:39:15.995 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 0
2025-09-22 16:39:15.995 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:39:15.995 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:15.995 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(495774810<open>)]
2025-09-22 16:39:15.996 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(495774810<open>)] after transaction
2025-09-22 16:39:15.996 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 从数据库获取到的周报数量: 0
2025-09-22 16:39:15.996 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报列表：
2025-09-22 16:39:15.997 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:15.997 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6ec96130]
2025-09-22 16:39:15.997 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:21.151 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:39:21.152 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:39:21.152 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 295
2025-09-22 16:39:21.155 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:39:21.164 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:39:21.171 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:21.175 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:21.175 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/pending-review
2025-09-22 16:39:21.175 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:21.176 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:39:21.176 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:39:21.176 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:39:21.176 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:21.177 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:21.180 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:21.184 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:39:21.190 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:21.191 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Admin fetching pending review projects: 0
2025-09-22 16:39:21.191 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:39:21.192 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:21.192 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3691078b]
2025-09-22 16:39:21.192 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:22.327 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:39:22.327 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:39:22.327 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 295
2025-09-22 16:39:22.328 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:39:22.329 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:39:22.330 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:22.331 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:22.331 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/approved
2025-09-22 16:39:22.331 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:22.332 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:39:22.332 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:39:22.332 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:39:22.333 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:22.333 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:22.334 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:22.336 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:39:22.341 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:39:22.341 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:39:22.341 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:39:22.342 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:39:22.342 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:39:22.342 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:39:22.342 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:39:22.342 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:39:22.342 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:39:22.342 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:39:22.343 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:39:22.343 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:39:22.343 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:39:22.343 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:39:22.344 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:39:22.346 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:22.350 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Admin fetching approved projects: 1
2025-09-22 16:39:22.353 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:22.354 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:39:22.354 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:39:22.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:39:22.356 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:39:22.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:39:22.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:39:22.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:39:22.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:39:22.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:39:22.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:39:22.357 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:39:22.357 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:22.358 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:39:22.358 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:39:22.358 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:22.358 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@60d2d3f9]
2025-09-22 16:39:22.358 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:25.479 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:39:25.479 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:39:25.480 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 295
2025-09-22 16:39:25.480 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:39:25.481 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:39:25.482 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:25.483 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:25.483 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/rejected
2025-09-22 16:39:25.483 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:25.484 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:39:25.484 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:39:25.485 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:39:25.485 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:25.485 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:25.486 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:25.487 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:39:25.490 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [36]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["AI不通过"]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:39:25.491 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:39:25.492 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:39:25.492 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:39:25.492 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:39:25.492 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:39:25.492 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:39:25.492 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:39:25.493 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:25.493 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Admin fetching rejected projects: 1
2025-09-22 16:39:25.494 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:25.494 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:39:25.494 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:39:25.496 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:39:25.496 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:39:25.496 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:39:25.496 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:39:25.496 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:39:25.497 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:39:25.497 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:39:25.497 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:39:25.497 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:39:25.498 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:25.498 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - Project 64 loaded with 1 phases, AI result: No
2025-09-22 16:39:25.498 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 rejected projects
2025-09-22 16:39:25.498 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:25.498 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@39b082de]
2025-09-22 16:39:25.499 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:25.994 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:39:25.995 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:39:25.995 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 295
2025-09-22 16:39:25.996 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:39:25.996 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:39:25.997 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:25.998 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:25.998 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/approved
2025-09-22 16:39:25.998 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:25.999 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:39:25.999 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:39:25.999 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:39:26.000 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:26.000 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:26.000 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:26.001 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:39:26.005 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:39:26.005 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:39:26.005 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:39:26.005 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:39:26.005 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:39:26.005 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:39:26.006 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:39:26.007 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:39:26.007 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:39:26.007 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:39:26.007 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:39:26.007 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:39:26.007 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:39:26.008 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:26.008 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Admin fetching approved projects: 1
2025-09-22 16:39:26.009 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:26.009 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:39:26.009 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:39:26.011 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:39:26.012 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:26.013 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:39:26.013 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:39:26.013 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:26.013 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@346c27b9]
2025-09-22 16:39:26.013 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:26.426 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:39:26.427 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:39:26.427 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 295
2025-09-22 16:39:26.428 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:39:26.429 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:39:26.430 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:26.431 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:26.431 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/pending-review
2025-09-22 16:39:26.431 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:26.432 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:39:26.432 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:39:26.432 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:39:26.432 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:26.432 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:26.434 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:26.434 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:39:26.440 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:39:26.440 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.ProjectController - Admin fetching pending review projects: 0
2025-09-22 16:39:26.440 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:39:26.440 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:26.440 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1c1fa152]
2025-09-22 16:39:26.441 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:29.789 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_REVIEWING
2025-09-22 16:39:29.790 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:39:29.790 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:39:29.792 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:39:29.804 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:39:29.807 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:29.809 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:29.809 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:39:29.809 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:29.810 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_REVIEWING
2025-09-22 16:39:29.811 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_REVIEWING", parameters={masked}
2025-09-22 16:39:29.811 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:39:29.812 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:39:29.812 [http-nio-8081-exec-1] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:39:29.812 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:29.812 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1121667606<open>)] for JPA transaction
2025-09-22 16:39:29.812 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@36805651]
2025-09-22 16:39:29.812 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:39:29.814 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:29.816 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:39:29.817 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:29.818 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1121667606<open>)]
2025-09-22 16:39:29.819 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1121667606<open>)] after transaction
2025-09-22 16:39:29.819 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:39:29.820 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:39:29.820 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_REVIEWING
2025-09-22 16:39:29.820 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:39:29.820 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2011256958<open>)] for JPA transaction
2025-09-22 16:39:29.821 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21d1f081]
2025-09-22 16:39:29.823 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:39:29.824 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_REVIEWING]
2025-09-22 16:39:29.825 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:29.825 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2011256958<open>)]
2025-09-22 16:39:29.826 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2011256958<open>)] after transaction
2025-09-22 16:39:29.826 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报数量: 0
2025-09-22 16:39:29.826 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:29.826 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7789df1]
2025-09-22 16:39:29.827 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:30.750 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_APPROVED
2025-09-22 16:39:30.750 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:39:30.750 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:39:30.752 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:39:30.754 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:39:30.759 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:30.761 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:30.761 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:39:30.761 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:30.763 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_APPROVED
2025-09-22 16:39:30.763 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_APPROVED", parameters={masked}
2025-09-22 16:39:30.763 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:39:30.763 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:39:30.764 [http-nio-8081-exec-2] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:39:30.764 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:30.764 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1732931840<open>)] for JPA transaction
2025-09-22 16:39:30.764 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@8c54856]
2025-09-22 16:39:30.764 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:39:30.765 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:30.766 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:39:30.769 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:39:30.769 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:30.769 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:39:30.769 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:39:30.769 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:39:30.769 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:30.769 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:30.769 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:39:30.770 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:30.770 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1732931840<open>)]
2025-09-22 16:39:30.773 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1732931840<open>)] after transaction
2025-09-22 16:39:30.773 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:39:30.773 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:39:30.773 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_APPROVED
2025-09-22 16:39:30.773 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:39:30.773 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1710568501<open>)] for JPA transaction
2025-09-22 16:39:30.774 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@a4df4ae]
2025-09-22 16:39:30.775 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:39:30.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_APPROVED]
2025-09-22 16:39:30.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:39:30.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:39:30.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:39:30.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:39:30.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:39:30.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:39:30.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:39:30.783 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:39:30.783 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:39:30.783 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:39:30.783 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:39:30.783 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:39:30.783 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:39:30.783 [http-nio-8081-exec-2] ERROR com.weeklyreport.service.WeeklyReportService - 根据状态获取周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getWeeklyReportsByStatusWithAIAnalysis$21(WeeklyReportService.java:938)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis(WeeklyReportService.java:972)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getWeeklyReportsByStatusWithAIAnalysis(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getAllWeeklyReports(WeeklyReportController.java:608)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:39:30.786 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:39:30.786 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1710568501<open>)]
2025-09-22 16:39:30.787 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1710568501<open>)] after transaction
2025-09-22 16:39:30.787 [http-nio-8081-exec-2] ERROR c.weeklyreport.controller.WeeklyReportController - 获取周报列表失败
java.lang.RuntimeException: 根据状态获取周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis(WeeklyReportService.java:976)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getWeeklyReportsByStatusWithAIAnalysis(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getAllWeeklyReports(WeeklyReportController.java:608)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:39:30.789 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:30.789 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@61b1320a]
2025-09-22 16:39:30.789 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:39:31.156 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_REJECTED
2025-09-22 16:39:31.156 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:39:31.156 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:39:31.157 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:39:31.159 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:39:31.160 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:31.163 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:31.163 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:39:31.163 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:31.164 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_REJECTED
2025-09-22 16:39:31.164 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_REJECTED", parameters={masked}
2025-09-22 16:39:31.165 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:39:31.165 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:39:31.165 [http-nio-8081-exec-3] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:39:31.165 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:31.165 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(276546296<open>)] for JPA transaction
2025-09-22 16:39:31.165 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7abd14f5]
2025-09-22 16:39:31.165 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:39:31.167 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:31.169 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:39:31.170 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:39:31.170 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:31.170 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:39:31.170 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:39:31.170 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:39:31.170 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:31.170 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:31.170 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:39:31.171 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:31.171 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(276546296<open>)]
2025-09-22 16:39:31.171 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(276546296<open>)] after transaction
2025-09-22 16:39:31.171 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:39:31.171 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:39:31.171 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_REJECTED
2025-09-22 16:39:31.172 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:39:31.172 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1973044880<open>)] for JPA transaction
2025-09-22 16:39:31.172 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75ab744]
2025-09-22 16:39:31.173 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:39:31.173 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_REJECTED]
2025-09-22 16:39:31.175 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:31.175 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1973044880<open>)]
2025-09-22 16:39:31.176 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1973044880<open>)] after transaction
2025-09-22 16:39:31.176 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报数量: 0
2025-09-22 16:39:31.176 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:31.176 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7c84844d]
2025-09-22 16:39:31.176 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:31.761 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_REVIEWING
2025-09-22 16:39:31.762 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:39:31.762 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:39:31.763 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:39:31.766 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:39:31.770 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:31.772 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:31.772 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:39:31.772 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:31.774 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_REVIEWING
2025-09-22 16:39:31.774 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_REVIEWING", parameters={masked}
2025-09-22 16:39:31.774 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:39:31.774 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:39:31.774 [http-nio-8081-exec-4] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:39:31.774 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:31.775 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1454127896<open>)] for JPA transaction
2025-09-22 16:39:31.775 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@30af6a3c]
2025-09-22 16:39:31.775 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:39:31.775 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:31.777 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:31.778 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1454127896<open>)]
2025-09-22 16:39:31.779 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1454127896<open>)] after transaction
2025-09-22 16:39:31.779 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:39:31.779 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:39:31.779 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_REVIEWING
2025-09-22 16:39:31.779 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:39:31.779 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1640153782<open>)] for JPA transaction
2025-09-22 16:39:31.780 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@489d162b]
2025-09-22 16:39:31.781 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:39:31.782 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_REVIEWING]
2025-09-22 16:39:31.784 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:31.784 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1640153782<open>)]
2025-09-22 16:39:31.785 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1640153782<open>)] after transaction
2025-09-22 16:39:31.785 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报数量: 0
2025-09-22 16:39:31.785 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:31.785 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@669839da]
2025-09-22 16:39:31.786 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:32.053 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_APPROVED
2025-09-22 16:39:32.053 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:39:32.053 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:39:32.055 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:39:32.056 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:39:32.059 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:39:32.062 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:39:32.062 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:39:32.062 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:39:32.063 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_APPROVED
2025-09-22 16:39:32.063 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_APPROVED", parameters={masked}
2025-09-22 16:39:32.063 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:39:32.063 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:39:32.063 [http-nio-8081-exec-5] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:39:32.063 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:32.064 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1415427657<open>)] for JPA transaction
2025-09-22 16:39:32.064 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@31b6f2ff]
2025-09-22 16:39:32.064 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:39:32.073 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:32.074 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:32.079 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1415427657<open>)]
2025-09-22 16:39:32.081 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1415427657<open>)] after transaction
2025-09-22 16:39:32.081 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:39:32.081 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:39:32.081 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_APPROVED
2025-09-22 16:39:32.082 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:39:32.082 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(720858031<open>)] for JPA transaction
2025-09-22 16:39:32.083 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@675872c2]
2025-09-22 16:39:32.084 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:39:32.085 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_APPROVED]
2025-09-22 16:39:32.086 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:39:32.087 [http-nio-8081-exec-5] ERROR com.weeklyreport.service.WeeklyReportService - 根据状态获取周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getWeeklyReportsByStatusWithAIAnalysis$21(WeeklyReportService.java:938)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis(WeeklyReportService.java:972)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getWeeklyReportsByStatusWithAIAnalysis(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getAllWeeklyReports(WeeklyReportController.java:608)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:39:32.088 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:39:32.088 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(720858031<open>)]
2025-09-22 16:39:32.089 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(720858031<open>)] after transaction
2025-09-22 16:39:32.089 [http-nio-8081-exec-5] ERROR c.weeklyreport.controller.WeeklyReportController - 获取周报列表失败
java.lang.RuntimeException: 根据状态获取周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis(WeeklyReportService.java:976)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getWeeklyReportsByStatusWithAIAnalysis(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getAllWeeklyReports(WeeklyReportController.java:608)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:39:32.090 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:32.090 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@30b64bf7]
2025-09-22 16:39:32.090 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:39:32.402 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:39:32.402 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:39:32.402 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:39:35.681 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/logout
2025-09-22 16:39:35.682 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/logout
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#logout(HttpServletRequest)
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.AuthController - Logout attempt
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.logout]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1784687652<open>)] for JPA transaction
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@478aa214]
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.AuthService - Attempting logout
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.AuthService - User logged out successfully
2025-09-22 16:39:35.683 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:35.684 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1784687652<open>)]
2025-09-22 16:39:35.686 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1784687652<open>)] after transaction
2025-09-22 16:39:35.686 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.AuthController - Logout successful
2025-09-22 16:39:35.686 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:35.686 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@50fdea64]
2025-09-22 16:39:35.688 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:57.379 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-22 16:39:57.383 [http-nio-8081-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:39:57.388 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-22 16:39:57.388 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-22 16:39:57.388 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-22 16:39:57.394 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='superadmin', password='[PROTECTED]', rememberMe=false}]
2025-09-22 16:39:57.397 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: superadmin
2025-09-22 16:39:57.398 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:39:57.399 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(812024834<open>)] for JPA transaction
2025-09-22 16:39:57.400 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6846b480]
2025-09-22 16:39:57.400 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.AuthService - Attempting login for user: superadmin
2025-09-22 16:39:57.407 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:39:57.412 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [superadmin]
2025-09-22 16:39:57.416 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10000]
2025-09-22 16:39:57.416 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:39:57.416 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [superadmin@weeklyreport.com]
2025-09-22 16:39:57.416 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$Dj5IyhwQXfYIcm4.aOcMu.bPnD5hAPh1QbvVBF0r6fqPoItbDVjze]
2025-09-22 16:39:57.416 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [SUPER_ADMIN]
2025-09-22 16:39:57.416 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:39:57.416 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:33:03]
2025-09-22 16:39:57.416 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [superadmin]
2025-09-22 16:39:57.737 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.AuthService - User superadmin logged in successfully
2025-09-22 16:39:57.737 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:39:57.737 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(812024834<open>)]
2025-09-22 16:39:57.739 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(812024834<open>)] after transaction
2025-09-22 16:39:57.739 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.AuthController - Login successful for user: superadmin
2025-09-22 16:39:57.740 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:57.740 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@37143a7c]
2025-09-22 16:39:57.741 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:39:57.869 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:39:57.869 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:39:57.869 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:39:57.871 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:39:57.873 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:39:57.875 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:39:57.876 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:39:57.876 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:39:57.876 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:39:57.877 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:39:57.877 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:39:57.877 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:39:57.877 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:57.878 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:39:57.881 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:39:57.882 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:39:57.889 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:39:57.890 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:39:57.890 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:39:57.890 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:39:57.890 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7119bd74]
2025-09-22 16:39:57.890 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:02.404 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:40:02.404 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:40:02.404 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:40:06.389 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:40:06.391 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:40:06.391 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:40:06.393 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:40:06.394 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:40:06.396 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:06.398 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:06.398 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:40:06.398 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:06.401 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:40:06.401 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:40:06.402 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:40:06.402 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:06.403 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:06.405 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:06.406 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:06.412 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:40:06.412 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:40:06.412 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:40:06.412 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:06.413 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:06.414 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:06.415 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:40:06.416 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:06.416 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:06.416 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:40:06.418 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:06.419 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:06.420 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:40:06.420 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:40:06.420 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:06.420 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@343d3d88]
2025-09-22 16:40:06.420 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:07.238 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:40:07.238 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:40:07.238 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:40:07.239 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:40:07.240 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:40:07.241 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:07.242 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:07.242 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:40:07.242 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:07.243 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:40:07.243 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:40:07.243 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:40:07.243 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:07.243 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:07.244 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:07.245 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:07.251 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:07.252 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:07.253 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:07.254 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:07.255 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:40:07.255 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:40:07.257 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:07.257 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:07.260 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:07.261 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:40:07.262 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:07.262 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:07.262 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:07.262 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:07.262 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:07.262 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:40:07.262 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:07.262 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:07.263 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:40:07.263 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:40:07.263 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:07.264 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:07.264 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:40:07.265 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:40:07.265 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:07.265 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:40:07.265 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:07.265 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:07.265 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:07.265 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:40:07.265 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:07.266 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:40:07.268 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:40:07.268 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:40:07.269 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:07.269 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:07.269 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:07.271 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:07.272 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:40:07.272 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:40:07.273 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:07.273 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:07.273 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:07.275 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:07.276 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:40:07.276 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:40:07.276 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:40:07.277 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:07.277 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1236e21f]
2025-09-22 16:40:07.277 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:07.768 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:40:07.768 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:40:07.769 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:40:07.810 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:40:07.815 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:40:07.818 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:07.821 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:07.821 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:40:07.821 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:07.823 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:40:07.823 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:40:07.823 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:40:07.823 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:07.823 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:07.824 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:07.824 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:07.829 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:07.830 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:07.830 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:40:07.831 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:07.831 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:07.831 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:07.835 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:07.836 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:07.837 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:40:07.837 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:40:07.838 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:07.838 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5da3fda1]
2025-09-22 16:40:07.839 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:08.277 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:40:08.277 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:40:08.277 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:40:08.278 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:40:08.279 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:40:08.279 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:08.281 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:08.281 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:40:08.281 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:08.282 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:40:08.282 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:40:08.283 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:40:08.283 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:08.283 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:08.285 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:08.285 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:40:08.292 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:40:08.293 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:40:08.293 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:40:08.294 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:08.294 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2a0ec57a]
2025-09-22 16:40:08.294 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:08.798 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:40:08.798 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:40:08.798 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:40:08.799 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:40:08.802 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:40:08.804 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:08.805 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:08.805 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:40:08.805 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:08.807 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:40:08.807 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:40:08.807 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:40:08.807 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:08.807 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:08.808 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:08.808 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:40:08.814 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:08.815 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:08.816 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:08.817 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:40:08.817 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:08.817 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:08.818 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:08.819 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:08.820 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:08.820 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:40:08.821 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:08.821 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:08.822 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:40:08.823 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:40:08.823 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:08.823 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:40:08.823 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:08.823 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:08.823 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:08.823 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:40:08.823 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:08.824 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:40:08.824 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:08.824 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:40:08.825 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:08.825 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:08.825 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:40:08.827 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:08.828 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:08.828 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:08.829 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:40:08.829 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:08.829 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:08.829 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:08.831 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:08.832 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:40:08.832 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:40:08.832 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:08.832 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@770f29c8]
2025-09-22 16:40:08.832 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:15.287 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:40:15.288 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:40:15.288 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:40:15.289 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:40:15.290 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:40:15.291 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:15.292 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:15.292 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:40:15.292 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:15.293 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:40:15.294 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:40:15.294 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:40:15.294 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:15.294 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:15.296 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:15.297 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:15.302 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:15.303 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:15.304 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:40:15.304 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:15.304 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:15.305 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:15.306 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:15.307 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:15.307 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:40:15.307 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:40:15.307 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:15.307 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@337bcfff]
2025-09-22 16:40:15.308 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:16.514 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:40:16.515 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:40:16.515 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:40:16.516 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:40:16.517 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:40:16.518 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:16.519 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:16.519 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:40:16.519 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:16.520 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:40:16.520 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:40:16.520 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:40:16.520 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:16.520 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:16.521 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:16.522 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:16.525 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:16.526 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:16.527 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:16.527 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:40:16.528 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:16.528 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:16.528 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:16.530 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:16.531 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:16.531 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:40:16.532 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:16.532 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:16.532 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:40:16.533 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:40:16.534 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:16.535 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:40:16.535 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:16.535 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:16.536 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:16.538 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:16.539 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:16.539 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:40:16.539 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:16.540 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:16.540 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:16.541 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:16.542 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:16.542 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:40:16.542 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:40:16.543 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:16.543 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@197d766]
2025-09-22 16:40:16.543 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:17.287 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:40:17.287 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:40:17.287 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:40:17.289 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:40:17.290 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:40:17.291 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:17.293 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:17.293 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:40:17.293 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:17.295 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:40:17.295 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:40:17.295 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:40:17.295 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:17.295 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:17.296 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:17.297 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:17.302 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:40:17.302 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:40:17.302 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:40:17.303 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:17.305 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:17.305 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:40:17.305 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:17.305 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:17.306 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:17.306 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:17.306 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:17.306 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:17.306 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:17.306 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:17.311 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:17.313 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:40:17.313 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:17.314 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:17.314 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:40:17.317 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:40:17.317 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:40:17.318 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:17.319 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:17.319 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:17.319 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:40:17.319 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:40:17.319 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:17.319 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:17.322 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:17.322 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:40:17.322 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:40:17.323 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:17.323 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@30ef3ab6]
2025-09-22 16:40:17.324 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:17.923 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:40:17.924 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:40:17.924 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:40:17.925 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:40:17.927 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:40:17.929 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:17.930 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:17.931 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:40:17.931 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:17.932 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:40:17.932 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:40:17.933 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:40:17.933 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:17.933 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:17.934 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:17.935 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:40:17.940 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:17.941 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:40:17.941 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:40:17.941 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:17.941 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@46aa57f3]
2025-09-22 16:40:17.941 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:18.405 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:40:18.405 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:40:18.405 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:40:18.406 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:40:18.407 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:40:18.407 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:18.409 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:18.409 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:40:18.409 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:18.409 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:40:18.409 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:40:18.409 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:40:18.410 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:18.410 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:18.410 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:18.411 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:18.413 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:18.414 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:18.414 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:40:18.415 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:18.415 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:18.416 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:18.418 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:40:18.419 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:18.420 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:40:18.420 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:40:18.420 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:18.420 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@18dc6b8d]
2025-09-22 16:40:18.420 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:18.753 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:40:18.754 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:40:18.754 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:40:18.754 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:40:18.755 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:40:18.756 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:40:18.757 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:18.757 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:40:18.757 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:40:18.758 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:40:18.758 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:40:18.758 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:40:18.758 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:18.758 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:40:18.759 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:18.759 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:40:18.762 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:40:18.763 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:40:18.764 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:18.766 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:40:18.772 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:18.777 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:18.777 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:18.781 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:40:18.783 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:18.783 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:40:18.783 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:18.783 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:18.784 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:40:18.785 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:18.786 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:40:18.786 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:18.786 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:18.786 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:18.787 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:40:18.788 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:18.788 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:40:18.788 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:40:18.789 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:40:18.789 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:40:18.790 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:40:18.791 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:40:18.791 [http-nio-8081-exec-10] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:40:18.791 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:40:18.791 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:40:18.791 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@57185244]
2025-09-22 16:40:18.791 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:40:32.404 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:40:32.405 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:40:32.405 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:41:02.404 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:41:02.406 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:41:02.406 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:41:03.926 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:41:03.931 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:41:03.931 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:41:03.934 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:41:03.939 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:41:03.941 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:03.943 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:03.943 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:41:03.943 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:03.949 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:41:03.950 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:41:03.950 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:41:03.950 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:03.952 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:03.958 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:03.963 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:03.982 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:41:03.982 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:03.983 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:03.985 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:41:03.986 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:41:03.987 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:03.988 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:03.989 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:41:03.993 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:41:03.996 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:41:03.996 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:03.996 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:03.996 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:03.996 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:41:03.996 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:41:03.996 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:03.996 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:04.002 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:41:04.003 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:41:04.003 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:41:04.005 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:04.005 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@34df901f]
2025-09-22 16:41:04.007 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:04.524 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:41:04.524 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:41:04.524 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:41:04.551 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:41:04.552 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:41:04.553 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:04.558 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:04.558 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:41:04.558 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:04.559 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:41:04.560 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:41:04.560 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:41:04.560 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:04.561 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:04.562 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:04.562 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:41:04.569 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:04.569 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:41:04.569 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:41:04.570 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:04.570 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7df582ac]
2025-09-22 16:41:04.570 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:05.454 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:41:05.454 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:41:05.454 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:41:05.455 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:41:05.456 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:41:05.456 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:05.458 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:05.458 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:41:05.458 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:05.458 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:41:05.459 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:41:05.459 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:41:05.459 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:05.459 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:05.459 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:05.460 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:41:05.465 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:05.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:05.467 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:41:05.468 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:41:05.468 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:05.468 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:05.469 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:05.471 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:05.472 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:41:05.472 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:41:05.472 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:41:05.472 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:05.472 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3cbf6881]
2025-09-22 16:41:05.473 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:06.076 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:41:06.076 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:41:06.076 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:41:06.077 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:41:06.078 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:41:06.079 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:06.081 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:06.081 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:41:06.081 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:06.081 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:41:06.081 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:41:06.081 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:41:06.082 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:06.082 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:06.082 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:06.083 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:06.086 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:41:06.086 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:41:06.086 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:41:06.086 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:06.086 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:06.086 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:06.087 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:06.088 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:06.089 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:06.089 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:41:06.090 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:06.090 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:06.090 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:41:06.091 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:06.092 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:41:06.093 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:06.093 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:06.093 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:06.094 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:41:06.095 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:06.095 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:06.095 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:06.096 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:06.097 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:06.097 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:41:06.097 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:06.097 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:06.097 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:41:06.098 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:06.099 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:06.100 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:06.100 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:41:06.100 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:41:06.100 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:06.100 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@274db252]
2025-09-22 16:41:06.101 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:06.607 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:41:06.607 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:41:06.607 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:41:06.608 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:41:06.609 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:41:06.611 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:06.612 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:06.612 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:41:06.612 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:06.614 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:41:06.614 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:41:06.614 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:41:06.614 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:06.614 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:06.615 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:06.616 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:41:06.620 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:06.621 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:06.622 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:06.622 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:41:06.623 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:06.625 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:06.625 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:06.639 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:06.640 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:06.640 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:41:06.640 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:41:06.640 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:06.640 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5d41f296]
2025-09-22 16:41:06.641 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:07.139 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:41:07.139 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:41:07.139 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:41:07.140 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:41:07.141 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:41:07.142 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:07.144 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:07.144 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:41:07.144 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:07.145 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:41:07.145 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:41:07.145 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:41:07.145 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:07.145 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:07.146 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:07.147 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:41:07.151 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:07.151 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:41:07.151 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:41:07.151 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:07.151 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@35259dda]
2025-09-22 16:41:07.152 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:07.641 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:41:07.649 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:41:07.649 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:41:07.650 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:41:07.651 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:41:07.655 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:07.659 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:07.659 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:41:07.659 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:07.661 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:41:07.661 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:41:07.661 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:41:07.662 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:07.662 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:07.663 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:07.664 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:07.666 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:07.667 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:41:07.667 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:07.667 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:07.667 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:41:07.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:41:07.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:41:07.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:07.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:07.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:07.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:41:07.669 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:41:07.669 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:07.669 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:07.669 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:07.669 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:41:07.669 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:41:07.669 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:07.669 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@73d0b11a]
2025-09-22 16:41:07.670 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:08.127 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:41:08.128 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:41:08.128 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:41:08.129 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:41:08.130 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:41:08.130 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:08.132 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:08.132 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:41:08.132 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:08.133 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:41:08.133 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:41:08.133 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:41:08.133 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:08.133 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:08.134 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:08.134 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:08.137 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:08.138 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:08.139 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:08.139 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:41:08.140 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:08.140 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:08.140 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:41:08.141 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:41:08.141 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:08.141 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:08.141 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:08.141 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:08.141 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:41:08.141 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:08.142 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:08.143 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:08.143 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:41:08.144 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:08.144 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:08.144 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:41:08.146 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:41:08.146 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:08.146 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:08.146 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:08.146 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:08.146 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:08.147 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:41:08.147 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:08.147 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:08.148 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:08.148 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:41:08.148 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:08.148 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:08.149 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:08.150 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:08.151 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:08.151 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:41:08.152 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:08.152 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:08.152 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:08.153 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:08.154 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:08.154 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:41:08.154 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:41:08.154 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:08.154 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7e530b07]
2025-09-22 16:41:08.155 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:09.190 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:41:09.190 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:41:09.190 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:41:09.191 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:41:09.192 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:41:09.193 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:09.194 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:09.194 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:41:09.194 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:09.195 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:41:09.195 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:41:09.196 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:41:09.196 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:09.196 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:09.197 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:09.197 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:09.200 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:09.201 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:09.201 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:41:09.202 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:09.202 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:09.203 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:09.208 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:09.209 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:09.209 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:41:09.209 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:41:09.210 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:09.210 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1954b79d]
2025-09-22 16:41:09.211 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:09.594 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:41:09.595 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:41:09.595 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:41:09.595 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:41:09.596 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:41:09.599 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:09.601 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:09.601 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:41:09.601 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:09.601 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:41:09.601 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:41:09.602 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:41:09.602 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:09.602 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:09.602 [http-nio-8081-exec-10] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:09.603 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:41:09.606 [http-nio-8081-exec-10] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:09.606 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:41:09.606 [http-nio-8081-exec-10] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:41:09.606 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:09.606 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2d535323]
2025-09-22 16:41:09.607 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:09.998 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:41:09.998 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:41:09.998 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:41:09.999 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:41:10.000 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:41:10.001 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:10.003 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:10.003 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:41:10.003 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:10.004 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:41:10.004 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:41:10.004 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:41:10.005 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:10.005 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:10.005 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:10.006 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:10.009 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:10.010 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:41:10.010 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:41:10.011 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:10.011 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:10.011 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:10.013 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:10.014 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:41:10.015 [http-nio-8081-exec-9] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:41:10.015 [http-nio-8081-exec-9] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:41:10.015 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:10.015 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6ff6b565]
2025-09-22 16:41:10.016 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:10.438 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:41:10.438 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:41:10.438 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:41:10.439 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:41:10.440 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:41:10.441 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:10.443 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:10.443 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:41:10.443 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:10.443 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:41:10.443 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:41:10.443 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:41:10.444 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:10.444 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:10.444 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:10.445 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:10.449 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:10.450 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:41:10.451 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:10.452 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:10.453 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:10.453 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:41:10.454 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:10.456 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:10.456 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:41:10.457 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:10.458 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:10.459 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:10.459 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:41:10.459 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:10.459 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:10.459 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:10.461 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:10.462 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:41:10.462 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:10.462 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:10.462 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:10.464 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:10.465 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:10.465 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:41:10.465 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:10.466 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:10.466 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:10.467 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:10.468 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:10.469 [http-nio-8081-exec-1] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:41:10.469 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:41:10.469 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:10.469 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3061c922]
2025-09-22 16:41:10.470 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:17.341 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:41:17.344 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:41:17.345 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:41:17.349 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:41:17.350 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:41:17.351 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:17.355 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:17.355 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:41:17.355 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:17.366 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:41:17.366 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:41:17.366 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:41:17.367 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:17.368 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:17.372 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:17.374 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:41:17.380 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:17.381 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:17.382 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:41:17.382 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:41:17.383 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:17.383 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:17.384 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:41:17.386 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:41:17.386 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:41:17.387 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:17.387 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:17.387 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:17.387 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:41:17.387 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:41:17.387 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:17.387 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:17.388 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:41:17.388 [http-nio-8081-exec-2] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:41:17.388 [http-nio-8081-exec-2] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:41:17.389 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:17.389 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@275f9275]
2025-09-22 16:41:17.390 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:17.822 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:41:17.823 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:41:17.823 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:41:17.824 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:41:17.825 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:41:17.826 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:17.827 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:17.827 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:41:17.827 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:17.829 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:41:17.829 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:41:17.829 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:41:17.829 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:17.829 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:17.830 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:17.831 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:41:17.838 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:17.839 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:17.840 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:17.840 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:41:17.841 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:17.841 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:17.841 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:41:17.842 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:17.843 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:17.844 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:17.844 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:41:17.844 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:17.845 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:17.845 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:17.847 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:17.848 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:17.848 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:41:17.848 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:17.849 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:17.849 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:17.850 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:17.851 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:17.851 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:41:17.851 [http-nio-8081-exec-3] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:17.852 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:17.852 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:41:17.853 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:41:17.854 [http-nio-8081-exec-3] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:41:17.855 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:17.855 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6294fe35]
2025-09-22 16:41:17.855 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:18.426 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:41:18.426 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:41:18.426 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 319
2025-09-22 16:41:18.427 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:41:18.429 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:41:18.430 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:18.431 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:18.432 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/approved
2025-09-22 16:41:18.432 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:18.432 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:41:18.433 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:41:18.433 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:41:18.433 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:18.433 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:18.434 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:18.434 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:18.439 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:18.440 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:18.440 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching approved projects: 1
2025-09-22 16:41:18.441 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:18.441 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:18.441 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:41:18.445 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:41:18.445 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:41:18.445 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:18.445 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:18.445 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:18.445 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:41:18.445 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:41:18.445 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:18.446 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:41:18.446 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:18.447 [http-nio-8081-exec-4] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:41:18.447 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:41:18.447 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:18.447 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2c499d51]
2025-09-22 16:41:18.448 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:18.976 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:41:18.977 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:41:18.977 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:41:18.978 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:41:18.981 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:41:18.982 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:18.985 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:18.985 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:41:18.985 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:18.986 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:41:18.987 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:41:18.987 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:41:18.987 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:18.987 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:18.988 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:18.989 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:41:18.992 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:18.992 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:41:18.992 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:41:18.992 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:18.992 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1e581996]
2025-09-22 16:41:18.993 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:23.534 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:41:23.534 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:41:23.534 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 319
2025-09-22 16:41:23.539 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:41:23.542 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:41:23.545 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:23.548 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:23.548 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/rejected
2025-09-22 16:41:23.549 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:23.550 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:41:23.550 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:41:23.550 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:41:23.550 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:23.551 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:23.552 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:23.552 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:41:23.555 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:41:23.555 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5555]
2025-09-22 16:41:23.555 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [2]
2025-09-22 16:41:23.555 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:23.555 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [35]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [3]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [3]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [3]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [3]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [3]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [32]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["333"]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [22]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [22]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [2]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [2]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [31]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["44444"]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:23.556 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [1]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [1]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [30]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10003]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["555"]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:41:23.557 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:23.558 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching rejected projects: 4
2025-09-22 16:41:23.558 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:23.559 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:23.559 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:23.561 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:41:23.562 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:23.562 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - Project 63 loaded with 2 phases, AI result: No
2025-09-22 16:41:23.562 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:23.562 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:23.562 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:41:23.564 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:23.565 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - Project 60 loaded with 1 phases, AI result: No
2025-09-22 16:41:23.565 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:23.565 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:23.565 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:23.566 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - Project 59 loaded with 2 phases, AI result: No
2025-09-22 16:41:23.567 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:23.568 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:41:23.568 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:41:23.569 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:41:23.570 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:23.570 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - Project 58 loaded with 2 phases, AI result: No
2025-09-22 16:41:23.570 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 4 rejected projects
2025-09-22 16:41:23.570 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:23.570 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@73372cc8]
2025-09-22 16:41:23.571 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:41:32.409 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:41:32.411 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:41:32.411 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:41:33.706 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:41:33.707 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:41:33.708 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:41:33.709 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:41:33.711 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:41:33.713 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:41:33.717 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:33.717 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:41:33.717 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:41:33.718 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:41:33.718 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:41:33.718 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:41:33.719 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:33.719 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:41:33.720 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:41:33.721 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:41:33.725 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:41:33.725 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:41:33.725 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:41:33.726 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:41:33.726 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@3bf2526a]
2025-09-22 16:41:33.726 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:02.415 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:42:02.417 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:42:02.417 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:42:25.885 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:42:25.889 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:42:25.889 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 295
2025-09-22 16:42:25.893 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:42:25.905 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:42:25.912 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:25.921 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:25.921 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/pending-review
2025-09-22 16:42:25.921 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:25.925 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:42:25.930 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:42:25.931 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:42:25.931 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:25.933 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:25.939 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:25.945 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:42:25.962 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:25.963 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Admin fetching pending review projects: 0
2025-09-22 16:42:25.963 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:42:25.964 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:25.964 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7a905253]
2025-09-22 16:42:25.965 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:28.878 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-22 16:42:28.878 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-22 16:42:28.879 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-22 16:42:28.879 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-22 16:42:28.879 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 295
2025-09-22 16:42:28.879 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 295
2025-09-22 16:42:28.880 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-22 16:42:28.880 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-22 16:42:28.882 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-22 16:42:28.882 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-22 16:42:28.884 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:28.885 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:28.887 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:28.887 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/health/authenticated
2025-09-22 16:42:28.887 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:28.887 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:28.887 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/health/authenticated
2025-09-22 16:42:28.887 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:28.888 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-22 16:42:28.889 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-22 16:42:28.889 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-22 16:42:28.889 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-22 16:42:28.889 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-22 16:42:28.889 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-22 16:42:28.889 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:28.889 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:28.889 [http-nio-8081-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:28.889 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:28.890 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:28.890 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:28.890 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4d7e8f8a]
2025-09-22 16:42:28.890 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5d2ce8e6]
2025-09-22 16:42:28.893 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:28.897 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:28.975 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:42:28.975 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:42:28.975 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 295
2025-09-22 16:42:28.976 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:42:28.977 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:42:28.978 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:28.982 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:28.982 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/pending-review
2025-09-22 16:42:28.982 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:28.983 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:42:28.985 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:42:28.985 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:42:28.986 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:28.986 [http-nio-8081-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:28.987 [http-nio-8081-exec-1] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:28.988 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:42:28.994 [http-nio-8081-exec-1] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:28.994 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Admin fetching pending review projects: 0
2025-09-22 16:42:28.994 [http-nio-8081-exec-1] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:42:28.994 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:28.995 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7c1e6775]
2025-09-22 16:42:28.995 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:29.060 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-22 16:42:29.060 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-22 16:42:29.060 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-22 16:42:29.060 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 295
2025-09-22 16:42:29.061 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-22 16:42:29.061 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 295
2025-09-22 16:42:29.062 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-22 16:42:29.062 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-22 16:42:29.064 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-22 16:42:29.065 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-22 16:42:29.066 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:29.066 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:29.068 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:29.068 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/health/authenticated
2025-09-22 16:42:29.068 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:29.068 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:29.068 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/health/authenticated
2025-09-22 16:42:29.068 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:29.109 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-22 16:42:29.109 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-22 16:42:29.109 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-22 16:42:29.109 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-22 16:42:29.110 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-22 16:42:29.110 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-22 16:42:29.110 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:29.110 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:29.110 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:29.111 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:29.111 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:29.111 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:29.111 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6d5eed5]
2025-09-22 16:42:29.111 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@74719cba]
2025-09-22 16:42:29.112 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:29.112 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:29.156 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:42:29.156 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:42:29.156 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 295
2025-09-22 16:42:29.159 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:42:29.160 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:42:29.161 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:29.162 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:29.162 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/pending-review
2025-09-22 16:42:29.162 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:29.163 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:42:29.163 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:42:29.163 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:42:29.163 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:29.163 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:29.164 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:29.164 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:42:29.167 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:29.167 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Admin fetching pending review projects: 0
2025-09-22 16:42:29.167 [http-nio-8081-exec-4] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:42:29.167 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:29.167 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@56fa02df]
2025-09-22 16:42:29.168 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:32.421 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:42:32.421 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:42:32.421 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:42:33.276 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:42:33.277 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:42:33.277 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 295
2025-09-22 16:42:33.280 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:42:33.282 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:42:33.284 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:33.288 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:33.288 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/approved
2025-09-22 16:42:33.288 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:33.289 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:42:33.289 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:42:33.290 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:42:33.290 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:33.290 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:33.292 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:33.293 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:42:33.298 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:42:33.298 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:42:33.298 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:42:33.298 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:42:33.298 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:42:33.298 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:42:33.298 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:42:33.299 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:42:33.300 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:33.302 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Admin fetching approved projects: 1
2025-09-22 16:42:33.303 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:33.305 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:42:33.305 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:42:33.308 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:42:33.309 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:42:33.309 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:42:33.309 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:42:33.309 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:42:33.309 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:42:33.309 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:42:33.309 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:42:33.309 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:42:33.311 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:33.311 [http-nio-8081-exec-5] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:42:33.311 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:42:33.311 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:33.312 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@73668228]
2025-09-22 16:42:33.312 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:34.312 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:42:34.312 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:42:34.312 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 295
2025-09-22 16:42:34.314 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:42:34.316 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:42:34.318 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:34.320 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:34.320 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/rejected
2025-09-22 16:42:34.320 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:34.322 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:42:34.322 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:42:34.322 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:42:34.322 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:34.322 [http-nio-8081-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:34.324 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:34.324 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [36]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:42:34.328 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["AI不通过"]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:42:34.329 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:42:34.330 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:34.330 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Admin fetching rejected projects: 1
2025-09-22 16:42:34.331 [http-nio-8081-exec-6] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:34.331 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:42:34.331 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:42:34.333 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:42:34.334 [http-nio-8081-exec-6] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:34.334 [http-nio-8081-exec-6] DEBUG com.weeklyreport.controller.ProjectController - Project 64 loaded with 1 phases, AI result: No
2025-09-22 16:42:34.334 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 rejected projects
2025-09-22 16:42:34.334 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:34.335 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4ce23ec8]
2025-09-22 16:42:34.335 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:36.097 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/approved
2025-09-22 16:42:36.097 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/approved
2025-09-22 16:42:36.097 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/approved, length: 295
2025-09-22 16:42:36.098 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/approved
2025-09-22 16:42:36.099 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/approved
2025-09-22 16:42:36.099 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:36.100 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:36.100 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/approved
2025-09-22 16:42:36.100 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:36.101 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/approved
2025-09-22 16:42:36.101 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/approved", parameters={}
2025-09-22 16:42:36.101 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getApprovedProjects()
2025-09-22 16:42:36.101 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:36.101 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getApprovedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:36.102 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:36.102 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('SUPER_ADMIN_APPROVED', 'FINAL_APPROVED') 
        order by
            p1_0.created_at desc
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [34]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [10000]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [superadmin]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:42:36.108 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:42:36.109 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:36.109 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Admin fetching approved projects: 1
2025-09-22 16:42:36.109 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:36.110 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:42:36.110 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:42:36.111 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:42:36.112 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:36.112 [http-nio-8081-exec-7] DEBUG com.weeklyreport.controller.ProjectController - Project 62 loaded with 1 phases, AI result: No
2025-09-22 16:42:36.112 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 approved projects
2025-09-22 16:42:36.112 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:36.112 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7daccae9]
2025-09-22 16:42:36.112 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:36.716 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/rejected
2025-09-22 16:42:36.716 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/rejected
2025-09-22 16:42:36.716 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/rejected, length: 295
2025-09-22 16:42:36.718 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/rejected
2025-09-22 16:42:36.721 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/rejected
2025-09-22 16:42:36.722 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:36.725 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:36.725 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/projects/rejected
2025-09-22 16:42:36.725 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:36.726 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/rejected
2025-09-22 16:42:36.726 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/rejected", parameters={}
2025-09-22 16:42:36.727 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getRejectedProjects()
2025-09-22 16:42:36.727 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:36.727 [http-nio-8081-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getRejectedProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:36.728 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:36.729 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus IN ('ADMIN_REJECTED') 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status in ('ADMIN_REJECTED') 
        order by
            p1_0.created_at desc
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:BIGINT) -> [10004]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:BIGINT) -> [36]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:BIGINT) -> [10003]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:BIGINT) -> [null]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> ["AI不通过"]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (16:VARCHAR) -> [manager1]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (17:VARCHAR) -> [null]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (18:VARCHAR) -> [null]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (19:BIGINT) -> [null]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (20:VARCHAR) -> [null]
2025-09-22 16:42:36.733 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (21:DOUBLE) -> [null]
2025-09-22 16:42:36.734 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (22:VARCHAR) -> [null]
2025-09-22 16:42:36.734 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (23:ENUM) -> [null]
2025-09-22 16:42:36.734 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (24:ENUM) -> [null]
2025-09-22 16:42:36.734 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (25:ENUM) -> [null]
2025-09-22 16:42:36.734 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (26:TIMESTAMP) -> [null]
2025-09-22 16:42:36.734 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:36.735 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Admin fetching rejected projects: 1
2025-09-22 16:42:36.735 [http-nio-8081-exec-8] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:36.736 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:42:36.736 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:42:36.737 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:42:36.738 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:42:36.738 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:42:36.738 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:42:36.738 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:42:36.738 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:42:36.738 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:42:36.738 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:42:36.738 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:42:36.739 [http-nio-8081-exec-8] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:36.739 [http-nio-8081-exec-8] DEBUG com.weeklyreport.controller.ProjectController - Project 64 loaded with 1 phases, AI result: No
2025-09-22 16:42:36.739 [http-nio-8081-exec-8] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 1 rejected projects
2025-09-22 16:42:36.739 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:36.739 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@46ea42c7]
2025-09-22 16:42:36.740 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:40.342 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_REVIEWING
2025-09-22 16:42:40.343 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:42:40.343 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:42:40.346 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:42:40.348 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:42:40.351 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:40.354 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:40.354 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:42:40.354 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:40.355 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_REVIEWING
2025-09-22 16:42:40.356 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_REVIEWING", parameters={masked}
2025-09-22 16:42:40.356 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:42:40.356 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:42:40.357 [http-nio-8081-exec-10] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:42:40.357 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:42:40.357 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(693709011<open>)] for JPA transaction
2025-09-22 16:42:40.358 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@126b17bc]
2025-09-22 16:42:40.358 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:42:40.361 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:42:40.363 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:42:40.365 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:42:40.365 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:42:40.366 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:42:40.366 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:42:40.366 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:42:40.366 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:42:40.366 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:42:40.366 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:42:40.366 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:42:40.366 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(693709011<open>)]
2025-09-22 16:42:40.367 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(693709011<open>)] after transaction
2025-09-22 16:42:40.367 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:42:40.367 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:42:40.367 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_REVIEWING
2025-09-22 16:42:40.368 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:42:40.368 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1695727659<open>)] for JPA transaction
2025-09-22 16:42:40.369 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2439ffae]
2025-09-22 16:42:40.370 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:42:40.370 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_REVIEWING]
2025-09-22 16:42:40.373 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:42:40.373 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1695727659<open>)]
2025-09-22 16:42:40.375 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1695727659<open>)] after transaction
2025-09-22 16:42:40.375 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报数量: 0
2025-09-22 16:42:40.375 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:40.375 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6f7e22c8]
2025-09-22 16:42:40.375 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:41.078 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_APPROVED
2025-09-22 16:42:41.079 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:42:41.079 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:42:41.080 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:42:41.080 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:42:41.081 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:41.082 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:41.082 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:42:41.082 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:41.083 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_APPROVED
2025-09-22 16:42:41.083 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_APPROVED", parameters={masked}
2025-09-22 16:42:41.083 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:42:41.083 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:42:41.083 [http-nio-8081-exec-9] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:42:41.083 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:42:41.083 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(743617193<open>)] for JPA transaction
2025-09-22 16:42:41.083 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6192c5a6]
2025-09-22 16:42:41.084 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:42:41.085 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:42:41.088 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:42:41.091 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(743617193<open>)]
2025-09-22 16:42:41.092 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(743617193<open>)] after transaction
2025-09-22 16:42:41.092 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:42:41.092 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:42:41.092 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_APPROVED
2025-09-22 16:42:41.092 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:42:41.092 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(781945741<open>)] for JPA transaction
2025-09-22 16:42:41.094 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@33b7a5a]
2025-09-22 16:42:41.094 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:42:41.094 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_APPROVED]
2025-09-22 16:42:41.097 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:42:41.098 [http-nio-8081-exec-9] ERROR com.weeklyreport.service.WeeklyReportService - 根据状态获取周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getWeeklyReportsByStatusWithAIAnalysis$21(WeeklyReportService.java:938)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis(WeeklyReportService.java:972)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getWeeklyReportsByStatusWithAIAnalysis(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getAllWeeklyReports(WeeklyReportController.java:608)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:42:41.099 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:42:41.099 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(781945741<open>)]
2025-09-22 16:42:41.101 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(781945741<open>)] after transaction
2025-09-22 16:42:41.101 [http-nio-8081-exec-9] ERROR c.weeklyreport.controller.WeeklyReportController - 获取周报列表失败
java.lang.RuntimeException: 根据状态获取周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis(WeeklyReportService.java:976)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getWeeklyReportsByStatusWithAIAnalysis(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getAllWeeklyReports(WeeklyReportController.java:608)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:42:41.101 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:41.101 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6b0c3375]
2025-09-22 16:42:41.102 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:42:41.456 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_REJECTED
2025-09-22 16:42:41.456 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:42:41.456 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:42:41.458 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:42:41.460 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:42:41.462 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:41.465 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:41.465 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:42:41.465 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:41.466 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_REJECTED
2025-09-22 16:42:41.467 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_REJECTED", parameters={masked}
2025-09-22 16:42:41.467 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:42:41.467 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:42:41.467 [http-nio-8081-exec-1] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:42:41.467 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:42:41.467 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(184053554<open>)] for JPA transaction
2025-09-22 16:42:41.467 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@344bdf39]
2025-09-22 16:42:41.467 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:42:41.469 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:42:41.471 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:42:41.472 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:42:41.472 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:42:41.472 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:42:41.472 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:42:41.472 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:42:41.472 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:42:41.473 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:42:41.473 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:42:41.473 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:42:41.473 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(184053554<open>)]
2025-09-22 16:42:41.474 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(184053554<open>)] after transaction
2025-09-22 16:42:41.474 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:42:41.474 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:42:41.474 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_REJECTED
2025-09-22 16:42:41.474 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:42:41.474 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(195701909<open>)] for JPA transaction
2025-09-22 16:42:41.474 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@318b80ce]
2025-09-22 16:42:41.475 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:42:41.475 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_REJECTED]
2025-09-22 16:42:41.477 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:42:41.477 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(195701909<open>)]
2025-09-22 16:42:41.479 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(195701909<open>)] after transaction
2025-09-22 16:42:41.479 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报数量: 0
2025-09-22 16:42:41.480 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:41.480 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@645a7a8f]
2025-09-22 16:42:41.480 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:41.942 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports?status=ADMIN_REVIEWING
2025-09-22 16:42:41.943 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports
2025-09-22 16:42:41.943 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports, length: 295
2025-09-22 16:42:41.945 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports
2025-09-22 16:42:41.947 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports
2025-09-22 16:42:41.949 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_ADMIN] for roles: ROLE_ADMIN
2025-09-22 16:42:41.952 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user admin2 with authorities: [ROLE_ADMIN]
2025-09-22 16:42:41.952 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: admin2 for request: /api/weekly-reports
2025-09-22 16:42:41.952 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_ADMIN]
2025-09-22 16:42:41.954 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports?status=ADMIN_REVIEWING
2025-09-22 16:42:41.954 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports?status=ADMIN_REVIEWING", parameters={masked}
2025-09-22 16:42:41.954 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getAllWeeklyReports(String, int, int)
2025-09-22 16:42:41.955 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /api/weekly-reports 根接口被调用 - 获取周报列表
2025-09-22 16:42:41.955 [http-nio-8081-exec-2] WARN  c.weeklyreport.controller.WeeklyReportController - ⚠️ 前端提醒：如果只需要获取当前用户的周报，建议使用 /api/weekly-reports/my 接口
2025-09-22 16:42:41.955 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:42:41.955 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(897226400<open>)] for JPA transaction
2025-09-22 16:42:41.955 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@25e18bf3]
2025-09-22 16:42:41.955 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: admin2
2025-09-22 16:42:41.956 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:42:41.958 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [admin2]
2025-09-22 16:42:41.959 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10047]
2025-09-22 16:42:41.959 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:42:41.959 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [admin2@weeklyreport.com]
2025-09-22 16:42:41.959 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$5jMFp6lCJ1xsSx0dzEuDxO7X6ZZACHswnka4LPHEMc5zY43TqDsEG]
2025-09-22 16:42:41.959 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN]
2025-09-22 16:42:41.959 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:42:41.959 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T09:42:29]
2025-09-22 16:42:41.960 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [admin2]
2025-09-22 16:42:41.960 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:42:41.960 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(897226400<open>)]
2025-09-22 16:42:41.961 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(897226400<open>)] after transaction
2025-09-22 16:42:41.961 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前用户信息 - ID: 10047, 用户名: admin2, 角色: ADMIN, canReviewWeeklyReports: true
2025-09-22 16:42:41.961 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 用户是管理员，返回所有周报
2025-09-22 16:42:41.961 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 按状态筛选: ADMIN_REVIEWING
2025-09-22 16:42:41.961 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getWeeklyReportsByStatusWithAIAnalysis]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:42:41.961 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(541907977<open>)] for JPA transaction
2025-09-22 16:42:41.961 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@194690a]
2025-09-22 16:42:41.963 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.approvalStatus = :status 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.approval_status=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:42:41.963 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:ENUM) <- [ADMIN_REVIEWING]
2025-09-22 16:42:41.965 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:42:41.965 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(541907977<open>)]
2025-09-22 16:42:41.966 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(541907977<open>)] after transaction
2025-09-22 16:42:41.966 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 最终返回的周报数量: 0
2025-09-22 16:42:41.966 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:41.966 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@40fb4e3a]
2025-09-22 16:42:41.967 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:55.478 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-22 16:42:55.478 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /health/authenticated
2025-09-22 16:42:55.480 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-22 16:42:55.480 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 319
2025-09-22 16:42:55.480 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/health/authenticated
2025-09-22 16:42:55.480 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/health/authenticated, length: 319
2025-09-22 16:42:55.483 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-22 16:42:55.483 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/health/authenticated
2025-09-22 16:42:55.484 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-22 16:42:55.485 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/health/authenticated
2025-09-22 16:42:55.485 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:42:55.487 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:42:55.488 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:42:55.488 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/health/authenticated
2025-09-22 16:42:55.488 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:42:55.490 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:42:55.490 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/health/authenticated
2025-09-22 16:42:55.490 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:42:55.490 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-22 16:42:55.490 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-22 16:42:55.490 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-22 16:42:55.491 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /health/authenticated
2025-09-22 16:42:55.491 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/health/authenticated", parameters={}
2025-09-22 16:42:55.491 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:55.491 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.HealthController#authenticatedHealth(Authentication)
2025-09-22 16:42:55.491 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:55.491 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:55.491 [http-nio-8081-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public com.weeklyreport.dto.ApiResponse com.weeklyreport.controller.HealthController.authenticatedHealth(org.springframework.security.core.Authentication); target is of class [com.weeklyreport.controller.HealthController]
2025-09-22 16:42:55.492 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:55.492 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:55.492 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1b0d581d]
2025-09-22 16:42:55.492 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@545a7432]
2025-09-22 16:42:55.493 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:55.493 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:55.513 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/pending-review
2025-09-22 16:42:55.514 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/pending-review
2025-09-22 16:42:55.514 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/pending-review, length: 319
2025-09-22 16:42:55.515 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/pending-review
2025-09-22 16:42:55.519 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/pending-review
2025-09-22 16:42:55.522 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_SUPER_ADMIN] for roles: ROLE_SUPER_ADMIN
2025-09-22 16:42:55.524 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user superadmin with authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:42:55.524 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: superadmin for request: /api/projects/pending-review
2025-09-22 16:42:55.524 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_SUPER_ADMIN]
2025-09-22 16:42:55.525 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/pending-review
2025-09-22 16:42:55.525 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/pending-review", parameters={}
2025-09-22 16:42:55.525 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getPendingReviewProjects()
2025-09-22 16:42:55.525 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:55.525 [http-nio-8081-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getPendingReviewProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:42:55.526 [http-nio-8081-exec-5] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:42:55.527 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
Hibernate: 
    /* SELECT
        p.id as id,
        p.name as name,
        p.description as description,
        p.members as members,
        p.expectedResults as expectedResults,
        p.timeline as timeline,
        p.stopLoss as stopLoss,
        p.createdBy as createdBy,
        p.aiAnalysisId as aiAnalysisId,
        p.adminReviewerId as adminReviewerId,
        p.superAdminReviewerId as superAdminReviewerId,
        p.rejectionReason as rejectionReason,
        p.approvalStatus as approvalStatus,
        p.createdAt as createdAt,
        p.updatedAt as updatedAt,
        u.username as createdByUsername,
        u.username as createdByFullName,
        adminReviewer.username as adminReviewerUsername,
        superAdminReviewer.username as superAdminReviewerUsername,
        ai.id as aiResultId,
        ai.result as aiResult,
        ai.confidence as aiConfidence,
        ai.modelVersion as aiModelVersion,
        ai.status as aiStatus,
        ai.analysisType as aiType,
        ai.entityType as aiEntityType,
        ai.createdAt as aiCreatedAt 
    FROM
        Project p 
    LEFT JOIN
        User u 
            ON p.createdBy = u.id 
    LEFT JOIN
        User adminReviewer 
            ON p.adminReviewerId = adminReviewer.id 
    LEFT JOIN
        User superAdminReviewer 
            ON p.superAdminReviewerId = superAdminReviewer.id 
    LEFT JOIN
        AIAnalysisResult ai 
            ON p.aiAnalysisId = ai.id 
    WHERE
        p.approvalStatus = 'SUPER_ADMIN_REVIEWING' 
    ORDER BY
        p.createdAt DESC */ select
            p1_0.id,
            p1_0.name,
            p1_0.description,
            p1_0.members,
            p1_0.expected_results,
            p1_0.timeline,
            p1_0.stop_loss,
            p1_0.created_by,
            p1_0.ai_analysis_id,
            p1_0.admin_reviewer_id,
            p1_0.super_admin_reviewer_id,
            p1_0.rejection_reason,
            p1_0.approval_status,
            p1_0.created_at,
            p1_0.updated_at,
            u1_0.username,
            u2_0.username,
            u3_0.username,
            ar1_0.id,
            ar1_0.result,
            ar1_0.confidence,
            ar1_0.model_version,
            ar1_0.status,
            ar1_0.analysis_type,
            ar1_0.entity_type,
            ar1_0.created_at 
        from
            projects p1_0 
        left join
            users u1_0 
                on p1_0.created_by=u1_0.id 
        left join
            users u2_0 
                on p1_0.admin_reviewer_id=u2_0.id 
        left join
            users u3_0 
                on p1_0.super_admin_reviewer_id=u3_0.id 
        left join
            ai_analysis_results ar1_0 
                on p1_0.ai_analysis_id=ar1_0.id 
        where
            p1_0.approval_status='SUPER_ADMIN_REVIEWING' 
        order by
            p1_0.created_at desc
2025-09-22 16:42:55.532 [http-nio-8081-exec-5] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:42:55.533 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Super admin fetching pending review projects: 0
2025-09-22 16:42:55.533 [http-nio-8081-exec-5] INFO  com.weeklyreport.controller.ProjectController - Successfully returned 0 pending review projects
2025-09-22 16:42:55.533 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:55.533 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@79ecb374]
2025-09-22 16:42:55.534 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:42:59.929 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/logout
2025-09-22 16:42:59.933 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:42:59.933 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/logout
2025-09-22 16:42:59.933 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-09-22 16:42:59.933 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#logout(HttpServletRequest)
2025-09-22 16:42:59.934 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.AuthController - Logout attempt
2025-09-22 16:42:59.934 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.logout]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:42:59.934 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1927563449<open>)] for JPA transaction
2025-09-22 16:42:59.934 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4e910779]
2025-09-22 16:42:59.934 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.AuthService - Attempting logout
2025-09-22 16:42:59.934 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.AuthService - User logged out successfully
2025-09-22 16:42:59.934 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:42:59.934 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1927563449<open>)]
2025-09-22 16:42:59.944 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1927563449<open>)] after transaction
2025-09-22 16:42:59.944 [http-nio-8081-exec-6] INFO  com.weeklyreport.controller.AuthController - Logout successful
2025-09-22 16:42:59.945 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:42:59.945 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5a62b3db]
2025-09-22 16:42:59.945 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:43:02.423 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:43:02.424 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:43:02.424 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:43:20.257 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-22 16:43:20.260 [http-nio-8081-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-22 16:43:20.262 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-22 16:43:20.263 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-22 16:43:20.264 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.AuthController#login(LoginRequest)
2025-09-22 16:43:20.266 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest{usernameOrEmail='manager1', password='[PROTECTED]', rememberMe=false}]
2025-09-22 16:43:20.268 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.AuthController - Login attempt for user: manager1
2025-09-22 16:43:20.271 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.AuthService.login]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:20.272 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2036031402<open>)] for JPA transaction
2025-09-22 16:43:20.272 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6e939b90]
2025-09-22 16:43:20.273 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.AuthService - Attempting login for user: manager1
2025-09-22 16:43:20.279 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:20.289 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:20.294 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:20.294 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:20.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:20.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:20.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:20.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:20.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:20.295 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:20.637 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.AuthService - User manager1 logged in successfully
2025-09-22 16:43:20.637 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:20.637 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2036031402<open>)]
2025-09-22 16:43:20.640 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2036031402<open>)] after transaction
2025-09-22 16:43:20.640 [http-nio-8081-exec-7] INFO  com.weeklyreport.controller.AuthController - Login successful for user: manager1
2025-09-22 16:43:20.641 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:20.641 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2dc1f304]
2025-09-22 16:43:20.642 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:43:20.763 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:20.764 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:20.764 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:20.765 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:20.766 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:20.767 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:20.768 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:20.768 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:20.768 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:20.769 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:20.769 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:20.769 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:20.769 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:20.769 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:20.770 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1871802232<open>)] for JPA transaction
2025-09-22 16:43:20.770 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@572b3f0a]
2025-09-22 16:43:20.770 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:20.770 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:20.771 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:20.773 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1871802232<open>)]
2025-09-22 16:43:20.774 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1871802232<open>)] after transaction
2025-09-22 16:43:20.774 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:20.774 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:20.774 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(782058867<open>)] for JPA transaction
2025-09-22 16:43:20.775 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e68bb62]
2025-09-22 16:43:20.775 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:20.776 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:20.776 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:20.778 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:20.778 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:20.778 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:20.778 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:20.778 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:20.779 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:20.779 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:20.779 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:20.779 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:20.779 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:20.779 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:20.779 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:20.779 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:20.782 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:20.782 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:20.785 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:20.785 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:20.785 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:20.785 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:20.785 [http-nio-8081-exec-8] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:20.787 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:20.787 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(782058867<open>)]
2025-09-22 16:43:20.789 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(782058867<open>)] after transaction
2025-09-22 16:43:20.789 [http-nio-8081-exec-8] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:20.789 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:20.789 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@5a6c568]
2025-09-22 16:43:20.790 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:22.867 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:22.867 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:22.867 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:22.869 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:22.870 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:22.872 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:22.874 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:22.874 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:22.874 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:22.875 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:22.875 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:22.875 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:22.875 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:22.875 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:22.875 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1347257741<open>)] for JPA transaction
2025-09-22 16:43:22.875 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7dd20f99]
2025-09-22 16:43:22.875 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:22.876 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:22.878 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:22.879 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1347257741<open>)]
2025-09-22 16:43:22.880 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1347257741<open>)] after transaction
2025-09-22 16:43:22.880 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:22.880 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:22.880 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1429929194<open>)] for JPA transaction
2025-09-22 16:43:22.881 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ae8d90d]
2025-09-22 16:43:22.881 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:22.882 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:22.882 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:22.883 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:22.884 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:22.885 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:22.885 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:22.885 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:22.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:22.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:22.887 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:22.887 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:22.888 [http-nio-8081-exec-10] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:22.889 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:22.889 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1429929194<open>)]
2025-09-22 16:43:22.890 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1429929194<open>)] after transaction
2025-09-22 16:43:22.890 [http-nio-8081-exec-10] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:22.891 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:22.891 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@79b8afb8]
2025-09-22 16:43:22.891 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:23.385 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:43:23.386 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:43:23.386 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:43:23.387 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:43:23.388 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:43:23.389 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:23.391 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:23.391 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:43:23.391 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:23.392 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:43:23.392 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:43:23.392 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:43:23.392 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:43:23.392 [http-nio-8081-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:43:23.393 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:23.393 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1781148724<open>)] for JPA transaction
2025-09-22 16:43:23.393 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@32809772]
2025-09-22 16:43:23.393 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:23.393 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:23.396 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:23.401 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1781148724<open>)]
2025-09-22 16:43:23.405 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1781148724<open>)] after transaction
2025-09-22 16:43:23.405 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:23.407 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:43:23.411 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:23.412 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:43:23.412 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:43:23.413 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:43:23.414 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:43:23.415 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:23.415 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:23.416 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:23.416 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.418 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:43:23.419 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:23.419 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:23.419 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:23.420 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.421 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:23.422 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:23.422 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:23.422 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:23.422 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.424 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:43:23.425 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:23.425 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:23.425 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:23.425 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.427 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:23.428 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:23.428 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:23.428 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:23.428 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.430 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:43:23.431 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:23.432 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:23.432 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:23.432 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.434 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:23.435 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:23.436 [http-nio-8081-exec-9] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:23.436 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:23.436 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:23.438 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:23.439 [http-nio-8081-exec-9] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:23.439 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:23.439 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@4685a3ac]
2025-09-22 16:43:23.440 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:43:25.336 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:25.340 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:25.340 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:25.342 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:25.344 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:25.345 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:25.347 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:25.347 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:25.347 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:25.349 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:25.349 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:25.349 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:25.349 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:25.349 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:25.349 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(96833793<open>)] for JPA transaction
2025-09-22 16:43:25.349 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@17121c3a]
2025-09-22 16:43:25.349 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:25.351 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:25.353 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:25.354 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:25.355 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(96833793<open>)]
2025-09-22 16:43:25.355 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(96833793<open>)] after transaction
2025-09-22 16:43:25.355 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:25.355 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:25.355 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1404510687<open>)] for JPA transaction
2025-09-22 16:43:25.356 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@21da425a]
2025-09-22 16:43:25.356 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:25.357 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:25.357 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:25.359 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:25.360 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:25.360 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:25.362 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:25.362 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:25.362 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:25.362 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:25.362 [http-nio-8081-exec-1] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:25.363 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:25.363 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1404510687<open>)]
2025-09-22 16:43:25.364 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1404510687<open>)] after transaction
2025-09-22 16:43:25.364 [http-nio-8081-exec-1] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:25.365 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:25.366 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1daa040a]
2025-09-22 16:43:25.366 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:32.428 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:43:32.429 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:43:32.429 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:43:32.732 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:43:32.732 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:43:32.732 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:43:32.734 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:43:32.736 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:43:32.738 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:32.741 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:32.741 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:43:32.741 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:32.742 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:43:32.742 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:43:32.742 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:43:32.743 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:43:32.743 [http-nio-8081-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:43:32.743 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:32.743 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(633021978<open>)] for JPA transaction
2025-09-22 16:43:32.743 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6f02d7f9]
2025-09-22 16:43:32.743 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:32.744 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:32.746 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:32.748 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:32.748 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:32.748 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:32.749 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:32.749 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:32.749 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:32.749 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:32.749 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:32.749 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:32.749 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(633021978<open>)]
2025-09-22 16:43:32.750 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(633021978<open>)] after transaction
2025-09-22 16:43:32.750 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:32.751 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:43:32.751 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:32.753 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:43:32.753 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:43:32.753 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:43:32.753 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:43:32.753 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:43:32.753 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:32.753 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:43:32.753 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:43:32.754 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:32.755 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:43:32.756 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:32.757 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:32.757 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:32.757 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.759 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:43:32.760 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:32.760 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:32.760 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:32.761 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:43:32.762 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:43:32.762 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:32.762 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:32.762 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.763 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:32.764 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:32.765 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:32.765 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:32.766 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.768 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:43:32.769 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:32.769 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:32.770 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:32.770 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.771 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:32.772 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:32.772 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:32.773 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:32.773 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.775 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:43:32.776 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:32.776 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:32.777 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:32.777 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.779 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:32.780 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:32.780 [http-nio-8081-exec-2] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:32.781 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:32.781 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:32.782 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:32.783 [http-nio-8081-exec-2] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61 due to dirty commit state on close().
2025-09-22 16:43:32.783 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:32.783 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@70a175f2]
2025-09-22 16:43:32.785 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:43:33.328 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:33.328 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:33.328 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:33.330 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:33.331 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:33.332 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:33.334 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:33.334 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:33.334 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:33.335 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:33.335 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:33.335 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:33.335 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:33.335 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:33.335 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(15634023<open>)] for JPA transaction
2025-09-22 16:43:33.335 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5f010b6a]
2025-09-22 16:43:33.335 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:33.337 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:33.338 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:33.340 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(15634023<open>)]
2025-09-22 16:43:33.341 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(15634023<open>)] after transaction
2025-09-22 16:43:33.341 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:33.341 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:33.341 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1637466573<open>)] for JPA transaction
2025-09-22 16:43:33.341 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@62898874]
2025-09-22 16:43:33.341 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:33.342 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:33.342 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:33.344 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:33.345 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:33.345 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:33.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:33.346 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:33.346 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:33.346 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:33.347 [http-nio-8081-exec-3] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:33.347 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:33.347 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1637466573<open>)]
2025-09-22 16:43:33.348 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1637466573<open>)] after transaction
2025-09-22 16:43:33.348 [http-nio-8081-exec-3] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:33.349 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:33.349 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@55183fc2]
2025-09-22 16:43:33.350 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:33.934 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:43:33.935 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:43:33.935 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:43:33.936 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:43:33.937 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:43:33.938 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:33.940 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:33.940 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:43:33.940 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:33.941 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:43:33.941 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:43:33.941 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:43:33.941 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:43:33.942 [http-nio-8081-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:43:33.942 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:33.942 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1913150840<open>)] for JPA transaction
2025-09-22 16:43:33.942 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7e21887f]
2025-09-22 16:43:33.942 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:33.943 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:33.944 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:33.945 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1913150840<open>)]
2025-09-22 16:43:33.946 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1913150840<open>)] after transaction
2025-09-22 16:43:33.946 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:33.947 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:43:33.947 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:43:33.949 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:43:33.950 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:43:33.951 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:43:33.952 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:33.952 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:33.952 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:33.953 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.954 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:43:33.955 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:33.955 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:33.956 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:33.956 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:33.957 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:33.958 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:33.958 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:33.958 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:43:33.959 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:43:33.960 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:43:33.960 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:43:33.960 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.960 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.960 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:43:33.960 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:43:33.960 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.960 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:43:33.961 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:33.961 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:33.961 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:33.961 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.963 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:33.964 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:33.964 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:33.964 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:33.964 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:43:33.965 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:43:33.966 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:33.967 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:33.967 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:33.967 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:33.968 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:33.969 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:33.970 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:33.971 [http-nio-8081-exec-4] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:33.971 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:33.971 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@55a1e4a6]
2025-09-22 16:43:33.972 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:43:34.487 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:34.487 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:34.487 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:34.488 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:34.489 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:34.490 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:34.491 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:34.491 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:34.491 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:34.491 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:34.492 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:34.492 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:34.492 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:34.492 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:34.492 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(443469197<open>)] for JPA transaction
2025-09-22 16:43:34.492 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6d27cd0]
2025-09-22 16:43:34.492 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:34.492 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:34.494 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:34.495 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(443469197<open>)]
2025-09-22 16:43:34.496 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(443469197<open>)] after transaction
2025-09-22 16:43:34.496 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:34.496 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:34.496 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1695830183<open>)] for JPA transaction
2025-09-22 16:43:34.497 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@527701e5]
2025-09-22 16:43:34.497 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:34.497 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:34.497 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:34.498 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:34.498 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:34.498 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:34.498 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:34.498 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:34.499 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:34.499 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:34.499 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:34.499 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:34.499 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:34.499 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:34.499 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:34.499 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:34.500 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:34.500 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:34.502 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:34.502 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:34.502 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:34.502 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:34.502 [http-nio-8081-exec-5] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:34.502 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:34.502 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1695830183<open>)]
2025-09-22 16:43:34.504 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1695830183<open>)] after transaction
2025-09-22 16:43:34.504 [http-nio-8081-exec-5] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:34.505 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:34.505 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@19d73975]
2025-09-22 16:43:34.505 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:35.654 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:35.655 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:35.655 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:35.655 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:35.656 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:35.657 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:35.659 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:35.659 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:35.659 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:35.660 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:35.660 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:35.660 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:35.660 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:35.660 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:35.661 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(398806967<open>)] for JPA transaction
2025-09-22 16:43:35.661 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@b2c77fa]
2025-09-22 16:43:35.661 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:35.661 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:35.663 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:35.664 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:35.664 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:35.664 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:35.664 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:35.664 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:35.664 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:35.664 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:35.664 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:35.665 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:35.665 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(398806967<open>)]
2025-09-22 16:43:35.665 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(398806967<open>)] after transaction
2025-09-22 16:43:35.665 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:35.665 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:35.665 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1334151072<open>)] for JPA transaction
2025-09-22 16:43:35.666 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7fa0fcd3]
2025-09-22 16:43:35.666 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:35.667 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:35.667 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:35.668 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:35.669 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:35.669 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:35.669 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:35.670 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:35.670 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:35.670 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:35.670 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:35.670 [http-nio-8081-exec-6] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:35.671 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:35.671 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1334151072<open>)]
2025-09-22 16:43:35.672 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1334151072<open>)] after transaction
2025-09-22 16:43:35.672 [http-nio-8081-exec-6] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:35.672 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:35.673 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@a07b14c]
2025-09-22 16:43:35.673 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:36.055 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /projects/my
2025-09-22 16:43:36.055 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/projects/my
2025-09-22 16:43:36.055 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/projects/my, length: 306
2025-09-22 16:43:36.056 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/projects/my
2025-09-22 16:43:36.057 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/projects/my
2025-09-22 16:43:36.058 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:36.059 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:36.059 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/projects/my
2025-09-22 16:43:36.059 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:36.061 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /projects/my
2025-09-22 16:43:36.061 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/projects/my", parameters={}
2025-09-22 16:43:36.061 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.ProjectController#getMyProjects()
2025-09-22 16:43:36.061 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:43:36.061 [http-nio-8081-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.weeklyreport.controller.ProjectController.getMyProjects(); target is of class [com.weeklyreport.controller.ProjectController]
2025-09-22 16:43:36.061 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:36.061 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(962897490<open>)] for JPA transaction
2025-09-22 16:43:36.062 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@524a94f9]
2025-09-22 16:43:36.062 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:36.062 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:36.062 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:36.064 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:36.064 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:36.064 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:36.064 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:36.064 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:36.064 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:36.064 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:36.064 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:36.065 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:36.065 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(962897490<open>)]
2025-09-22 16:43:36.066 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(962897490<open>)] after transaction
2025-09-22 16:43:36.066 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:36.067 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        p1_0.id,
        p1_0.admin_reviewer_id,
        p1_0.ai_analysis_id,
        p1_0.approval_status,
        p1_0.created_at,
        p1_0.created_by,
        p1_0.description,
        p1_0.expected_results,
        p1_0.members,
        p1_0.name,
        p1_0.rejection_reason,
        p1_0.stop_loss,
        p1_0.super_admin_reviewer_id,
        p1_0.timeline,
        p1_0.updated_at 
    from
        projects p1_0 
    where
        p1_0.created_by=? 
    order by
        p1_0.created_at desc
2025-09-22 16:43:36.067 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [64]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [36]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [ADMIN_REJECTED]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T23:02:04]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [这是一个用于测试管理员拒绝功能的测试项目，目的是验证管理员拒绝后状态正确设置为ADMIN_REJECTED而不是SUPER_ADMIN_REJECTED。]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [验证管理员拒绝功能100%正确工作，确保拒绝状态设置准确率达到100%]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：manager1，开发人员：dev1，测试人员：tester1]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [测试管理员拒绝功能项目]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["AI不通过"]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [如果测试功能不正常，立即停止并修复代码，预算不超过0元，时间不超过1天]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第1阶段（1天）：创建测试项目，第2阶段（1天）：AI分析通过，第3阶段（1天）：管理员审核测试]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T23:12:25]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [63]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [35]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T22:06:12]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [2]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5555]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["项目信息不完整，需要更详细的技术方案和实施计划，请补充完整后重新提交"]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:45:29]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [62]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [10003]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [34]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [FINAL_APPROVED]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:06:39]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [制定企业数字化转型的全面战略规划，包括技术架构设计、业务流程优化、数据治理体系建设、人员培训计划等。通过系统性的分析和规划，帮助企业实现从传统运营模式向数字化智能化运营模式的转型升级。项目将涵盖需求分析、方案设计、实施路径规划、风险评估等各个环节。]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1. 完成企业数字化转型战略规划文档，包含详细的技术方案和实施路径；2. 建立数字化转型的ROI评估模型，预期提升运营效率25%；3. 设计完整的数据治理体系，实现数据资产的统一管理；4. 制定分阶段实施计划，确保转型过程的可控性和风险最小化；5. 培养内部数字化人才队伍，建立持续改进机制]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [项目经理：张明（5年数字化项目经验），技术架构师：李华（10年企业架构经验），业务分析师：王芳（8年业务流程优化经验），数据工程师：赵强（6年数据治理经验），UI/UX设计师：陈丽（4年用户体验设计经验），测试工程师：刘涛（5年质量保证经验）]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [企业数字化转型战略规划项目]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1. 预算控制：项目总预算不超过500万元，如单阶段超支20%需重新评估；2. 时间节点：如关键里程碑延期超过4周需启动应急预案；3. 技术风险：如核心技术方案验证失败需在2周内提供替代方案；4. 业务风险：如业务部门配合度低于60%需调整项目范围；5. ROI风险：如预期效益评估下调超过30%需重新论证项目价值]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10000]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [第一阶段（1-2个月）：现状调研和需求分析；第二阶段（3-4个月）：战略规划设计和技术架构设计；第三阶段（5-6个月）：实施方案制定和风险评估；第四阶段（7-8个月）：试点实施和效果验证；第五阶段（9-10个月）：全面推广和优化调整；第六阶段（11-12个月）：总结评估和持续改进机制建立]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:11:09]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [61]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [33]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [AI_APPROVED]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T20:00:52]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [5]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [5]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [5]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [5]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> [null]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [5]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [null]
2025-09-22 16:43:36.069 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [5]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T21:16:42]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [60]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [32]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:59:27]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [3]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [3]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [3]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [3]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["333"]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [3]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [3]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:46:43]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [59]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [31]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:49:45]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [22]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [2]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [22]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["44444"]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [2]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [2]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:48:25]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [58]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:BIGINT) -> [null]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [30]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:ENUM) -> [SUPER_ADMIN_REJECTED]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:TIMESTAMP) -> [2025-09-21T19:36:06]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:BIGINT) -> [10004]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [1]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [1]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [1]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [1]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:VARCHAR) -> ["555"]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:VARCHAR) -> [1]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [10003]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (14:VARCHAR) -> [1]
2025-09-22 16:43:36.070 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (15:TIMESTAMP) -> [2025-09-21T22:49:40]
2025-09-22 16:43:36.071 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:36.071 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:36.071 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:36.071 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [64]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [39]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [manager1]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [测试阶段]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [64]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.073 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T23:02:09]
2025-09-22 16:43:36.074 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:36.075 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:36.075 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:36.075 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [63]
2025-09-22 16:43:36.076 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [37]
2025-09-22 16:43:36.076 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:36.076 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:36.076 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.076 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [11]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [38]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [63]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T22:06:16]
2025-09-22 16:43:36.077 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:36.078 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:36.078 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:36.078 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [62]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [36]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [业务分析师：王芳，数据工程师：赵强，项目经理：张明]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [需求分析与现状调研阶段]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [62]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.080 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:06:44]
2025-09-22 16:43:36.081 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:36.081 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:36.081 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:36.082 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [61]
2025-09-22 16:43:36.083 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [34]
2025-09-22 16:43:36.083 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [5]
2025-09-22 16:43:36.083 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:36.083 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.083 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.083 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [5]
2025-09-22 16:43:36.083 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [35]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [6]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [6]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [61]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T20:00:55]
2025-09-22 16:43:36.084 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:36.085 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:36.085 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:36.085 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [60]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [33]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [60]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.087 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:59:31]
2025-09-22 16:43:36.088 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:36.088 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:36.088 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:36.089 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [59]
2025-09-22 16:43:36.090 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [31]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [32]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [59]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.091 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:49:50]
2025-09-22 16:43:36.092 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:36.092 [http-nio-8081-exec-7] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-09-22 16:43:36.092 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
Hibernate: 
    /* SELECT
        p 
    FROM
        ProjectPhase p 
    WHERE
        p.projectId = :projectId 
    ORDER BY
        p.createdAt ASC */ select
            pp1_0.id,
            pp1_0.assigned_members,
            pp1_0.created_at,
            pp1_0.description,
            pp1_0.expected_results,
            pp1_0.phase_name,
            pp1_0.project_id,
            pp1_0.schedule,
            pp1_0.updated_at 
        from
            project_phases pp1_0 
        where
            pp1_0.project_id=? 
        order by
            pp1_0.created_at
2025-09-22 16:43:36.092 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [58]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [29]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [1]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [1]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [30]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [2]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [null]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:VARCHAR) -> [null]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:VARCHAR) -> [2]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:BIGINT) -> [58]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [null]
2025-09-22 16:43:36.094 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:TIMESTAMP) -> [2025-09-21T19:36:11]
2025-09-22 16:43:36.095 [http-nio-8081-exec-7] DEBUG com.zaxxer.hikari.pool.ProxyConnection - WeeklyReportHikariCP-Dev - Executed rollback on connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0 due to dirty commit state on close().
2025-09-22 16:43:36.095 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:36.095 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@e840bd7]
2025-09-22 16:43:36.095 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-22 16:43:36.600 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:36.601 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:36.601 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:36.602 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:36.604 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:36.606 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:36.608 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:36.608 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:36.608 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:36.609 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:36.609 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:36.609 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:36.609 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:36.609 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:36.609 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(345906374<open>)] for JPA transaction
2025-09-22 16:43:36.609 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@259fa211]
2025-09-22 16:43:36.609 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:36.610 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:36.612 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:36.613 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(345906374<open>)]
2025-09-22 16:43:36.614 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(345906374<open>)] after transaction
2025-09-22 16:43:36.614 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:36.614 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:36.614 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(295293635<open>)] for JPA transaction
2025-09-22 16:43:36.615 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7b02b956]
2025-09-22 16:43:36.615 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:36.616 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:36.616 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:36.618 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:36.619 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:36.619 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:36.620 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:36.620 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:36.620 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:36.620 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:36.621 [http-nio-8081-exec-8] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:36.622 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:36.622 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(295293635<open>)]
2025-09-22 16:43:36.623 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(295293635<open>)] after transaction
2025-09-22 16:43:36.623 [http-nio-8081-exec-8] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:36.624 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:36.624 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@57680949]
2025-09-22 16:43:36.624 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:40.871 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:40.872 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:40.872 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:40.873 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:40.876 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:40.879 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:40.881 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:40.881 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:40.881 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:40.882 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:40.882 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:40.883 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:40.883 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:40.883 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:40.883 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(546258020<open>)] for JPA transaction
2025-09-22 16:43:40.883 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@429b7d4]
2025-09-22 16:43:40.883 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:40.884 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:40.885 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:40.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:40.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:40.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:40.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:40.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:40.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:40.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:40.887 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:40.888 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:40.888 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(546258020<open>)]
2025-09-22 16:43:40.889 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(546258020<open>)] after transaction
2025-09-22 16:43:40.889 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:40.889 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:40.889 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(989464863<open>)] for JPA transaction
2025-09-22 16:43:40.889 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5e7d1541]
2025-09-22 16:43:40.889 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:40.891 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:40.891 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:40.892 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:40.893 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:40.893 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:40.894 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:40.895 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:40.895 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:40.895 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:40.895 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:40.896 [http-nio-8081-exec-10] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:40.897 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:40.897 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(989464863<open>)]
2025-09-22 16:43:40.898 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(989464863<open>)] after transaction
2025-09-22 16:43:40.898 [http-nio-8081-exec-10] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:40.899 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:40.899 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@27df20a4]
2025-09-22 16:43:40.899 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:41.766 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:41.766 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:41.766 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:41.768 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:41.771 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:41.773 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:41.775 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:41.775 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:41.775 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:41.777 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:41.777 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:41.777 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:41.777 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:41.777 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:41.777 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1411143655<open>)] for JPA transaction
2025-09-22 16:43:41.777 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@9d978a8]
2025-09-22 16:43:41.777 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:41.778 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:41.780 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:41.782 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1411143655<open>)]
2025-09-22 16:43:41.783 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1411143655<open>)] after transaction
2025-09-22 16:43:41.783 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:41.783 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:41.783 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2083477113<open>)] for JPA transaction
2025-09-22 16:43:41.784 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4756ba00]
2025-09-22 16:43:41.784 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:41.785 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:41.787 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:41.788 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:41.789 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:41.789 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:41.792 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:41.793 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:41.793 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:41.794 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:41.794 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:41.794 [http-nio-8081-exec-9] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:41.795 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:41.795 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(2083477113<open>)]
2025-09-22 16:43:41.796 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2083477113<open>)] after transaction
2025-09-22 16:43:41.796 [http-nio-8081-exec-9] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:41.797 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:41.797 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@28c77fd]
2025-09-22 16:43:41.798 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:42.202 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:42.203 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:42.203 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:42.205 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:42.206 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:42.208 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:42.211 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:42.211 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:42.211 [http-nio-8081-exec-1] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:42.213 [http-nio-8081-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:42.213 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:42.213 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:42.213 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:42.213 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:42.213 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(625713095<open>)] for JPA transaction
2025-09-22 16:43:42.213 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@4c52e484]
2025-09-22 16:43:42.213 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:42.215 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:42.216 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:42.219 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(625713095<open>)]
2025-09-22 16:43:42.220 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(625713095<open>)] after transaction
2025-09-22 16:43:42.220 [http-nio-8081-exec-1] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:42.220 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:42.220 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2027831658<open>)] for JPA transaction
2025-09-22 16:43:42.221 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@73c804bf]
2025-09-22 16:43:42.221 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:42.222 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:42.222 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:42.224 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:42.225 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:42.225 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:42.227 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:42.227 [http-nio-8081-exec-1] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:42.227 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:42.227 [http-nio-8081-exec-1] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:42.227 [http-nio-8081-exec-1] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:42.228 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:42.228 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(2027831658<open>)]
2025-09-22 16:43:42.230 [http-nio-8081-exec-1] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2027831658<open>)] after transaction
2025-09-22 16:43:42.231 [http-nio-8081-exec-1] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:42.232 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:42.232 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@10c336fd]
2025-09-22 16:43:42.232 [http-nio-8081-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:42.447 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:42.448 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:42.448 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:42.449 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:42.451 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:42.453 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:42.456 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:42.456 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:42.456 [http-nio-8081-exec-2] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:42.457 [http-nio-8081-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:42.457 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:42.457 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:42.457 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:42.457 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:42.457 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1520745219<open>)] for JPA transaction
2025-09-22 16:43:42.457 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3a11da7d]
2025-09-22 16:43:42.458 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:42.459 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:42.461 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:42.462 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1520745219<open>)]
2025-09-22 16:43:42.463 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1520745219<open>)] after transaction
2025-09-22 16:43:42.463 [http-nio-8081-exec-2] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:42.464 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:42.464 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1474498602<open>)] for JPA transaction
2025-09-22 16:43:42.465 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@518d1538]
2025-09-22 16:43:42.465 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:42.466 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:42.466 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:42.468 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:42.468 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:42.468 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:42.468 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:42.468 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:42.469 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:42.469 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:42.469 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:42.469 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:42.469 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:42.469 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:42.469 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:42.469 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:42.470 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:42.470 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:42.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:42.472 [http-nio-8081-exec-2] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:42.472 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:42.472 [http-nio-8081-exec-2] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:42.472 [http-nio-8081-exec-2] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:42.473 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:42.473 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1474498602<open>)]
2025-09-22 16:43:42.474 [http-nio-8081-exec-2] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1474498602<open>)] after transaction
2025-09-22 16:43:42.474 [http-nio-8081-exec-2] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:42.475 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:42.475 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@fcc3153]
2025-09-22 16:43:42.476 [http-nio-8081-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:42.659 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:42.660 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:42.660 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:42.662 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:42.664 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:42.667 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:42.674 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:42.674 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:42.674 [http-nio-8081-exec-3] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:42.675 [http-nio-8081-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:42.675 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:42.675 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:42.676 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:42.676 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:42.676 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1312814934<open>)] for JPA transaction
2025-09-22 16:43:42.676 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1f455d8c]
2025-09-22 16:43:42.676 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:42.677 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:42.678 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:42.685 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:42.685 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:42.685 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:42.685 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:42.685 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:42.685 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:42.685 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:42.685 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:42.686 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:42.686 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1312814934<open>)]
2025-09-22 16:43:42.687 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1312814934<open>)] after transaction
2025-09-22 16:43:42.687 [http-nio-8081-exec-3] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:42.687 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:42.687 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1035931554<open>)] for JPA transaction
2025-09-22 16:43:42.687 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3d547bf6]
2025-09-22 16:43:42.687 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:42.688 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:42.689 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:42.690 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:42.691 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:42.691 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:42.692 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:42.692 [http-nio-8081-exec-3] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:42.693 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:42.693 [http-nio-8081-exec-3] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:42.693 [http-nio-8081-exec-3] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:42.707 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:42.708 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1035931554<open>)]
2025-09-22 16:43:42.710 [http-nio-8081-exec-3] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1035931554<open>)] after transaction
2025-09-22 16:43:42.711 [http-nio-8081-exec-3] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:42.713 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:42.713 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@192c2346]
2025-09-22 16:43:42.714 [http-nio-8081-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:43:50.995 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:43:50.996 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:43:50.996 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:43:50.998 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:43:50.999 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:43:51.000 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:43:51.001 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:43:51.001 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:43:51.001 [http-nio-8081-exec-4] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:43:51.003 [http-nio-8081-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:43:51.004 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:43:51.004 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:43:51.004 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:43:51.005 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:43:51.005 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1287994387<open>)] for JPA transaction
2025-09-22 16:43:51.005 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@39be7dff]
2025-09-22 16:43:51.005 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:43:51.007 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:43:51.010 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:43:51.013 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1287994387<open>)]
2025-09-22 16:43:51.014 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1287994387<open>)] after transaction
2025-09-22 16:43:51.014 [http-nio-8081-exec-4] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:43:51.014 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:43:51.015 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(810157375<open>)] for JPA transaction
2025-09-22 16:43:51.015 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@7cd69a99]
2025-09-22 16:43:51.015 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:43:51.016 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:43:51.016 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:51.018 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:43:51.019 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:43:51.021 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:43:51.021 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:43:51.032 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:43:51.033 [http-nio-8081-exec-4] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:43:51.033 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:43:51.033 [http-nio-8081-exec-4] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:43:51.033 [http-nio-8081-exec-4] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:51.036 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:43:51.036 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(810157375<open>)]
2025-09-22 16:43:51.038 [http-nio-8081-exec-4] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(810157375<open>)] after transaction
2025-09-22 16:43:51.038 [http-nio-8081-exec-4] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:43:51.039 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:43:51.040 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2110b302]
2025-09-22 16:43:51.041 [http-nio-8081-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:44:02.428 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:44:02.429 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:44:02.429 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:44:32.432 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:44:32.434 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:44:32.434 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:45:02.154 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:45:02.158 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:45:02.162 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:45:02.165 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:45:02.166 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:45:02.167 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:45:02.168 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:45:02.168 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:45:02.168 [http-nio-8081-exec-5] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:45:02.172 [http-nio-8081-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:45:02.173 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:45:02.173 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:45:02.173 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:45:02.174 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:45:02.174 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(192935960<open>)] for JPA transaction
2025-09-22 16:45:02.175 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2ca4f82a]
2025-09-22 16:45:02.175 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:45:02.179 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:45:02.190 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:45:02.193 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:45:02.194 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:45:02.194 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:45:02.194 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:45:02.194 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:45:02.194 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:45:02.194 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:45:02.194 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:45:02.196 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:45:02.196 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(192935960<open>)]
2025-09-22 16:45:02.200 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(192935960<open>)] after transaction
2025-09-22 16:45:02.200 [http-nio-8081-exec-5] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:45:02.200 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:45:02.200 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1018054982<open>)] for JPA transaction
2025-09-22 16:45:02.201 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@707449f4]
2025-09-22 16:45:02.201 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:45:02.203 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:45:02.203 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:45:02.205 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:45:02.206 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:45:02.207 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:45:02.207 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:02.210 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:02.210 [http-nio-8081-exec-5] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:45:02.210 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:45:02.210 [http-nio-8081-exec-5] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:45:02.210 [http-nio-8081-exec-5] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:02.212 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:45:02.212 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1018054982<open>)]
2025-09-22 16:45:02.213 [http-nio-8081-exec-5] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1018054982<open>)] after transaction
2025-09-22 16:45:02.213 [http-nio-8081-exec-5] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:02.214 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:45:02.214 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@2b7fabcb]
2025-09-22 16:45:02.215 [http-nio-8081-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:45:02.437 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:45:02.437 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:45:02.437 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:45:03.022 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:45:03.022 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:45:03.022 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:45:03.023 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:45:03.025 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:45:03.027 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:45:03.030 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:45:03.030 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:45:03.031 [http-nio-8081-exec-6] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:45:03.032 [http-nio-8081-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:45:03.032 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:45:03.032 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:45:03.032 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:45:03.032 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:45:03.032 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1442825260<open>)] for JPA transaction
2025-09-22 16:45:03.032 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3f853148]
2025-09-22 16:45:03.033 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:45:03.034 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:45:03.036 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:45:03.037 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1442825260<open>)]
2025-09-22 16:45:03.038 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1442825260<open>)] after transaction
2025-09-22 16:45:03.038 [http-nio-8081-exec-6] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:45:03.038 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:45:03.038 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1659627238<open>)] for JPA transaction
2025-09-22 16:45:03.039 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@68378fbe]
2025-09-22 16:45:03.039 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:45:03.040 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:45:03.040 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:45:03.043 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:45:03.044 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:45:03.044 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:45:03.044 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:03.047 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:03.047 [http-nio-8081-exec-6] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:45:03.048 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:45:03.048 [http-nio-8081-exec-6] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:45:03.048 [http-nio-8081-exec-6] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:03.050 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:45:03.050 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1659627238<open>)]
2025-09-22 16:45:03.051 [http-nio-8081-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1659627238<open>)] after transaction
2025-09-22 16:45:03.051 [http-nio-8081-exec-6] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:03.053 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:45:03.053 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1ffbb1f8]
2025-09-22 16:45:03.053 [http-nio-8081-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:45:03.691 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:45:03.692 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:45:03.692 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:45:03.693 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:45:03.694 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:45:03.695 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:45:03.696 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:45:03.696 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:45:03.696 [http-nio-8081-exec-7] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:45:03.697 [http-nio-8081-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:45:03.697 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:45:03.697 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:45:03.697 [http-nio-8081-exec-7] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:45:03.697 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:45:03.698 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1060891421<open>)] for JPA transaction
2025-09-22 16:45:03.698 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@877dd1]
2025-09-22 16:45:03.698 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:45:03.699 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:45:03.701 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:45:03.703 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1060891421<open>)]
2025-09-22 16:45:03.705 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1060891421<open>)] after transaction
2025-09-22 16:45:03.705 [http-nio-8081-exec-7] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:45:03.705 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:45:03.705 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1139334242<open>)] for JPA transaction
2025-09-22 16:45:03.706 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@36126bd8]
2025-09-22 16:45:03.706 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:45:03.707 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:45:03.707 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:45:03.709 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:45:03.710 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:45:03.710 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:03.712 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:03.712 [http-nio-8081-exec-7] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:45:03.712 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:45:03.712 [http-nio-8081-exec-7] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:45:03.712 [http-nio-8081-exec-7] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:03.713 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:45:03.713 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1139334242<open>)]
2025-09-22 16:45:03.714 [http-nio-8081-exec-7] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1139334242<open>)] after transaction
2025-09-22 16:45:03.714 [http-nio-8081-exec-7] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:03.716 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:45:03.716 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@63546ee9]
2025-09-22 16:45:03.716 [http-nio-8081-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:45:04.339 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:45:04.340 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:45:04.340 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:45:04.342 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:45:04.345 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:45:04.349 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:45:04.371 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:45:04.371 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:45:04.371 [http-nio-8081-exec-8] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:45:04.372 [http-nio-8081-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:45:04.372 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:45:04.372 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:45:04.373 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:45:04.373 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:45:04.373 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(833361977<open>)] for JPA transaction
2025-09-22 16:45:04.373 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@2c182908]
2025-09-22 16:45:04.373 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:45:04.376 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:45:04.377 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:45:04.379 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(833361977<open>)]
2025-09-22 16:45:04.380 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(833361977<open>)] after transaction
2025-09-22 16:45:04.380 [http-nio-8081-exec-8] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:45:04.380 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:45:04.380 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(775375658<open>)] for JPA transaction
2025-09-22 16:45:04.381 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3f2778d1]
2025-09-22 16:45:04.381 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:45:04.382 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:45:04.382 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:45:04.384 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:45:04.385 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:45:04.385 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:04.386 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:04.386 [http-nio-8081-exec-8] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:45:04.386 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:45:04.386 [http-nio-8081-exec-8] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:45:04.386 [http-nio-8081-exec-8] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:04.387 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:45:04.387 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(775375658<open>)]
2025-09-22 16:45:04.388 [http-nio-8081-exec-8] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(775375658<open>)] after transaction
2025-09-22 16:45:04.388 [http-nio-8081-exec-8] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:04.389 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:45:04.389 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@7150d802]
2025-09-22 16:45:04.389 [http-nio-8081-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:45:06.678 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:45:06.679 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:45:06.679 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:45:06.679 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:45:06.680 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:45:06.681 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:45:06.683 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:45:06.683 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:45:06.683 [http-nio-8081-exec-10] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:45:06.684 [http-nio-8081-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:45:06.684 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:45:06.684 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:45:06.684 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:45:06.684 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:45:06.684 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1009612446<open>)] for JPA transaction
2025-09-22 16:45:06.684 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@1798e108]
2025-09-22 16:45:06.684 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:45:06.685 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:45:06.686 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:45:06.688 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1009612446<open>)]
2025-09-22 16:45:06.689 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1009612446<open>)] after transaction
2025-09-22 16:45:06.689 [http-nio-8081-exec-10] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:45:06.689 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:45:06.689 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(521141088<open>)] for JPA transaction
2025-09-22 16:45:06.690 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6e78c299]
2025-09-22 16:45:06.690 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:45:06.692 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:45:06.692 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:45:06.695 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:45:06.696 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:45:06.696 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:45:06.698 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:45:06.698 [http-nio-8081-exec-10] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:45:06.698 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:45:06.698 [http-nio-8081-exec-10] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:45:06.698 [http-nio-8081-exec-10] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:06.699 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:45:06.699 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(521141088<open>)]
2025-09-22 16:45:06.701 [http-nio-8081-exec-10] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(521141088<open>)] after transaction
2025-09-22 16:45:06.701 [http-nio-8081-exec-10] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:45:06.703 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:45:06.703 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@6e849509]
2025-09-22 16:45:06.704 [http-nio-8081-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:45:32.441 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:45:32.442 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:45:32.443 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:46:02.443 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:46:02.444 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:46:02.445 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:46:32.448 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:46:32.449 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:46:32.449 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:47:02.453 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:47:02.453 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:47:02.453 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:47:32.455 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:47:32.456 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:47:32.456 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2025-09-22 16:47:42.128 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@302a6e61: (connection has passed maxLifetime)
2025-09-22 16:47:42.140 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f34ec09
2025-09-22 16:47:43.785 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@339da0f0: (connection has passed maxLifetime)
2025-09-22 16:47:43.791 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e09e632
2025-09-22 16:47:43.827 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /weekly-reports/my
2025-09-22 16:47:43.827 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Processing authentication for request: /api/weekly-reports/my
2025-09-22 16:47:43.827 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token found in request /api/weekly-reports/my, length: 306
2025-09-22 16:47:43.829 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - JWT token validation successful for request: /api/weekly-reports/my
2025-09-22 16:47:43.830 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Token type: ACCESS for request: /api/weekly-reports/my
2025-09-22 16:47:43.831 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Extracted authorities from token: [ROLE_MANAGER] for roles: ROLE_MANAGER
2025-09-22 16:47:43.832 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtTokenProvider - Created authentication for user manager1 with authorities: [ROLE_MANAGER]
2025-09-22 16:47:43.832 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - Successfully authenticated user: manager1 for request: /api/weekly-reports/my
2025-09-22 16:47:43.832 [http-nio-8081-exec-9] DEBUG com.weeklyreport.security.JwtAuthenticationFilter - User authorities: [ROLE_MANAGER]
2025-09-22 16:47:43.834 [http-nio-8081-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /weekly-reports/my
2025-09-22 16:47:43.834 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/weekly-reports/my", parameters={}
2025-09-22 16:47:43.835 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.weeklyreport.controller.WeeklyReportController#getMyWeeklyReports()
2025-09-22 16:47:43.835 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍🔍🔍 /my 接口被调用 - 开始获取我的周报列表
2025-09-22 16:47:43.835 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.UserService.getUserProfile]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-22 16:47:43.836 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2129000846<open>)] for JPA transaction
2025-09-22 16:47:43.836 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b15063c]
2025-09-22 16:47:43.836 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.UserService - Fetching profile for user: manager1
2025-09-22 16:47:43.841 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.status,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-09-22 16:47:43.847 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:VARCHAR) <- [manager1]
2025-09-22 16:47:43.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [10004]
2025-09-22 16:47:43.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:TIMESTAMP) -> [2025-09-19T23:54:13]
2025-09-22 16:47:43.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:VARCHAR) -> [manager1@weeklyreport.com]
2025-09-22 16:47:43.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:VARCHAR) -> [$2a$12$STPa4ReKOHjrlSaO9845puqYDG/Xh.n8WSjCQSyQA1fIF9k50.dr6]
2025-09-22 16:47:43.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [MANAGER]
2025-09-22 16:47:43.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:ENUM) -> [ACTIVE]
2025-09-22 16:47:43.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:TIMESTAMP) -> [2025-09-22T16:41:16]
2025-09-22 16:47:43.850 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [manager1]
2025-09-22 16:47:43.851 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-09-22 16:47:43.851 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2129000846<open>)]
2025-09-22 16:47:43.852 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2129000846<open>)] after transaction
2025-09-22 16:47:43.852 [http-nio-8081-exec-9] INFO  c.weeklyreport.controller.WeeklyReportController - 🔍 当前认证用户信息 - ID: 10004, 用户名: manager1, 角色: MANAGER
2025-09-22 16:47:43.852 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-09-22 16:47:43.852 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1563844764<open>)] for JPA transaction
2025-09-22 16:47:43.853 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@68c51708]
2025-09-22 16:47:43.853 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍🔍🔍 Service层 - getDetailedWeeklyReportsByUserId 被调用，用户ID: 10004
2025-09-22 16:47:43.854 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
Hibernate: 
    /* <criteria> */ select
        wr1_0.id,
        wr1_0.additional_notes,
        wr1_0.admin_reviewer_id,
        wr1_0.ai_analysis_id,
        wr1_0.approval_status,
        wr1_0.created_at,
        wr1_0.development_opportunities,
        wr1_0.rejection_reason,
        wr1_0.report_week,
        wr1_0.title,
        wr1_0.updated_at,
        wr1_0.user_id 
    from
        weekly_reports wr1_0 
    where
        wr1_0.user_id=? 
    order by
        wr1_0.created_at desc
2025-09-22 16:47:43.856 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (2:VARCHAR) -> [333]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (3:BIGINT) -> [10002]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (4:BIGINT) -> [68]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (5:ENUM) -> [ADMIN_APPROVED]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (6:TIMESTAMP) -> [2025-09-22T16:00:49]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (7:VARCHAR) -> [33333]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (8:VARCHAR) -> [不合格]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (9:VARCHAR) -> [2025-09-22]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (10:VARCHAR) -> [33]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (11:TIMESTAMP) -> [2025-09-22T16:25:41]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (12:BIGINT) -> [10004]
2025-09-22 16:47:43.858 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层对比 - 基础查询（无JOIN）获取到的周报数量: 1
2025-09-22 16:47:43.861 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
Hibernate: 
    /* SELECT
        wr,
        (SELECT
            ai 
        FROM
            AIAnalysisResult ai 
        WHERE
            ai.reportId = wr.id 
            AND ai.entityType = 'WEEKLY_REPORT' 
        ORDER BY
            ai.completedAt DESC 
        LIMIT
            1) 
    FROM
        WeeklyReport wr 
    WHERE
        wr.userId = :userId 
    ORDER BY
        wr.createdAt DESC */ select
            wr1_0.id,
            wr1_0.additional_notes,
            wr1_0.admin_reviewer_id,
            wr1_0.ai_analysis_id,
            wr1_0.approval_status,
            wr1_0.created_at,
            wr1_0.development_opportunities,
            wr1_0.rejection_reason,
            wr1_0.report_week,
            wr1_0.title,
            wr1_0.updated_at,
            wr1_0.user_id,
            (select
                ar1_0.id 
            from
                ai_analysis_results ar1_0 
            where
                ar1_0.report_id=wr1_0.id 
                and ar1_0.entity_type='WEEKLY_REPORT' 
            order by
                ar1_0.completed_at desc 
            limit
                1) 
        from
            weekly_reports wr1_0 
        where
            wr1_0.user_id=? 
        order by
            wr1_0.created_at desc
2025-09-22 16:47:43.863 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.bind - binding parameter (1:BIGINT) <- [10004]
2025-09-22 16:47:43.864 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (1:BIGINT) -> [127]
2025-09-22 16:47:43.864 [http-nio-8081-exec-9] TRACE org.hibernate.orm.jdbc.extract - extracted value (13:BIGINT) -> [67]
2025-09-22 16:47:43.864 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - 🔍 Service层 - 从Repository获取到的周报数量（含AI）: 1
2025-09-22 16:47:43.864 [http-nio-8081-exec-9] INFO  com.weeklyreport.service.WeeklyReportService - ✅ 数据一致性检查通过：基础查询和AI查询返回相同数量的周报
2025-09-22 16:47:43.864 [http-nio-8081-exec-9] ERROR com.weeklyreport.service.WeeklyReportService - 获取详细周报列表失败
java.lang.ClassCastException: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.lambda$getDetailedWeeklyReportsByUserId$15(WeeklyReportService.java:664)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:699)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:47:43.866 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-09-22 16:47:43.866 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1563844764<open>)]
2025-09-22 16:47:43.866 [http-nio-8081-exec-9] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1563844764<open>)] after transaction
2025-09-22 16:47:43.866 [http-nio-8081-exec-9] ERROR c.weeklyreport.controller.WeeklyReportController - 获取我的周报列表失败
java.lang.RuntimeException: 获取详细周报列表失败: class java.lang.Long cannot be cast to class com.weeklyreport.entity.AIAnalysisResult (java.lang.Long is in module java.base of loader 'bootstrap'; com.weeklyreport.entity.AIAnalysisResult is in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @568db2f2)
	at com.weeklyreport.service.WeeklyReportService.getDetailedWeeklyReportsByUserId(WeeklyReportService.java:703)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.weeklyreport.service.WeeklyReportService$$SpringCGLIB$$0.getDetailedWeeklyReportsByUserId(<generated>)
	at com.weeklyreport.controller.WeeklyReportController.getMyWeeklyReports(WeeklyReportController.java:519)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.weeklyreport.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:105)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-22 16:47:43.868 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-22 16:47:43.868 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor - Writing [com.weeklyreport.dto.ApiResponse@1b842c73]
2025-09-22 16:47:43.869 [http-nio-8081-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-22 16:47:54.657 [WeeklyReportHikariCP-Dev connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - WeeklyReportHikariCP-Dev - Closing connection com.mysql.cj.jdbc.ConnectionImpl@7117645a: (connection has passed maxLifetime)
2025-09-22 16:47:54.664 [WeeklyReportHikariCP-Dev connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Added connection com.mysql.cj.jdbc.ConnectionImpl@618b1d56
2025-09-22 16:48:02.457 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Before cleanup stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:48:02.458 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - After cleanup  stats (total=3, active=0, idle=3, waiting=0)
2025-09-22 16:48:02.458 [WeeklyReportHikariCP-Dev housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - WeeklyReportHikariCP-Dev - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
